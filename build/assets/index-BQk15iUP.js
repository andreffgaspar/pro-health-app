var KQ=Object.defineProperty;var _$=t=>{throw TypeError(t)};var YQ=(t,e,r)=>e in t?KQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var de=(t,e,r)=>YQ(t,typeof e!="symbol"?e+"":e,r),sN=(t,e,r)=>e.has(t)||_$("Cannot "+r);var m=(t,e,r)=>(sN(t,e,"read from private field"),r?r.call(t):e.get(t)),k=(t,e,r)=>e.has(t)?_$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),C=(t,e,r,n)=>(sN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),M=(t,e,r)=>(sN(t,e,"access private method"),r);var fn=(t,e,r,n)=>({set _(i){C(t,e,i,r)},get _(){return m(t,e,n)}});function XQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var p6={exports:{}},ZA={},m6={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=Symbol.for("react.element"),QQ=Symbol.for("react.portal"),JQ=Symbol.for("react.fragment"),eJ=Symbol.for("react.strict_mode"),tJ=Symbol.for("react.profiler"),rJ=Symbol.for("react.provider"),nJ=Symbol.for("react.context"),iJ=Symbol.for("react.forward_ref"),sJ=Symbol.for("react.suspense"),aJ=Symbol.for("react.memo"),oJ=Symbol.for("react.lazy"),S$=Symbol.iterator;function lJ(t){return t===null||typeof t!="object"?null:(t=S$&&t[S$]||t["@@iterator"],typeof t=="function"?t:null)}var g6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v6=Object.assign,y6={};function Hv(t,e,r){this.props=t,this.context=e,this.refs=y6,this.updater=r||g6}Hv.prototype.isReactComponent={};Hv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x6(){}x6.prototype=Hv.prototype;function _M(t,e,r){this.props=t,this.context=e,this.refs=y6,this.updater=r||g6}var SM=_M.prototype=new x6;SM.constructor=_M;v6(SM,Hv.prototype);SM.isPureReactComponent=!0;var j$=Array.isArray,b6=Object.prototype.hasOwnProperty,jM={current:null},w6={key:!0,ref:!0,__self:!0,__source:!0};function _6(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)b6.call(e,n)&&!w6.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Iw,type:t,key:s,ref:a,props:i,_owner:jM.current}}function cJ(t,e){return{$$typeof:Iw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function AM(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iw}function uJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var A$=/\/+/g;function aN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uJ(""+t.key):e.toString(36)}function A1(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Iw:case QQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+aN(a,0):n,j$(i)?(r="",t!=null&&(r=t.replace(A$,"$&/")+"/"),A1(i,e,r,"",function(u){return u})):i!=null&&(AM(i)&&(i=cJ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A$,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",j$(t))for(var o=0;o<t.length;o++){s=t[o];var c=n+aN(s,o);a+=A1(s,e,r,c,i)}else if(c=lJ(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=n+aN(s,o++),a+=A1(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function w_(t,e,r){if(t==null)return t;var n=[],i=0;return A1(t,n,"","",function(s){return e.call(r,s,i++)}),n}function dJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ai={current:null},E1={transition:null},hJ={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:E1,ReactCurrentOwner:jM};function S6(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:w_,forEach:function(t,e,r){w_(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return w_(t,function(){e++}),e},toArray:function(t){return w_(t,function(e){return e})||[]},only:function(t){if(!AM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=Hv;gt.Fragment=JQ;gt.Profiler=tJ;gt.PureComponent=_M;gt.StrictMode=eJ;gt.Suspense=sJ;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hJ;gt.act=S6;gt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=v6({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=jM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)b6.call(e,c)&&!w6.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Iw,type:t.type,key:i,ref:s,props:n,_owner:a}};gt.createContext=function(t){return t={$$typeof:nJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rJ,_context:t},t.Consumer=t};gt.createElement=_6;gt.createFactory=function(t){var e=_6.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:iJ,render:t}};gt.isValidElement=AM;gt.lazy=function(t){return{$$typeof:oJ,_payload:{_status:-1,_result:t},_init:dJ}};gt.memo=function(t,e){return{$$typeof:aJ,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=E1.transition;E1.transition={};try{t()}finally{E1.transition=e}};gt.unstable_act=S6;gt.useCallback=function(t,e){return Ai.current.useCallback(t,e)};gt.useContext=function(t){return Ai.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return Ai.current.useDeferredValue(t)};gt.useEffect=function(t,e){return Ai.current.useEffect(t,e)};gt.useId=function(){return Ai.current.useId()};gt.useImperativeHandle=function(t,e,r){return Ai.current.useImperativeHandle(t,e,r)};gt.useInsertionEffect=function(t,e){return Ai.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return Ai.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return Ai.current.useMemo(t,e)};gt.useReducer=function(t,e,r){return Ai.current.useReducer(t,e,r)};gt.useRef=function(t){return Ai.current.useRef(t)};gt.useState=function(t){return Ai.current.useState(t)};gt.useSyncExternalStore=function(t,e,r){return Ai.current.useSyncExternalStore(t,e,r)};gt.useTransition=function(){return Ai.current.useTransition()};gt.version="18.3.1";m6.exports=gt;var j=m6.exports;const z=Ft(j),EM=XQ({__proto__:null,default:z},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fJ=j,pJ=Symbol.for("react.element"),mJ=Symbol.for("react.fragment"),gJ=Object.prototype.hasOwnProperty,vJ=fJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yJ={key:!0,ref:!0,__self:!0,__source:!0};function j6(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)gJ.call(e,n)&&!yJ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pJ,type:t,key:s,ref:a,props:i,_owner:vJ.current}}ZA.Fragment=mJ;ZA.jsx=j6;ZA.jsxs=j6;p6.exports=ZA;var l=p6.exports,A6={exports:{}},Ts={},E6={exports:{}},C6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,U){var Y=R.length;R.push(U);e:for(;0<Y;){var J=Y-1>>>1,X=R[J];if(0<i(X,U))R[J]=U,R[Y]=X,Y=J;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],Y=R.pop();if(Y!==U){R[0]=Y;e:for(var J=0,X=R.length,ee=X>>>1;J<ee;){var ue=2*(J+1)-1,we=R[ue],je=ue+1,V=R[je];if(0>i(we,Y))je<X&&0>i(V,we)?(R[J]=V,R[je]=Y,J=je):(R[J]=we,R[ue]=Y,J=ue);else if(je<X&&0>i(V,Y))R[J]=V,R[je]=Y,J=je;else break e}}return U}function i(R,U){var Y=R.sortIndex-U.sortIndex;return Y!==0?Y:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=r(u)}}function S(R){if(g=!1,w(R),!v)if(r(c)!==null)v=!0,L(_);else{var U=r(u);U!==null&&P(S,U.startTime-R)}}function _(R,U){v=!1,g&&(g=!1,y(N),N=-1),p=!0;var Y=f;try{for(w(U),h=r(c);h!==null&&(!(h.expirationTime>U)||R&&!O());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var X=J(h.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(c)&&n(c),w(U)}else n(c);h=r(c)}if(h!==null)var ee=!0;else{var ue=r(u);ue!==null&&P(S,ue.startTime-U),ee=!1}return ee}finally{h=null,f=Y,p=!1}}var A=!1,E=null,N=-1,T=5,D=-1;function O(){return!(t.unstable_now()-D<T)}function I(){if(E!==null){var R=t.unstable_now();D=R;var U=!0;try{U=E(!0,R)}finally{U?F():(A=!1,E=null)}}else A=!1}var F;if(typeof b=="function")F=function(){b(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=I,F=function(){B.postMessage(null)}}else F=function(){x(I,0)};function L(R){E=R,A||(A=!0,F())}function P(R,U){N=x(function(){R(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var Y=f;f=U;try{return R()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=f;f=R;try{return U()}finally{f=Y}},t.unstable_scheduleCallback=function(R,U,Y){var J=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?J+Y:J):Y=J,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,R={id:d++,callback:U,priorityLevel:R,startTime:Y,expirationTime:X,sortIndex:-1},Y>J?(R.sortIndex=Y,e(u,R),r(c)===null&&R===r(u)&&(g?(y(N),N=-1):g=!0,P(S,Y-J))):(R.sortIndex=X,e(c,R),v||p||(v=!0,L(_))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var U=f;return function(){var Y=f;f=U;try{return R.apply(this,arguments)}finally{f=Y}}}})(C6);E6.exports=C6;var xJ=E6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bJ=j,Ps=xJ;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N6=new Set,Hx={};function sp(t,e){Yg(t,e),Yg(t+"Capture",e)}function Yg(t,e){for(Hx[t]=e,t=0;t<e.length;t++)N6.add(e[t])}var Pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VP=Object.prototype.hasOwnProperty,wJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E$={},C$={};function _J(t){return VP.call(C$,t)?!0:VP.call(E$,t)?!1:wJ.test(t)?C$[t]=!0:(E$[t]=!0,!1)}function SJ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jJ(t,e,r,n){if(e===null||typeof e>"u"||SJ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ei(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new Ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new Ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new Ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new Ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new Ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new Ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new Ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new Ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new Ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var CM=/[\-:]([a-z])/g;function NM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(CM,NM);Bn[e]=new Ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(CM,NM);Bn[e]=new Ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(CM,NM);Bn[e]=new Ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new Ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new Ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new Ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function PM(t,e,r,n){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jJ(e,r,i,n)&&(r=null),n||i===null?_J(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Bc=bJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,__=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),TM=Symbol.for("react.strict_mode"),qP=Symbol.for("react.profiler"),P6=Symbol.for("react.provider"),T6=Symbol.for("react.context"),kM=Symbol.for("react.forward_ref"),GP=Symbol.for("react.suspense"),KP=Symbol.for("react.suspense_list"),OM=Symbol.for("react.memo"),iu=Symbol.for("react.lazy"),k6=Symbol.for("react.offscreen"),N$=Symbol.iterator;function yy(t){return t===null||typeof t!="object"?null:(t=N$&&t[N$]||t["@@iterator"],typeof t=="function"?t:null)}var gr=Object.assign,oN;function Xy(t){if(oN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);oN=e&&e[1]||""}return`
`+oN+t}var lN=!1;function cN(t,e){if(!t||lN)return"";lN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{lN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xy(t):""}function AJ(t){switch(t.tag){case 5:return Xy(t.type);case 16:return Xy("Lazy");case 13:return Xy("Suspense");case 19:return Xy("SuspenseList");case 0:case 2:case 15:return t=cN(t.type,!1),t;case 11:return t=cN(t.type.render,!1),t;case 1:return t=cN(t.type,!0),t;default:return""}}function YP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zp:return"Fragment";case Xp:return"Portal";case qP:return"Profiler";case TM:return"StrictMode";case GP:return"Suspense";case KP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T6:return(t.displayName||"Context")+".Consumer";case P6:return(t._context.displayName||"Context")+".Provider";case kM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OM:return e=t.displayName||null,e!==null?e:YP(t.type)||"Memo";case iu:e=t._payload,t=t._init;try{return YP(t(e))}catch{}}return null}function EJ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YP(e);case 8:return e===TM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CJ(t){var e=O6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function S_(t){t._valueTracker||(t._valueTracker=CJ(t))}function M6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=O6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function XP(t,e){var r=e.checked;return gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function P$(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Sd(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D6(t,e){e=e.checked,e!=null&&PM(t,"checked",e,!1)}function ZP(t,e){D6(t,e);var r=Sd(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?QP(t,e.type,r):e.hasOwnProperty("defaultValue")&&QP(t,e.type,Sd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function T$(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function QP(t,e,r){(e!=="number"||jS(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zy=Array.isArray;function pm(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Sd(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function JP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return gr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k$(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(pe(92));if(Zy(r)){if(1<r.length)throw Error(pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Sd(r)}}function R6(t,e){var r=Sd(e.value),n=Sd(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function O$(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var j_,$6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(j_=j_||document.createElement("div"),j_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=j_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wx(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Sx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NJ=["Webkit","ms","Moz","O"];Object.keys(Sx).forEach(function(t){NJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sx[e]=Sx[t]})});function L6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Sx.hasOwnProperty(t)&&Sx[t]?(""+e).trim():e+"px"}function F6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=L6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var PJ=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tT(t,e){if(e){if(PJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function rT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nT=null;function MM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iT=null,mm=null,gm=null;function M$(t){if(t=Fw(t)){if(typeof iT!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=rE(e),iT(t.stateNode,t.type,e))}}function z6(t){mm?gm?gm.push(t):gm=[t]:mm=t}function B6(){if(mm){var t=mm,e=gm;if(gm=mm=null,M$(t),e)for(t=0;t<e.length;t++)M$(e[t])}}function U6(t,e){return t(e)}function H6(){}var uN=!1;function W6(t,e,r){if(uN)return t(e,r);uN=!0;try{return U6(t,e,r)}finally{uN=!1,(mm!==null||gm!==null)&&(H6(),B6())}}function Vx(t,e){var r=t.stateNode;if(r===null)return null;var n=rE(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var sT=!1;if(Pc)try{var xy={};Object.defineProperty(xy,"passive",{get:function(){sT=!0}}),window.addEventListener("test",xy,xy),window.removeEventListener("test",xy,xy)}catch{sT=!1}function TJ(t,e,r,n,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var jx=!1,AS=null,ES=!1,aT=null,kJ={onError:function(t){jx=!0,AS=t}};function OJ(t,e,r,n,i,s,a,o,c){jx=!1,AS=null,TJ.apply(kJ,arguments)}function MJ(t,e,r,n,i,s,a,o,c){if(OJ.apply(this,arguments),jx){if(jx){var u=AS;jx=!1,AS=null}else throw Error(pe(198));ES||(ES=!0,aT=u)}}function ap(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function V6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D$(t){if(ap(t)!==t)throw Error(pe(188))}function DJ(t){var e=t.alternate;if(!e){if(e=ap(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return D$(i),t;if(s===n)return D$(i),e;s=s.sibling}throw Error(pe(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function q6(t){return t=DJ(t),t!==null?G6(t):null}function G6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G6(t);if(e!==null)return e;t=t.sibling}return null}var K6=Ps.unstable_scheduleCallback,R$=Ps.unstable_cancelCallback,RJ=Ps.unstable_shouldYield,IJ=Ps.unstable_requestPaint,Er=Ps.unstable_now,$J=Ps.unstable_getCurrentPriorityLevel,DM=Ps.unstable_ImmediatePriority,Y6=Ps.unstable_UserBlockingPriority,CS=Ps.unstable_NormalPriority,LJ=Ps.unstable_LowPriority,X6=Ps.unstable_IdlePriority,QA=null,el=null;function FJ(t){if(el&&typeof el.onCommitFiberRoot=="function")try{el.onCommitFiberRoot(QA,t,void 0,(t.current.flags&128)===128)}catch{}}var Xa=Math.clz32?Math.clz32:UJ,zJ=Math.log,BJ=Math.LN2;function UJ(t){return t>>>=0,t===0?32:31-(zJ(t)/BJ|0)|0}var A_=64,E_=4194304;function Qy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function NS(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Qy(o):(s&=a,s!==0&&(n=Qy(s)))}else a=r&~i,a!==0?n=Qy(a):s!==0&&(n=Qy(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xa(e),i=1<<r,n|=t[r],e&=~i;return n}function HJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WJ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Xa(s),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=HJ(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function oT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z6(){var t=A_;return A_<<=1,!(A_&4194240)&&(A_=64),t}function dN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $w(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xa(e),t[e]=r}function VJ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Xa(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function RM(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var kt=0;function Q6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J6,IM,eU,tU,rU,lT=!1,C_=[],ud=null,dd=null,hd=null,qx=new Map,Gx=new Map,ou=[],qJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I$(t,e){switch(t){case"focusin":case"focusout":ud=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":hd=null;break;case"pointerover":case"pointerout":qx.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gx.delete(e.pointerId)}}function by(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fw(e),e!==null&&IM(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GJ(t,e,r,n,i){switch(e){case"focusin":return ud=by(ud,t,e,r,n,i),!0;case"dragenter":return dd=by(dd,t,e,r,n,i),!0;case"mouseover":return hd=by(hd,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return qx.set(s,by(qx.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gx.set(s,by(Gx.get(s)||null,t,e,r,n,i)),!0}return!1}function nU(t){var e=dh(t.target);if(e!==null){var r=ap(e);if(r!==null){if(e=r.tag,e===13){if(e=V6(r),e!==null){t.blockedOn=e,rU(t.priority,function(){eU(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function C1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=cT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);nT=n,r.target.dispatchEvent(n),nT=null}else return e=Fw(r),e!==null&&IM(e),t.blockedOn=r,!1;e.shift()}return!0}function $$(t,e,r){C1(t)&&r.delete(e)}function KJ(){lT=!1,ud!==null&&C1(ud)&&(ud=null),dd!==null&&C1(dd)&&(dd=null),hd!==null&&C1(hd)&&(hd=null),qx.forEach($$),Gx.forEach($$)}function wy(t,e){t.blockedOn===e&&(t.blockedOn=null,lT||(lT=!0,Ps.unstable_scheduleCallback(Ps.unstable_NormalPriority,KJ)))}function Kx(t){function e(i){return wy(i,t)}if(0<C_.length){wy(C_[0],t);for(var r=1;r<C_.length;r++){var n=C_[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ud!==null&&wy(ud,t),dd!==null&&wy(dd,t),hd!==null&&wy(hd,t),qx.forEach(e),Gx.forEach(e),r=0;r<ou.length;r++)n=ou[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ou.length&&(r=ou[0],r.blockedOn===null);)nU(r),r.blockedOn===null&&ou.shift()}var vm=Bc.ReactCurrentBatchConfig,PS=!0;function YJ(t,e,r,n){var i=kt,s=vm.transition;vm.transition=null;try{kt=1,$M(t,e,r,n)}finally{kt=i,vm.transition=s}}function XJ(t,e,r,n){var i=kt,s=vm.transition;vm.transition=null;try{kt=4,$M(t,e,r,n)}finally{kt=i,vm.transition=s}}function $M(t,e,r,n){if(PS){var i=cT(t,e,r,n);if(i===null)wN(t,e,n,TS,r),I$(t,n);else if(GJ(i,t,e,r,n))n.stopPropagation();else if(I$(t,n),e&4&&-1<qJ.indexOf(t)){for(;i!==null;){var s=Fw(i);if(s!==null&&J6(s),s=cT(t,e,r,n),s===null&&wN(t,e,n,TS,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else wN(t,e,n,null,r)}}var TS=null;function cT(t,e,r,n){if(TS=null,t=MM(n),t=dh(t),t!==null)if(e=ap(t),e===null)t=null;else if(r=e.tag,r===13){if(t=V6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return TS=t,null}function iU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($J()){case DM:return 1;case Y6:return 4;case CS:case LJ:return 16;case X6:return 536870912;default:return 16}default:return 16}}var sd=null,LM=null,N1=null;function sU(){if(N1)return N1;var t,e=LM,r=e.length,n,i="value"in sd?sd.value:sd.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return N1=i.slice(t,1<n?1-n:void 0)}function P1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function N_(){return!0}function L$(){return!1}function ks(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?N_:L$,this.isPropagationStopped=L$,this}return gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=N_)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=N_)},persist:function(){},isPersistent:N_}),e}var Wv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FM=ks(Wv),Lw=gr({},Wv,{view:0,detail:0}),ZJ=ks(Lw),hN,fN,_y,JA=gr({},Lw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_y&&(_y&&t.type==="mousemove"?(hN=t.screenX-_y.screenX,fN=t.screenY-_y.screenY):fN=hN=0,_y=t),hN)},movementY:function(t){return"movementY"in t?t.movementY:fN}}),F$=ks(JA),QJ=gr({},JA,{dataTransfer:0}),JJ=ks(QJ),eee=gr({},Lw,{relatedTarget:0}),pN=ks(eee),tee=gr({},Wv,{animationName:0,elapsedTime:0,pseudoElement:0}),ree=ks(tee),nee=gr({},Wv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iee=ks(nee),see=gr({},Wv,{data:0}),z$=ks(see),aee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lee[t])?!!e[t]:!1}function zM(){return cee}var uee=gr({},Lw,{key:function(t){if(t.key){var e=aee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=P1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zM,charCode:function(t){return t.type==="keypress"?P1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?P1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dee=ks(uee),hee=gr({},JA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B$=ks(hee),fee=gr({},Lw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zM}),pee=ks(fee),mee=gr({},Wv,{propertyName:0,elapsedTime:0,pseudoElement:0}),gee=ks(mee),vee=gr({},JA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yee=ks(vee),xee=[9,13,27,32],BM=Pc&&"CompositionEvent"in window,Ax=null;Pc&&"documentMode"in document&&(Ax=document.documentMode);var bee=Pc&&"TextEvent"in window&&!Ax,aU=Pc&&(!BM||Ax&&8<Ax&&11>=Ax),U$=" ",H$=!1;function oU(t,e){switch(t){case"keyup":return xee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qp=!1;function wee(t,e){switch(t){case"compositionend":return lU(e);case"keypress":return e.which!==32?null:(H$=!0,U$);case"textInput":return t=e.data,t===U$&&H$?null:t;default:return null}}function _ee(t,e){if(Qp)return t==="compositionend"||!BM&&oU(t,e)?(t=sU(),N1=LM=sd=null,Qp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aU&&e.locale!=="ko"?null:e.data;default:return null}}var See={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!See[t.type]:e==="textarea"}function cU(t,e,r,n){z6(n),e=kS(e,"onChange"),0<e.length&&(r=new FM("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ex=null,Yx=null;function jee(t){bU(t,0)}function eE(t){var e=tm(t);if(M6(e))return t}function Aee(t,e){if(t==="change")return e}var uU=!1;if(Pc){var mN;if(Pc){var gN="oninput"in document;if(!gN){var V$=document.createElement("div");V$.setAttribute("oninput","return;"),gN=typeof V$.oninput=="function"}mN=gN}else mN=!1;uU=mN&&(!document.documentMode||9<document.documentMode)}function q$(){Ex&&(Ex.detachEvent("onpropertychange",dU),Yx=Ex=null)}function dU(t){if(t.propertyName==="value"&&eE(Yx)){var e=[];cU(e,Yx,t,MM(t)),W6(jee,e)}}function Eee(t,e,r){t==="focusin"?(q$(),Ex=e,Yx=r,Ex.attachEvent("onpropertychange",dU)):t==="focusout"&&q$()}function Cee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eE(Yx)}function Nee(t,e){if(t==="click")return eE(e)}function Pee(t,e){if(t==="input"||t==="change")return eE(e)}function Tee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qa=typeof Object.is=="function"?Object.is:Tee;function Xx(t,e){if(Qa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!VP.call(e,i)||!Qa(t[i],e[i]))return!1}return!0}function G$(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K$(t,e){var r=G$(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=G$(r)}}function hU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fU(){for(var t=window,e=jS();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jS(t.document)}return e}function UM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kee(t){var e=fU(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hU(r.ownerDocument.documentElement,r)){if(n!==null&&UM(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=K$(r,s);var a=K$(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Oee=Pc&&"documentMode"in document&&11>=document.documentMode,Jp=null,uT=null,Cx=null,dT=!1;function Y$(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dT||Jp==null||Jp!==jS(n)||(n=Jp,"selectionStart"in n&&UM(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cx&&Xx(Cx,n)||(Cx=n,n=kS(uT,"onSelect"),0<n.length&&(e=new FM("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Jp)))}function P_(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var em={animationend:P_("Animation","AnimationEnd"),animationiteration:P_("Animation","AnimationIteration"),animationstart:P_("Animation","AnimationStart"),transitionend:P_("Transition","TransitionEnd")},vN={},pU={};Pc&&(pU=document.createElement("div").style,"AnimationEvent"in window||(delete em.animationend.animation,delete em.animationiteration.animation,delete em.animationstart.animation),"TransitionEvent"in window||delete em.transitionend.transition);function tE(t){if(vN[t])return vN[t];if(!em[t])return t;var e=em[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in pU)return vN[t]=e[r];return t}var mU=tE("animationend"),gU=tE("animationiteration"),vU=tE("animationstart"),yU=tE("transitionend"),xU=new Map,X$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Od(t,e){xU.set(t,e),sp(e,[t])}for(var yN=0;yN<X$.length;yN++){var xN=X$[yN],Mee=xN.toLowerCase(),Dee=xN[0].toUpperCase()+xN.slice(1);Od(Mee,"on"+Dee)}Od(mU,"onAnimationEnd");Od(gU,"onAnimationIteration");Od(vU,"onAnimationStart");Od("dblclick","onDoubleClick");Od("focusin","onFocus");Od("focusout","onBlur");Od(yU,"onTransitionEnd");Yg("onMouseEnter",["mouseout","mouseover"]);Yg("onMouseLeave",["mouseout","mouseover"]);Yg("onPointerEnter",["pointerout","pointerover"]);Yg("onPointerLeave",["pointerout","pointerover"]);sp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sp("onBeforeInput",["compositionend","keypress","textInput","paste"]);sp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ree=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jy));function Z$(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MJ(n,e,void 0,t),t.currentTarget=null}function bU(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Z$(i,o,u),s=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Z$(i,o,u),s=c}}}if(ES)throw t=aT,ES=!1,aT=null,t}function Zt(t,e){var r=e[gT];r===void 0&&(r=e[gT]=new Set);var n=t+"__bubble";r.has(n)||(wU(e,t,2,!1),r.add(n))}function bN(t,e,r){var n=0;e&&(n|=4),wU(r,t,n,e)}var T_="_reactListening"+Math.random().toString(36).slice(2);function Zx(t){if(!t[T_]){t[T_]=!0,N6.forEach(function(r){r!=="selectionchange"&&(Ree.has(r)||bN(r,!1,t),bN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[T_]||(e[T_]=!0,bN("selectionchange",!1,e))}}function wU(t,e,r,n){switch(iU(e)){case 1:var i=YJ;break;case 4:i=XJ;break;default:i=$M}r=i.bind(null,e,r,t),i=void 0,!sT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function wN(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=dh(o),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}o=o.parentNode}}n=n.return}W6(function(){var u=s,d=MM(r),h=[];e:{var f=xU.get(t);if(f!==void 0){var p=FM,v=t;switch(t){case"keypress":if(P1(r)===0)break e;case"keydown":case"keyup":p=dee;break;case"focusin":v="focus",p=pN;break;case"focusout":v="blur",p=pN;break;case"beforeblur":case"afterblur":p=pN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=F$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pee;break;case mU:case gU:case vU:p=ree;break;case yU:p=gee;break;case"scroll":p=ZJ;break;case"wheel":p=yee;break;case"copy":case"cut":case"paste":p=iee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B$}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Vx(b,y),S!=null&&g.push(Qx(b,S,w)))),x)break;b=b.return}0<g.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==nT&&(v=r.relatedTarget||r.fromElement)&&(dh(v)||v[Tc]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?dh(v):null,v!==null&&(x=ap(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=F$,S="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=B$,S="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?f:tm(p),w=v==null?f:tm(v),f=new g(S,b+"leave",p,r,d),f.target=x,f.relatedTarget=w,S=null,dh(d)===u&&(g=new g(y,b+"enter",v,r,d),g.target=w,g.relatedTarget=x,S=g),x=S,p&&v)t:{for(g=p,y=v,b=0,w=g;w;w=Ap(w))b++;for(w=0,S=y;S;S=Ap(S))w++;for(;0<b-w;)g=Ap(g),b--;for(;0<w-b;)y=Ap(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ap(g),y=Ap(y)}g=null}else g=null;p!==null&&Q$(h,f,p,g,!1),v!==null&&x!==null&&Q$(h,x,v,g,!0)}}e:{if(f=u?tm(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=Aee;else if(W$(f))if(uU)_=Pee;else{_=Cee;var A=Eee}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Nee);if(_&&(_=_(t,u))){cU(h,_,r,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&QP(f,"number",f.value)}switch(A=u?tm(u):window,t){case"focusin":(W$(A)||A.contentEditable==="true")&&(Jp=A,uT=u,Cx=null);break;case"focusout":Cx=uT=Jp=null;break;case"mousedown":dT=!0;break;case"contextmenu":case"mouseup":case"dragend":dT=!1,Y$(h,r,d);break;case"selectionchange":if(Oee)break;case"keydown":case"keyup":Y$(h,r,d)}var E;if(BM)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Qp?oU(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(aU&&r.locale!=="ko"&&(Qp||N!=="onCompositionStart"?N==="onCompositionEnd"&&Qp&&(E=sU()):(sd=d,LM="value"in sd?sd.value:sd.textContent,Qp=!0)),A=kS(u,N),0<A.length&&(N=new z$(N,t,null,r,d),h.push({event:N,listeners:A}),E?N.data=E:(E=lU(r),E!==null&&(N.data=E)))),(E=bee?wee(t,r):_ee(t,r))&&(u=kS(u,"onBeforeInput"),0<u.length&&(d=new z$("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}bU(h,e)})}function Qx(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kS(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vx(t,r),s!=null&&n.unshift(Qx(t,s,i)),s=Vx(t,e),s!=null&&n.push(Qx(t,s,i))),t=t.return}return n}function Ap(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q$(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=Vx(r,s),c!=null&&a.unshift(Qx(r,c,o))):i||(c=Vx(r,s),c!=null&&a.push(Qx(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Iee=/\r\n?/g,$ee=/\u0000|\uFFFD/g;function J$(t){return(typeof t=="string"?t:""+t).replace(Iee,`
`).replace($ee,"")}function k_(t,e,r){if(e=J$(e),J$(t)!==e&&r)throw Error(pe(425))}function OS(){}var hT=null,fT=null;function pT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mT=typeof setTimeout=="function"?setTimeout:void 0,Lee=typeof clearTimeout=="function"?clearTimeout:void 0,eL=typeof Promise=="function"?Promise:void 0,Fee=typeof queueMicrotask=="function"?queueMicrotask:typeof eL<"u"?function(t){return eL.resolve(null).then(t).catch(zee)}:mT;function zee(t){setTimeout(function(){throw t})}function _N(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Kx(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Kx(e)}function fd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Vv=Math.random().toString(36).slice(2),Bo="__reactFiber$"+Vv,Jx="__reactProps$"+Vv,Tc="__reactContainer$"+Vv,gT="__reactEvents$"+Vv,Bee="__reactListeners$"+Vv,Uee="__reactHandles$"+Vv;function dh(t){var e=t[Bo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Tc]||r[Bo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tL(t);t!==null;){if(r=t[Bo])return r;t=tL(t)}return e}t=r,r=t.parentNode}return null}function Fw(t){return t=t[Bo]||t[Tc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function rE(t){return t[Jx]||null}var vT=[],rm=-1;function Md(t){return{current:t}}function er(t){0>rm||(t.current=vT[rm],vT[rm]=null,rm--)}function Wt(t,e){rm++,vT[rm]=t.current,t.current=e}var jd={},si=Md(jd),Vi=Md(!1),$f=jd;function Xg(t,e){var r=t.type.contextTypes;if(!r)return jd;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qi(t){return t=t.childContextTypes,t!=null}function MS(){er(Vi),er(si)}function rL(t,e,r){if(si.current!==jd)throw Error(pe(168));Wt(si,e),Wt(Vi,r)}function _U(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(pe(108,EJ(t)||"Unknown",i));return gr({},r,n)}function DS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jd,$f=si.current,Wt(si,t),Wt(Vi,Vi.current),!0}function nL(t,e,r){var n=t.stateNode;if(!n)throw Error(pe(169));r?(t=_U(t,e,$f),n.__reactInternalMemoizedMergedChildContext=t,er(Vi),er(si),Wt(si,t)):er(Vi),Wt(Vi,r)}var Dl=null,nE=!1,SN=!1;function SU(t){Dl===null?Dl=[t]:Dl.push(t)}function Hee(t){nE=!0,SU(t)}function Dd(){if(!SN&&Dl!==null){SN=!0;var t=0,e=kt;try{var r=Dl;for(kt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Dl=null,nE=!1}catch(i){throw Dl!==null&&(Dl=Dl.slice(t+1)),K6(DM,Dd),i}finally{kt=e,SN=!1}}return null}var nm=[],im=0,RS=null,IS=0,qs=[],Gs=0,Lf=null,vc=1,yc="";function Xd(t,e){nm[im++]=IS,nm[im++]=RS,RS=t,IS=e}function jU(t,e,r){qs[Gs++]=vc,qs[Gs++]=yc,qs[Gs++]=Lf,Lf=t;var n=vc;t=yc;var i=32-Xa(n)-1;n&=~(1<<i),r+=1;var s=32-Xa(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,vc=1<<32-Xa(e)+i|r<<i|n,yc=s+t}else vc=1<<s|r<<i|n,yc=t}function HM(t){t.return!==null&&(Xd(t,1),jU(t,1,0))}function WM(t){for(;t===RS;)RS=nm[--im],nm[im]=null,IS=nm[--im],nm[im]=null;for(;t===Lf;)Lf=qs[--Gs],qs[Gs]=null,yc=qs[--Gs],qs[Gs]=null,vc=qs[--Gs],qs[Gs]=null}var js=null,Ss=null,or=!1,Wa=null;function AU(t,e){var r=Ys(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function iL(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,js=t,Ss=fd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,js=t,Ss=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Lf!==null?{id:vc,overflow:yc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ys(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,js=t,Ss=null,!0):!1;default:return!1}}function yT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xT(t){if(or){var e=Ss;if(e){var r=e;if(!iL(t,e)){if(yT(t))throw Error(pe(418));e=fd(r.nextSibling);var n=js;e&&iL(t,e)?AU(n,r):(t.flags=t.flags&-4097|2,or=!1,js=t)}}else{if(yT(t))throw Error(pe(418));t.flags=t.flags&-4097|2,or=!1,js=t}}}function sL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;js=t}function O_(t){if(t!==js)return!1;if(!or)return sL(t),or=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pT(t.type,t.memoizedProps)),e&&(e=Ss)){if(yT(t))throw EU(),Error(pe(418));for(;e;)AU(t,e),e=fd(e.nextSibling)}if(sL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ss=fd(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ss=null}}else Ss=js?fd(t.stateNode.nextSibling):null;return!0}function EU(){for(var t=Ss;t;)t=fd(t.nextSibling)}function Zg(){Ss=js=null,or=!1}function VM(t){Wa===null?Wa=[t]:Wa.push(t)}var Wee=Bc.ReactCurrentBatchConfig;function Sy(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,t))}return t}function M_(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aL(t){var e=t._init;return e(t._payload)}function CU(t){function e(y,b){if(t){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=vd(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,S){return b===null||b.tag!==6?(b=TN(w,y.mode,S),b.return=y,b):(b=i(b,w),b.return=y,b)}function c(y,b,w,S){var _=w.type;return _===Zp?d(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===iu&&aL(_)===b.type)?(S=i(b,w.props),S.ref=Sy(y,b,w),S.return=y,S):(S=I1(w.type,w.key,w.props,null,y.mode,S),S.ref=Sy(y,b,w),S.return=y,S)}function u(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=kN(w,y.mode,S),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function d(y,b,w,S,_){return b===null||b.tag!==7?(b=Mf(w,y.mode,S,_),b.return=y,b):(b=i(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=TN(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case __:return w=I1(b.type,b.key,b.props,null,y.mode,w),w.ref=Sy(y,null,b),w.return=y,w;case Xp:return b=kN(b,y.mode,w),b.return=y,b;case iu:var S=b._init;return h(y,S(b._payload),w)}if(Zy(b)||yy(b))return b=Mf(b,y.mode,w,null),b.return=y,b;M_(y,b)}return null}function f(y,b,w,S){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case __:return w.key===_?c(y,b,w,S):null;case Xp:return w.key===_?u(y,b,w,S):null;case iu:return _=w._init,f(y,b,_(w._payload),S)}if(Zy(w)||yy(w))return _!==null?null:d(y,b,w,S,null);M_(y,w)}return null}function p(y,b,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,o(b,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case __:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,_);case Xp:return y=y.get(S.key===null?w:S.key)||null,u(b,y,S,_);case iu:var A=S._init;return p(y,b,w,A(S._payload),_)}if(Zy(S)||yy(S))return y=y.get(w)||null,d(b,y,S,_,null);M_(b,S)}return null}function v(y,b,w,S){for(var _=null,A=null,E=b,N=b=0,T=null;E!==null&&N<w.length;N++){E.index>N?(T=E,E=null):T=E.sibling;var D=f(y,E,w[N],S);if(D===null){E===null&&(E=T);break}t&&E&&D.alternate===null&&e(y,E),b=s(D,b,N),A===null?_=D:A.sibling=D,A=D,E=T}if(N===w.length)return r(y,E),or&&Xd(y,N),_;if(E===null){for(;N<w.length;N++)E=h(y,w[N],S),E!==null&&(b=s(E,b,N),A===null?_=E:A.sibling=E,A=E);return or&&Xd(y,N),_}for(E=n(y,E);N<w.length;N++)T=p(E,y,N,w[N],S),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?N:T.key),b=s(T,b,N),A===null?_=T:A.sibling=T,A=T);return t&&E.forEach(function(O){return e(y,O)}),or&&Xd(y,N),_}function g(y,b,w,S){var _=yy(w);if(typeof _!="function")throw Error(pe(150));if(w=_.call(w),w==null)throw Error(pe(151));for(var A=_=null,E=b,N=b=0,T=null,D=w.next();E!==null&&!D.done;N++,D=w.next()){E.index>N?(T=E,E=null):T=E.sibling;var O=f(y,E,D.value,S);if(O===null){E===null&&(E=T);break}t&&E&&O.alternate===null&&e(y,E),b=s(O,b,N),A===null?_=O:A.sibling=O,A=O,E=T}if(D.done)return r(y,E),or&&Xd(y,N),_;if(E===null){for(;!D.done;N++,D=w.next())D=h(y,D.value,S),D!==null&&(b=s(D,b,N),A===null?_=D:A.sibling=D,A=D);return or&&Xd(y,N),_}for(E=n(y,E);!D.done;N++,D=w.next())D=p(E,y,N,D.value,S),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?N:D.key),b=s(D,b,N),A===null?_=D:A.sibling=D,A=D);return t&&E.forEach(function(I){return e(y,I)}),or&&Xd(y,N),_}function x(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Zp&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case __:e:{for(var _=w.key,A=b;A!==null;){if(A.key===_){if(_=w.type,_===Zp){if(A.tag===7){r(y,A.sibling),b=i(A,w.props.children),b.return=y,y=b;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===iu&&aL(_)===A.type){r(y,A.sibling),b=i(A,w.props),b.ref=Sy(y,A,w),b.return=y,y=b;break e}r(y,A);break}else e(y,A);A=A.sibling}w.type===Zp?(b=Mf(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=I1(w.type,w.key,w.props,null,y.mode,S),S.ref=Sy(y,b,w),S.return=y,y=S)}return a(y);case Xp:e:{for(A=w.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=kN(w,y.mode,S),b.return=y,y=b}return a(y);case iu:return A=w._init,x(y,b,A(w._payload),S)}if(Zy(w))return v(y,b,w,S);if(yy(w))return g(y,b,w,S);M_(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,w),b.return=y,y=b):(r(y,b),b=TN(w,y.mode,S),b.return=y,y=b),a(y)):r(y,b)}return x}var Qg=CU(!0),NU=CU(!1),$S=Md(null),LS=null,sm=null,qM=null;function GM(){qM=sm=LS=null}function KM(t){var e=$S.current;er($S),t._currentValue=e}function bT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ym(t,e){LS=t,qM=sm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ui=!0),t.firstContext=null)}function oa(t){var e=t._currentValue;if(qM!==t)if(t={context:t,memoizedValue:e,next:null},sm===null){if(LS===null)throw Error(pe(308));sm=t,LS.dependencies={lanes:0,firstContext:t}}else sm=sm.next=t;return e}var hh=null;function YM(t){hh===null?hh=[t]:hh.push(t)}function PU(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,YM(e)):(r.next=i.next,i.next=r),e.interleaved=r,kc(t,n)}function kc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var su=!1;function XM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _c(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pd(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,bt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,kc(t,r)}return i=n.interleaved,i===null?(e.next=e,YM(n)):(e.next=i.next,i.next=e),n.interleaved=e,kc(t,r)}function T1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,RM(t,r)}}function oL(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function FS(t,e,r,n){var i=t.updateQueue;su=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,g=o;switch(f=e,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=gr({},h,f);break e;case 2:su=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zf|=a,t.lanes=a,t.memoizedState=h}}function lL(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(pe(191,i));i.call(n)}}}var zw={},tl=Md(zw),eb=Md(zw),tb=Md(zw);function fh(t){if(t===zw)throw Error(pe(174));return t}function ZM(t,e){switch(Wt(tb,e),Wt(eb,t),Wt(tl,zw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eT(e,t)}er(tl),Wt(tl,e)}function Jg(){er(tl),er(eb),er(tb)}function kU(t){fh(tb.current);var e=fh(tl.current),r=eT(e,t.type);e!==r&&(Wt(eb,t),Wt(tl,r))}function QM(t){eb.current===t&&(er(tl),er(eb))}var fr=Md(0);function zS(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jN=[];function JM(){for(var t=0;t<jN.length;t++)jN[t]._workInProgressVersionPrimary=null;jN.length=0}var k1=Bc.ReactCurrentDispatcher,AN=Bc.ReactCurrentBatchConfig,Ff=0,mr=null,nn=null,Sn=null,BS=!1,Nx=!1,rb=0,Vee=0;function Un(){throw Error(pe(321))}function eD(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qa(t[r],e[r]))return!1;return!0}function tD(t,e,r,n,i,s){if(Ff=s,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k1.current=t===null||t.memoizedState===null?Yee:Xee,t=r(n,i),Nx){s=0;do{if(Nx=!1,rb=0,25<=s)throw Error(pe(301));s+=1,Sn=nn=null,e.updateQueue=null,k1.current=Zee,t=r(n,i)}while(Nx)}if(k1.current=US,e=nn!==null&&nn.next!==null,Ff=0,Sn=nn=mr=null,BS=!1,e)throw Error(pe(300));return t}function rD(){var t=rb!==0;return rb=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?mr.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function la(){if(nn===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=Sn===null?mr.memoizedState:Sn.next;if(e!==null)Sn=e,nn=t;else{if(t===null)throw Error(pe(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Sn===null?mr.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function nb(t,e){return typeof e=="function"?e(t):e}function EN(t){var e=la(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=nn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((Ff&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,mr.lanes|=d,zf|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=o,Qa(n,e.memoizedState)||(Ui=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,mr.lanes|=s,zf|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function CN(t){var e=la(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Qa(s,e.memoizedState)||(Ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function OU(){}function MU(t,e){var r=mr,n=la(),i=e(),s=!Qa(n.memoizedState,i);if(s&&(n.memoizedState=i,Ui=!0),n=n.queue,nD(IU.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Sn!==null&&Sn.memoizedState.tag&1){if(r.flags|=2048,ib(9,RU.bind(null,r,n,i,e),void 0,null),jn===null)throw Error(pe(349));Ff&30||DU(r,e,i)}return i}function DU(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function RU(t,e,r,n){e.value=r,e.getSnapshot=n,$U(e)&&LU(t)}function IU(t,e,r){return r(function(){$U(e)&&LU(t)})}function $U(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qa(t,r)}catch{return!0}}function LU(t){var e=kc(t,1);e!==null&&Za(e,t,1,-1)}function cL(t){var e=vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:t},e.queue=t,t=t.dispatch=Kee.bind(null,mr,t),[e.memoizedState,t]}function ib(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function FU(){return la().memoizedState}function O1(t,e,r,n){var i=vo();mr.flags|=t,i.memoizedState=ib(1|e,r,void 0,n===void 0?null:n)}function iE(t,e,r,n){var i=la();n=n===void 0?null:n;var s=void 0;if(nn!==null){var a=nn.memoizedState;if(s=a.destroy,n!==null&&eD(n,a.deps)){i.memoizedState=ib(e,r,s,n);return}}mr.flags|=t,i.memoizedState=ib(1|e,r,s,n)}function uL(t,e){return O1(8390656,8,t,e)}function nD(t,e){return iE(2048,8,t,e)}function zU(t,e){return iE(4,2,t,e)}function BU(t,e){return iE(4,4,t,e)}function UU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HU(t,e,r){return r=r!=null?r.concat([t]):null,iE(4,4,UU.bind(null,e,t),r)}function iD(){}function WU(t,e){var r=la();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&eD(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function VU(t,e){var r=la();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&eD(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function qU(t,e,r){return Ff&21?(Qa(r,e)||(r=Z6(),mr.lanes|=r,zf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ui=!0),t.memoizedState=r)}function qee(t,e){var r=kt;kt=r!==0&&4>r?r:4,t(!0);var n=AN.transition;AN.transition={};try{t(!1),e()}finally{kt=r,AN.transition=n}}function GU(){return la().memoizedState}function Gee(t,e,r){var n=gd(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KU(t))YU(e,r);else if(r=PU(t,e,r,n),r!==null){var i=wi();Za(r,t,n,i),XU(r,e,n)}}function Kee(t,e,r){var n=gd(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KU(t))YU(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Qa(o,a)){var c=e.interleaved;c===null?(i.next=i,YM(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=PU(t,e,i,n),r!==null&&(i=wi(),Za(r,t,n,i),XU(r,e,n))}}function KU(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function YU(t,e){Nx=BS=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function XU(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,RM(t,r)}}var US={readContext:oa,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},Yee={readContext:oa,useCallback:function(t,e){return vo().memoizedState=[t,e===void 0?null:e],t},useContext:oa,useEffect:uL,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,O1(4194308,4,UU.bind(null,e,t),r)},useLayoutEffect:function(t,e){return O1(4194308,4,t,e)},useInsertionEffect:function(t,e){return O1(4,2,t,e)},useMemo:function(t,e){var r=vo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Gee.bind(null,mr,t),[n.memoizedState,t]},useRef:function(t){var e=vo();return t={current:t},e.memoizedState=t},useState:cL,useDebugValue:iD,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=cL(!1),e=t[0];return t=qee.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mr,i=vo();if(or){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),jn===null)throw Error(pe(349));Ff&30||DU(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,uL(IU.bind(null,n,s,t),[t]),n.flags|=2048,ib(9,RU.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=vo(),e=jn.identifierPrefix;if(or){var r=yc,n=vc;r=(n&~(1<<32-Xa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=rb++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Vee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xee={readContext:oa,useCallback:WU,useContext:oa,useEffect:nD,useImperativeHandle:HU,useInsertionEffect:zU,useLayoutEffect:BU,useMemo:VU,useReducer:EN,useRef:FU,useState:function(){return EN(nb)},useDebugValue:iD,useDeferredValue:function(t){var e=la();return qU(e,nn.memoizedState,t)},useTransition:function(){var t=EN(nb)[0],e=la().memoizedState;return[t,e]},useMutableSource:OU,useSyncExternalStore:MU,useId:GU,unstable_isNewReconciler:!1},Zee={readContext:oa,useCallback:WU,useContext:oa,useEffect:nD,useImperativeHandle:HU,useInsertionEffect:zU,useLayoutEffect:BU,useMemo:VU,useReducer:CN,useRef:FU,useState:function(){return CN(nb)},useDebugValue:iD,useDeferredValue:function(t){var e=la();return nn===null?e.memoizedState=t:qU(e,nn.memoizedState,t)},useTransition:function(){var t=CN(nb)[0],e=la().memoizedState;return[t,e]},useMutableSource:OU,useSyncExternalStore:MU,useId:GU,unstable_isNewReconciler:!1};function Aa(t,e){if(t&&t.defaultProps){e=gr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function wT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var sE={isMounted:function(t){return(t=t._reactInternals)?ap(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wi(),i=gd(t),s=_c(n,i);s.payload=e,r!=null&&(s.callback=r),e=pd(t,s,i),e!==null&&(Za(e,t,i,n),T1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wi(),i=gd(t),s=_c(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=pd(t,s,i),e!==null&&(Za(e,t,i,n),T1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wi(),n=gd(t),i=_c(r,n);i.tag=2,e!=null&&(i.callback=e),e=pd(t,i,n),e!==null&&(Za(e,t,n,r),T1(e,t,n))}};function dL(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xx(r,n)||!Xx(i,s):!0}function ZU(t,e,r){var n=!1,i=jd,s=e.contextType;return typeof s=="object"&&s!==null?s=oa(s):(i=qi(e)?$f:si.current,n=e.contextTypes,s=(n=n!=null)?Xg(t,i):jd),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sE,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hL(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&sE.enqueueReplaceState(e,e.state,null)}function _T(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},XM(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=oa(s):(s=qi(e)?$f:si.current,i.context=Xg(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wT(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sE.enqueueReplaceState(i,i.state,null),FS(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ev(t,e){try{var r="",n=e;do r+=AJ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function NN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ST(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Qee=typeof WeakMap=="function"?WeakMap:Map;function QU(t,e,r){r=_c(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){WS||(WS=!0,MT=n),ST(t,e)},r}function JU(t,e,r){r=_c(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ST(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ST(t,e),typeof n!="function"&&(md===null?md=new Set([this]):md.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function fL(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Qee;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hte.bind(null,t,e,r),e.then(t,t))}function pL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mL(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_c(-1,1),e.tag=2,pd(r,e,1))),r.lanes|=1),t)}var Jee=Bc.ReactCurrentOwner,Ui=!1;function mi(t,e,r,n){e.child=t===null?NU(e,null,r,n):Qg(e,t.child,r,n)}function gL(t,e,r,n,i){r=r.render;var s=e.ref;return ym(e,i),n=tD(t,e,r,n,s,i),r=rD(),t!==null&&!Ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oc(t,e,i)):(or&&r&&HM(e),e.flags|=1,mi(t,e,n,i),e.child)}function vL(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!hD(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,eH(t,e,s,n,i)):(t=I1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xx,r(a,n)&&t.ref===e.ref)return Oc(t,e,i)}return e.flags|=1,t=vd(s,n),t.ref=e.ref,t.return=e,e.child=t}function eH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Xx(s,n)&&t.ref===e.ref)if(Ui=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ui=!0);else return e.lanes=t.lanes,Oc(t,e,i)}return jT(t,e,r,n,i)}function tH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(om,ms),ms|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(om,ms),ms|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Wt(om,ms),ms|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Wt(om,ms),ms|=n;return mi(t,e,i,r),e.child}function rH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jT(t,e,r,n,i){var s=qi(r)?$f:si.current;return s=Xg(e,s),ym(e,i),r=tD(t,e,r,n,s,i),n=rD(),t!==null&&!Ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oc(t,e,i)):(or&&n&&HM(e),e.flags|=1,mi(t,e,r,i),e.child)}function yL(t,e,r,n,i){if(qi(r)){var s=!0;DS(e)}else s=!1;if(ym(e,i),e.stateNode===null)M1(t,e),ZU(e,r,n),_T(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=oa(u):(u=qi(r)?$f:si.current,u=Xg(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&hL(e,a,n,u),su=!1;var f=e.memoizedState;a.state=f,FS(e,n,a,i),c=e.memoizedState,o!==n||f!==c||Vi.current||su?(typeof d=="function"&&(wT(e,r,d,n),c=e.memoizedState),(o=su||dL(e,r,o,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,TU(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Aa(e.type,o),a.props=u,h=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=oa(c):(c=qi(r)?$f:si.current,c=Xg(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&hL(e,a,n,c),su=!1,f=e.memoizedState,a.state=f,FS(e,n,a,i);var v=e.memoizedState;o!==h||f!==v||Vi.current||su?(typeof p=="function"&&(wT(e,r,p,n),v=e.memoizedState),(u=su||dL(e,r,u,n,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return AT(t,e,r,n,s,i)}function AT(t,e,r,n,i,s){rH(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&nL(e,r,!1),Oc(t,e,s);n=e.stateNode,Jee.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Qg(e,t.child,null,s),e.child=Qg(e,null,o,s)):mi(t,e,o,s),e.memoizedState=n.state,i&&nL(e,r,!0),e.child}function nH(t){var e=t.stateNode;e.pendingContext?rL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rL(t,e.context,!1),ZM(t,e.containerInfo)}function xL(t,e,r,n,i){return Zg(),VM(i),e.flags|=256,mi(t,e,r,n),e.child}var ET={dehydrated:null,treeContext:null,retryLane:0};function CT(t){return{baseLanes:t,cachePool:null,transitions:null}}function iH(t,e,r){var n=e.pendingProps,i=fr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(fr,i&1),t===null)return xT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=lE(a,n,0,null),t=Mf(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=CT(r),e.memoizedState=ET,t):sD(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ete(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=vd(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=vd(o,s):(s=Mf(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?CT(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=ET,n}return s=t.child,t=s.sibling,n=vd(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function sD(t,e){return e=lE({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function D_(t,e,r,n){return n!==null&&VM(n),Qg(e,t.child,null,r),t=sD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ete(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=NN(Error(pe(422))),D_(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=lE({mode:"visible",children:n.children},i,0,null),s=Mf(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Qg(e,t.child,null,a),e.child.memoizedState=CT(a),e.memoizedState=ET,s);if(!(e.mode&1))return D_(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(pe(419)),n=NN(s,n,void 0),D_(t,e,a,n)}if(o=(a&t.childLanes)!==0,Ui||o){if(n=jn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kc(t,i),Za(n,t,i,-1))}return dD(),n=NN(Error(pe(421))),D_(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fte.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ss=fd(i.nextSibling),js=e,or=!0,Wa=null,t!==null&&(qs[Gs++]=vc,qs[Gs++]=yc,qs[Gs++]=Lf,vc=t.id,yc=t.overflow,Lf=e),e=sD(e,n.children),e.flags|=4096,e)}function bL(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),bT(t.return,e,r)}function PN(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function sH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(mi(t,e,n.children,r),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bL(t,r,e);else if(t.tag===19)bL(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Wt(fr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&zS(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),PN(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zS(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}PN(e,!0,r,null,s);break;case"together":PN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function M1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),zf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=vd(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=vd(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tte(t,e,r){switch(e.tag){case 3:nH(e),Zg();break;case 5:kU(e);break;case 1:qi(e.type)&&DS(e);break;case 4:ZM(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Wt($S,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Wt(fr,fr.current&1),e.flags|=128,null):r&e.child.childLanes?iH(t,e,r):(Wt(fr,fr.current&1),t=Oc(t,e,r),t!==null?t.sibling:null);Wt(fr,fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return sH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,tH(t,e,r)}return Oc(t,e,r)}var aH,NT,oH,lH;aH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};NT=function(){};oH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,fh(tl.current);var s=null;switch(r){case"input":i=XP(t,i),n=XP(t,n),s=[];break;case"select":i=gr({},i,{value:void 0}),n=gr({},n,{value:void 0}),s=[];break;case"textarea":i=JP(t,i),n=JP(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=OS)}tT(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hx.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hx.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",t),s||o===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};lH=function(t,e,r,n){r!==n&&(e.flags|=4)};function jy(t,e){if(!or)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rte(t,e,r){var n=e.pendingProps;switch(WM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return qi(e.type)&&MS(),Hn(e),null;case 3:return n=e.stateNode,Jg(),er(Vi),er(si),JM(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(O_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wa!==null&&(IT(Wa),Wa=null))),NT(t,e),Hn(e),null;case 5:QM(e);var i=fh(tb.current);if(r=e.type,t!==null&&e.stateNode!=null)oH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Hn(e),null}if(t=fh(tl.current),O_(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Bo]=e,n[Jx]=s,t=(e.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(i=0;i<Jy.length;i++)Zt(Jy[i],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":P$(n,s),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",n);break;case"textarea":k$(n,s),Zt("invalid",n)}tT(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&k_(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&k_(n.textContent,o,t),i=["children",""+o]):Hx.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Zt("scroll",n)}switch(r){case"input":S_(n),T$(n,s,!0);break;case"textarea":S_(n),O$(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=OS)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bo]=e,t[Jx]=n,aH(t,e,!1,!1),e.stateNode=t;e:{switch(a=rT(r,n),r){case"dialog":Zt("cancel",t),Zt("close",t),i=n;break;case"iframe":case"object":case"embed":Zt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Jy.length;i++)Zt(Jy[i],t);i=n;break;case"source":Zt("error",t),i=n;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=n;break;case"details":Zt("toggle",t),i=n;break;case"input":P$(t,n),i=XP(t,n),Zt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gr({},n,{value:void 0}),Zt("invalid",t);break;case"textarea":k$(t,n),i=JP(t,n),Zt("invalid",t);break;default:i=n}tT(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?F6(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$6(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wx(t,c):typeof c=="number"&&Wx(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hx.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Zt("scroll",t):c!=null&&PM(t,s,c,a))}switch(r){case"input":S_(t),T$(t,n,!1);break;case"textarea":S_(t),O$(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sd(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?pm(t,!!n.multiple,s,!1):n.defaultValue!=null&&pm(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=OS)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)lH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(r=fh(tb.current),fh(tl.current),O_(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bo]=e,(s=n.nodeValue!==r)&&(t=js,t!==null))switch(t.tag){case 3:k_(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&k_(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bo]=e,e.stateNode=n}return Hn(e),null;case 13:if(er(fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(or&&Ss!==null&&e.mode&1&&!(e.flags&128))EU(),Zg(),e.flags|=98560,s=!1;else if(s=O_(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Bo]=e}else Zg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),s=!1}else Wa!==null&&(IT(Wa),Wa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?an===0&&(an=3):dD())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return Jg(),NT(t,e),t===null&&Zx(e.stateNode.containerInfo),Hn(e),null;case 10:return KM(e.type._context),Hn(e),null;case 17:return qi(e.type)&&MS(),Hn(e),null;case 19:if(er(fr),s=e.memoizedState,s===null)return Hn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)jy(s,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zS(t),a!==null){for(e.flags|=128,jy(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Wt(fr,fr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Er()>tv&&(e.flags|=128,n=!0,jy(s,!1),e.lanes=4194304)}else{if(!n)if(t=zS(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),jy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!or)return Hn(e),null}else 2*Er()-s.renderingStartTime>tv&&r!==1073741824&&(e.flags|=128,n=!0,jy(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Er(),e.sibling=null,r=fr.current,Wt(fr,n?r&1|2:r&1),e):(Hn(e),null);case 22:case 23:return uD(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ms&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function nte(t,e){switch(WM(e),e.tag){case 1:return qi(e.type)&&MS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jg(),er(Vi),er(si),JM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QM(e),null;case 13:if(er(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Zg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(fr),null;case 4:return Jg(),null;case 10:return KM(e.type._context),null;case 22:case 23:return uD(),null;case 24:return null;default:return null}}var R_=!1,Jn=!1,ite=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function am(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){br(t,e,n)}else r.current=null}function PT(t,e,r){try{r()}catch(n){br(t,e,n)}}var wL=!1;function ste(t,e){if(hT=PS,t=fU(),UM(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fT={focusedElem:t,selectionRange:r},PS=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Aa(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(S){br(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return v=wL,wL=!1,v}function Px(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&PT(e,r,s)}i=i.next}while(i!==n)}}function aE(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function TT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cH(t){var e=t.alternate;e!==null&&(t.alternate=null,cH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bo],delete e[Jx],delete e[gT],delete e[Bee],delete e[Uee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uH(t){return t.tag===5||t.tag===3||t.tag===4}function _L(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=OS));else if(n!==4&&(t=t.child,t!==null))for(kT(t,e,r),t=t.sibling;t!==null;)kT(t,e,r),t=t.sibling}function OT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(OT(t,e,r),t=t.sibling;t!==null;)OT(t,e,r),t=t.sibling}var Mn=null,za=!1;function Kc(t,e,r){for(r=r.child;r!==null;)dH(t,e,r),r=r.sibling}function dH(t,e,r){if(el&&typeof el.onCommitFiberUnmount=="function")try{el.onCommitFiberUnmount(QA,r)}catch{}switch(r.tag){case 5:Jn||am(r,e);case 6:var n=Mn,i=za;Mn=null,Kc(t,e,r),Mn=n,za=i,Mn!==null&&(za?(t=Mn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Mn.removeChild(r.stateNode));break;case 18:Mn!==null&&(za?(t=Mn,r=r.stateNode,t.nodeType===8?_N(t.parentNode,r):t.nodeType===1&&_N(t,r),Kx(t)):_N(Mn,r.stateNode));break;case 4:n=Mn,i=za,Mn=r.stateNode.containerInfo,za=!0,Kc(t,e,r),Mn=n,za=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&PT(r,e,a),i=i.next}while(i!==n)}Kc(t,e,r);break;case 1:if(!Jn&&(am(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){br(r,e,o)}Kc(t,e,r);break;case 21:Kc(t,e,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,Kc(t,e,r),Jn=n):Kc(t,e,r);break;default:Kc(t,e,r)}}function SL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ite),e.forEach(function(n){var i=pte.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ya(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Mn=o.stateNode,za=!1;break e;case 3:Mn=o.stateNode.containerInfo,za=!0;break e;case 4:Mn=o.stateNode.containerInfo,za=!0;break e}o=o.return}if(Mn===null)throw Error(pe(160));dH(s,a,i),Mn=null,za=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){br(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hH(e,t),e=e.sibling}function hH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ya(e,t),ho(t),n&4){try{Px(3,t,t.return),aE(3,t)}catch(g){br(t,t.return,g)}try{Px(5,t,t.return)}catch(g){br(t,t.return,g)}}break;case 1:ya(e,t),ho(t),n&512&&r!==null&&am(r,r.return);break;case 5:if(ya(e,t),ho(t),n&512&&r!==null&&am(r,r.return),t.flags&32){var i=t.stateNode;try{Wx(i,"")}catch(g){br(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&D6(i,s),rT(o,a);var u=rT(o,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?F6(i,h):d==="dangerouslySetInnerHTML"?$6(i,h):d==="children"?Wx(i,h):PM(i,d,h,u)}switch(o){case"input":ZP(i,s);break;case"textarea":R6(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?pm(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?pm(i,!!s.multiple,s.defaultValue,!0):pm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jx]=s}catch(g){br(t,t.return,g)}}break;case 6:if(ya(e,t),ho(t),n&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){br(t,t.return,g)}}break;case 3:if(ya(e,t),ho(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kx(e.containerInfo)}catch(g){br(t,t.return,g)}break;case 4:ya(e,t),ho(t);break;case 13:ya(e,t),ho(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lD=Er())),n&4&&SL(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Jn=(u=Jn)||d,ya(e,t),Jn=u):ya(e,t),ho(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Pe=t,d=t.child;d!==null;){for(h=Pe=d;Pe!==null;){switch(f=Pe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Px(4,f,f.return);break;case 1:am(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){br(n,r,g)}}break;case 5:am(f,f.return);break;case 22:if(f.memoizedState!==null){AL(h);continue}}p!==null?(p.return=f,Pe=p):AL(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=L6("display",a))}catch(g){br(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){br(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ya(e,t),ho(t),n&4&&SL(t);break;case 21:break;default:ya(e,t),ho(t)}}function ho(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(uH(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Wx(i,""),n.flags&=-33);var s=_L(t);OT(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=_L(t);kT(t,o,a);break;default:throw Error(pe(161))}}catch(c){br(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ate(t,e,r){Pe=t,fH(t)}function fH(t,e,r){for(var n=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||R_;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Jn;o=R_;var u=Jn;if(R_=a,(Jn=c)&&!u)for(Pe=i;Pe!==null;)a=Pe,c=a.child,a.tag===22&&a.memoizedState!==null?EL(i):c!==null?(c.return=a,Pe=c):EL(i);for(;s!==null;)Pe=s,fH(s),s=s.sibling;Pe=i,R_=o,Jn=u}jL(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):jL(t)}}function jL(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||aE(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Aa(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lL(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lL(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kx(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Jn||e.flags&512&&TT(e)}catch(f){br(e,e.return,f)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function AL(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function EL(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{aE(4,e)}catch(c){br(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){br(e,i,c)}}var s=e.return;try{TT(e)}catch(c){br(e,s,c)}break;case 5:var a=e.return;try{TT(e)}catch(c){br(e,a,c)}}}catch(c){br(e,e.return,c)}if(e===t){Pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Pe=o;break}Pe=e.return}}var ote=Math.ceil,HS=Bc.ReactCurrentDispatcher,aD=Bc.ReactCurrentOwner,Js=Bc.ReactCurrentBatchConfig,bt=0,jn=null,Br=null,Fn=0,ms=0,om=Md(0),an=0,sb=null,zf=0,oE=0,oD=0,Tx=null,Fi=null,lD=0,tv=1/0,Pl=null,WS=!1,MT=null,md=null,I_=!1,ad=null,VS=0,kx=0,DT=null,D1=-1,R1=0;function wi(){return bt&6?Er():D1!==-1?D1:D1=Er()}function gd(t){return t.mode&1?bt&2&&Fn!==0?Fn&-Fn:Wee.transition!==null?(R1===0&&(R1=Z6()),R1):(t=kt,t!==0||(t=window.event,t=t===void 0?16:iU(t.type)),t):1}function Za(t,e,r,n){if(50<kx)throw kx=0,DT=null,Error(pe(185));$w(t,r,n),(!(bt&2)||t!==jn)&&(t===jn&&(!(bt&2)&&(oE|=r),an===4&&lu(t,Fn)),Gi(t,n),r===1&&bt===0&&!(e.mode&1)&&(tv=Er()+500,nE&&Dd()))}function Gi(t,e){var r=t.callbackNode;WJ(t,e);var n=NS(t,t===jn?Fn:0);if(n===0)r!==null&&R$(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&R$(r),e===1)t.tag===0?Hee(CL.bind(null,t)):SU(CL.bind(null,t)),Fee(function(){!(bt&6)&&Dd()}),r=null;else{switch(Q6(n)){case 1:r=DM;break;case 4:r=Y6;break;case 16:r=CS;break;case 536870912:r=X6;break;default:r=CS}r=wH(r,pH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pH(t,e){if(D1=-1,R1=0,bt&6)throw Error(pe(327));var r=t.callbackNode;if(xm()&&t.callbackNode!==r)return null;var n=NS(t,t===jn?Fn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qS(t,n);else{e=n;var i=bt;bt|=2;var s=gH();(jn!==t||Fn!==e)&&(Pl=null,tv=Er()+500,Of(t,e));do try{ute();break}catch(o){mH(t,o)}while(!0);GM(),HS.current=s,bt=i,Br!==null?e=0:(jn=null,Fn=0,e=an)}if(e!==0){if(e===2&&(i=oT(t),i!==0&&(n=i,e=RT(t,i))),e===1)throw r=sb,Of(t,0),lu(t,n),Gi(t,Er()),r;if(e===6)lu(t,n);else{if(i=t.current.alternate,!(n&30)&&!lte(i)&&(e=qS(t,n),e===2&&(s=oT(t),s!==0&&(n=s,e=RT(t,s))),e===1))throw r=sb,Of(t,0),lu(t,n),Gi(t,Er()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(pe(345));case 2:Zd(t,Fi,Pl);break;case 3:if(lu(t,n),(n&130023424)===n&&(e=lD+500-Er(),10<e)){if(NS(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){wi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mT(Zd.bind(null,t,Fi,Pl),e);break}Zd(t,Fi,Pl);break;case 4:if(lu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Xa(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ote(n/1960))-n,10<n){t.timeoutHandle=mT(Zd.bind(null,t,Fi,Pl),n);break}Zd(t,Fi,Pl);break;case 5:Zd(t,Fi,Pl);break;default:throw Error(pe(329))}}}return Gi(t,Er()),t.callbackNode===r?pH.bind(null,t):null}function RT(t,e){var r=Tx;return t.current.memoizedState.isDehydrated&&(Of(t,e).flags|=256),t=qS(t,e),t!==2&&(e=Fi,Fi=r,e!==null&&IT(e)),t}function IT(t){Fi===null?Fi=t:Fi.push.apply(Fi,t)}function lte(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Qa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lu(t,e){for(e&=~oD,e&=~oE,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xa(e),n=1<<r;t[r]=-1,e&=~n}}function CL(t){if(bt&6)throw Error(pe(327));xm();var e=NS(t,0);if(!(e&1))return Gi(t,Er()),null;var r=qS(t,e);if(t.tag!==0&&r===2){var n=oT(t);n!==0&&(e=n,r=RT(t,n))}if(r===1)throw r=sb,Of(t,0),lu(t,e),Gi(t,Er()),r;if(r===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zd(t,Fi,Pl),Gi(t,Er()),null}function cD(t,e){var r=bt;bt|=1;try{return t(e)}finally{bt=r,bt===0&&(tv=Er()+500,nE&&Dd())}}function Bf(t){ad!==null&&ad.tag===0&&!(bt&6)&&xm();var e=bt;bt|=1;var r=Js.transition,n=kt;try{if(Js.transition=null,kt=1,t)return t()}finally{kt=n,Js.transition=r,bt=e,!(bt&6)&&Dd()}}function uD(){ms=om.current,er(om)}function Of(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Lee(r)),Br!==null)for(r=Br.return;r!==null;){var n=r;switch(WM(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&MS();break;case 3:Jg(),er(Vi),er(si),JM();break;case 5:QM(n);break;case 4:Jg();break;case 13:er(fr);break;case 19:er(fr);break;case 10:KM(n.type._context);break;case 22:case 23:uD()}r=r.return}if(jn=t,Br=t=vd(t.current,null),Fn=ms=e,an=0,sb=null,oD=oE=zf=0,Fi=Tx=null,hh!==null){for(e=0;e<hh.length;e++)if(r=hh[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}hh=null}return t}function mH(t,e){do{var r=Br;try{if(GM(),k1.current=US,BS){for(var n=mr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}BS=!1}if(Ff=0,Sn=nn=mr=null,Nx=!1,rb=0,aD.current=null,r===null||r.return===null){an=1,sb=e,Br=null;break}e:{var s=t,a=r.return,o=r,c=e;if(e=Fn,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=pL(a);if(p!==null){p.flags&=-257,mL(p,a,o,s,e),p.mode&1&&fL(s,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){fL(s,u,e),dD();break e}c=Error(pe(426))}}else if(or&&o.mode&1){var x=pL(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mL(x,a,o,s,e),VM(ev(c,o));break e}}s=c=ev(c,o),an!==4&&(an=2),Tx===null?Tx=[s]:Tx.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=QU(s,c,e);oL(s,y);break e;case 1:o=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(md===null||!md.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=JU(s,o,e);oL(s,S);break e}}s=s.return}while(s!==null)}yH(r)}catch(_){e=_,Br===r&&r!==null&&(Br=r=r.return);continue}break}while(!0)}function gH(){var t=HS.current;return HS.current=US,t===null?US:t}function dD(){(an===0||an===3||an===2)&&(an=4),jn===null||!(zf&268435455)&&!(oE&268435455)||lu(jn,Fn)}function qS(t,e){var r=bt;bt|=2;var n=gH();(jn!==t||Fn!==e)&&(Pl=null,Of(t,e));do try{cte();break}catch(i){mH(t,i)}while(!0);if(GM(),bt=r,HS.current=n,Br!==null)throw Error(pe(261));return jn=null,Fn=0,an}function cte(){for(;Br!==null;)vH(Br)}function ute(){for(;Br!==null&&!RJ();)vH(Br)}function vH(t){var e=bH(t.alternate,t,ms);t.memoizedProps=t.pendingProps,e===null?yH(t):Br=e,aD.current=null}function yH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nte(r,e),r!==null){r.flags&=32767,Br=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Br=null;return}}else if(r=rte(r,e,ms),r!==null){Br=r;return}if(e=e.sibling,e!==null){Br=e;return}Br=e=t}while(e!==null);an===0&&(an=5)}function Zd(t,e,r){var n=kt,i=Js.transition;try{Js.transition=null,kt=1,dte(t,e,r,n)}finally{Js.transition=i,kt=n}return null}function dte(t,e,r,n){do xm();while(ad!==null);if(bt&6)throw Error(pe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(VJ(t,s),t===jn&&(Br=jn=null,Fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||I_||(I_=!0,wH(CS,function(){return xm(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var a=kt;kt=1;var o=bt;bt|=4,aD.current=null,ste(t,r),hH(r,t),kee(fT),PS=!!hT,fT=hT=null,t.current=r,ate(r),IJ(),bt=o,kt=a,Js.transition=s}else t.current=r;if(I_&&(I_=!1,ad=t,VS=i),s=t.pendingLanes,s===0&&(md=null),FJ(r.stateNode),Gi(t,Er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(WS)throw WS=!1,t=MT,MT=null,t;return VS&1&&t.tag!==0&&xm(),s=t.pendingLanes,s&1?t===DT?kx++:(kx=0,DT=t):kx=0,Dd(),null}function xm(){if(ad!==null){var t=Q6(VS),e=Js.transition,r=kt;try{if(Js.transition=null,kt=16>t?16:t,ad===null)var n=!1;else{if(t=ad,ad=null,VS=0,bt&6)throw Error(pe(331));var i=bt;for(bt|=4,Pe=t.current;Pe!==null;){var s=Pe,a=s.child;if(Pe.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Pe=u;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:Px(8,d,s)}var h=d.child;if(h!==null)h.return=d,Pe=h;else for(;Pe!==null;){d=Pe;var f=d.sibling,p=d.return;if(cH(d),d===u){Pe=null;break}if(f!==null){f.return=p,Pe=f;break}Pe=p}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Pe=a;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Px(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Pe=y;break e}Pe=s.return}}var b=t.current;for(Pe=b;Pe!==null;){a=Pe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Pe=w;else e:for(a=b;Pe!==null;){if(o=Pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:aE(9,o)}}catch(_){br(o,o.return,_)}if(o===a){Pe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Pe=S;break e}Pe=o.return}}if(bt=i,Dd(),el&&typeof el.onPostCommitFiberRoot=="function")try{el.onPostCommitFiberRoot(QA,t)}catch{}n=!0}return n}finally{kt=r,Js.transition=e}}return!1}function NL(t,e,r){e=ev(r,e),e=QU(t,e,1),t=pd(t,e,1),e=wi(),t!==null&&($w(t,1,e),Gi(t,e))}function br(t,e,r){if(t.tag===3)NL(t,t,r);else for(;e!==null;){if(e.tag===3){NL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(md===null||!md.has(n))){t=ev(r,t),t=JU(e,t,1),e=pd(e,t,1),t=wi(),e!==null&&($w(e,1,t),Gi(e,t));break}}e=e.return}}function hte(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wi(),t.pingedLanes|=t.suspendedLanes&r,jn===t&&(Fn&r)===r&&(an===4||an===3&&(Fn&130023424)===Fn&&500>Er()-lD?Of(t,0):oD|=r),Gi(t,e)}function xH(t,e){e===0&&(t.mode&1?(e=E_,E_<<=1,!(E_&130023424)&&(E_=4194304)):e=1);var r=wi();t=kc(t,e),t!==null&&($w(t,e,r),Gi(t,r))}function fte(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xH(t,r)}function pte(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(e),xH(t,r)}var bH;bH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vi.current)Ui=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ui=!1,tte(t,e,r);Ui=!!(t.flags&131072)}else Ui=!1,or&&e.flags&1048576&&jU(e,IS,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;M1(t,e),t=e.pendingProps;var i=Xg(e,si.current);ym(e,r),i=tD(null,e,n,t,i,r);var s=rD();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qi(n)?(s=!0,DS(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,XM(e),i.updater=sE,e.stateNode=i,i._reactInternals=e,_T(e,n,t,r),e=AT(null,e,n,!0,s,r)):(e.tag=0,or&&s&&HM(e),mi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(M1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=gte(n),t=Aa(n,t),i){case 0:e=jT(null,e,n,t,r);break e;case 1:e=yL(null,e,n,t,r);break e;case 11:e=gL(null,e,n,t,r);break e;case 14:e=vL(null,e,n,Aa(n.type,t),r);break e}throw Error(pe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Aa(n,i),jT(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Aa(n,i),yL(t,e,n,i,r);case 3:e:{if(nH(e),t===null)throw Error(pe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,TU(t,e),FS(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ev(Error(pe(423)),e),e=xL(t,e,n,r,i);break e}else if(n!==i){i=ev(Error(pe(424)),e),e=xL(t,e,n,r,i);break e}else for(Ss=fd(e.stateNode.containerInfo.firstChild),js=e,or=!0,Wa=null,r=NU(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zg(),n===i){e=Oc(t,e,r);break e}mi(t,e,n,r)}e=e.child}return e;case 5:return kU(e),t===null&&xT(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,pT(n,i)?a=null:s!==null&&pT(n,s)&&(e.flags|=32),rH(t,e),mi(t,e,a,r),e.child;case 6:return t===null&&xT(e),null;case 13:return iH(t,e,r);case 4:return ZM(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qg(e,null,n,r):mi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Aa(n,i),gL(t,e,n,i,r);case 7:return mi(t,e,e.pendingProps,r),e.child;case 8:return mi(t,e,e.pendingProps.children,r),e.child;case 12:return mi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Wt($S,n._currentValue),n._currentValue=a,s!==null)if(Qa(s.value,a)){if(s.children===i.children&&!Vi.current){e=Oc(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=_c(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),bT(s.return,r,e),o.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(pe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),bT(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}mi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ym(e,r),i=oa(i),n=n(i),e.flags|=1,mi(t,e,n,r),e.child;case 14:return n=e.type,i=Aa(n,e.pendingProps),i=Aa(n.type,i),vL(t,e,n,i,r);case 15:return eH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Aa(n,i),M1(t,e),e.tag=1,qi(n)?(t=!0,DS(e)):t=!1,ym(e,r),ZU(e,n,i),_T(e,n,i,r),AT(null,e,n,!0,t,r);case 19:return sH(t,e,r);case 22:return tH(t,e,r)}throw Error(pe(156,e.tag))};function wH(t,e){return K6(t,e)}function mte(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(t,e,r,n){return new mte(t,e,r,n)}function hD(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gte(t){if(typeof t=="function")return hD(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kM)return 11;if(t===OM)return 14}return 2}function vd(t,e){var r=t.alternate;return r===null?(r=Ys(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function I1(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")hD(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zp:return Mf(r.children,i,s,e);case TM:a=8,i|=8;break;case qP:return t=Ys(12,r,e,i|2),t.elementType=qP,t.lanes=s,t;case GP:return t=Ys(13,r,e,i),t.elementType=GP,t.lanes=s,t;case KP:return t=Ys(19,r,e,i),t.elementType=KP,t.lanes=s,t;case k6:return lE(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P6:a=10;break e;case T6:a=9;break e;case kM:a=11;break e;case OM:a=14;break e;case iu:a=16,n=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Ys(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Mf(t,e,r,n){return t=Ys(7,t,n,e),t.lanes=r,t}function lE(t,e,r,n){return t=Ys(22,t,n,e),t.elementType=k6,t.lanes=r,t.stateNode={isHidden:!1},t}function TN(t,e,r){return t=Ys(6,t,null,e),t.lanes=r,t}function kN(t,e,r){return e=Ys(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vte(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dN(0),this.expirationTimes=dN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dN(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fD(t,e,r,n,i,s,a,o,c){return t=new vte(t,e,r,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ys(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XM(s),t}function yte(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xp,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _H(t){if(!t)return jd;t=t._reactInternals;e:{if(ap(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var r=t.type;if(qi(r))return _U(t,r,e)}return e}function SH(t,e,r,n,i,s,a,o,c){return t=fD(r,n,!0,t,i,s,a,o,c),t.context=_H(null),r=t.current,n=wi(),i=gd(r),s=_c(n,i),s.callback=e??null,pd(r,s,i),t.current.lanes=i,$w(t,i,n),Gi(t,n),t}function cE(t,e,r,n){var i=e.current,s=wi(),a=gd(i);return r=_H(r),e.context===null?e.context=r:e.pendingContext=r,e=_c(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=pd(i,e,a),t!==null&&(Za(t,i,a,s),T1(t,i,a)),a}function GS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pD(t,e){PL(t,e),(t=t.alternate)&&PL(t,e)}function xte(){return null}var jH=typeof reportError=="function"?reportError:function(t){console.error(t)};function mD(t){this._internalRoot=t}uE.prototype.render=mD.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));cE(t,e,null,null)};uE.prototype.unmount=mD.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bf(function(){cE(null,t,null,null)}),e[Tc]=null}};function uE(t){this._internalRoot=t}uE.prototype.unstable_scheduleHydration=function(t){if(t){var e=tU();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ou.length&&e!==0&&e<ou[r].priority;r++);ou.splice(r,0,t),r===0&&nU(t)}};function gD(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TL(){}function bte(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=GS(a);s.call(u)}}var a=SH(e,n,t,0,null,!1,!1,"",TL);return t._reactRootContainer=a,t[Tc]=a.current,Zx(t.nodeType===8?t.parentNode:t),Bf(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=GS(c);o.call(u)}}var c=fD(t,0,!1,null,null,!1,!1,"",TL);return t._reactRootContainer=c,t[Tc]=c.current,Zx(t.nodeType===8?t.parentNode:t),Bf(function(){cE(e,c,r,n)}),c}function hE(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=GS(a);o.call(c)}}cE(e,a,t,i)}else a=bte(r,e,t,i,n);return GS(a)}J6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qy(e.pendingLanes);r!==0&&(RM(e,r|1),Gi(e,Er()),!(bt&6)&&(tv=Er()+500,Dd()))}break;case 13:Bf(function(){var n=kc(t,1);if(n!==null){var i=wi();Za(n,t,1,i)}}),pD(t,1)}};IM=function(t){if(t.tag===13){var e=kc(t,134217728);if(e!==null){var r=wi();Za(e,t,134217728,r)}pD(t,134217728)}};eU=function(t){if(t.tag===13){var e=gd(t),r=kc(t,e);if(r!==null){var n=wi();Za(r,t,e,n)}pD(t,e)}};tU=function(){return kt};rU=function(t,e){var r=kt;try{return kt=t,e()}finally{kt=r}};iT=function(t,e,r){switch(e){case"input":if(ZP(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=rE(n);if(!i)throw Error(pe(90));M6(n),ZP(n,i)}}}break;case"textarea":R6(t,r);break;case"select":e=r.value,e!=null&&pm(t,!!r.multiple,e,!1)}};U6=cD;H6=Bf;var wte={usingClientEntryPoint:!1,Events:[Fw,tm,rE,z6,B6,cD]},Ay={findFiberByHostInstance:dh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_te={bundleType:Ay.bundleType,version:Ay.version,rendererPackageName:Ay.rendererPackageName,rendererConfig:Ay.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q6(t),t===null?null:t.stateNode},findFiberByHostInstance:Ay.findFiberByHostInstance||xte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$_.isDisabled&&$_.supportsFiber)try{QA=$_.inject(_te),el=$_}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wte;Ts.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gD(e))throw Error(pe(200));return yte(t,e,null,r)};Ts.createRoot=function(t,e){if(!gD(t))throw Error(pe(299));var r=!1,n="",i=jH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fD(t,1,!1,null,null,r,!1,n,i),t[Tc]=e.current,Zx(t.nodeType===8?t.parentNode:t),new mD(e)};Ts.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=q6(e),t=t===null?null:t.stateNode,t};Ts.flushSync=function(t){return Bf(t)};Ts.hydrate=function(t,e,r){if(!dE(e))throw Error(pe(200));return hE(null,t,e,!0,r)};Ts.hydrateRoot=function(t,e,r){if(!gD(t))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=jH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=SH(e,null,t,1,r??null,i,!1,s,a),t[Tc]=e.current,Zx(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new uE(e)};Ts.render=function(t,e,r){if(!dE(e))throw Error(pe(200));return hE(null,t,e,!1,r)};Ts.unmountComponentAtNode=function(t){if(!dE(t))throw Error(pe(40));return t._reactRootContainer?(Bf(function(){hE(null,null,t,!1,function(){t._reactRootContainer=null,t[Tc]=null})}),!0):!1};Ts.unstable_batchedUpdates=cD;Ts.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!dE(r))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return hE(t,e,r,!1,n)};Ts.version="18.3.1-next-f1338f8080-20240426";function AH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AH)}catch(t){console.error(t)}}AH(),A6.exports=Ts;var op=A6.exports;const EH=Ft(op);var CH,kL=op;CH=kL.createRoot,kL.hydrateRoot;const Ste=1,jte=1e6;let ON=0;function Ate(){return ON=(ON+1)%Number.MAX_SAFE_INTEGER,ON.toString()}const MN=new Map,OL=t=>{if(MN.has(t))return;const e=setTimeout(()=>{MN.delete(t),Ox({type:"REMOVE_TOAST",toastId:t})},jte);MN.set(t,e)},Ete=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ste)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?OL(r):t.toasts.forEach(n=>{OL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},$1=[];let L1={toasts:[]};function Ox(t){L1=Ete(L1,t),$1.forEach(e=>{e(L1)})}function Zn({...t}){const e=Ate(),r=i=>Ox({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Ox({type:"DISMISS_TOAST",toastId:e});return Ox({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Os(){const[t,e]=j.useState(L1);return j.useEffect(()=>($1.push(e),()=>{const r=$1.indexOf(e);r>-1&&$1.splice(r,1)}),[t]),{...t,toast:Zn,dismiss:r=>Ox({type:"DISMISS_TOAST",toastId:r})}}function ye(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ML(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fE(...t){return e=>{let r=!1;const n=t.map(i=>{const s=ML(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():ML(t[i],null)}}}}function tt(...t){return j.useCallback(fE(...t),t)}function Cte(t,e){const r=j.createContext(e),n=s=>{const{children:a,...o}=s,c=j.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function i(s){const a=j.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Ci(t,e=[]){let r=[];function n(s,a){const o=j.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:f,children:p,...v}=h,g=((y=f==null?void 0:f[t])==null?void 0:y[c])||o,x=j.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[c])||o,v=j.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[n,Nte(i,...e)]}function Nte(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...o,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Uf(t){const e=Tte(t),r=j.forwardRef((n,i)=>{const{children:s,...a}=n,o=j.Children.toArray(s),c=o.find(Ote);if(c){const u=c.props.children,d=o.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return l.jsx(e,{...a,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var Pte=Uf("Slot");function Tte(t){const e=j.forwardRef((r,n)=>{const{children:i,...s}=r;if(j.isValidElement(i)){const a=Dte(i),o=Mte(s,i.props);return i.type!==j.Fragment&&(o.ref=n?fE(n,a):a),j.cloneElement(i,o)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NH=Symbol("radix.slottable");function kte(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=NH,e}function Ote(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NH}function Mte(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Dte(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function pE(t){const e=t+"CollectionProvider",[r,n]=Ci(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:x,children:y}=g,b=z.useRef(null),w=z.useRef(new Map).current;return l.jsx(i,{scope:x,itemMap:w,collectionRef:b,children:y})};a.displayName=e;const o=t+"CollectionSlot",c=Uf(o),u=z.forwardRef((g,x)=>{const{scope:y,children:b}=g,w=s(o,y),S=tt(x,w.collectionRef);return l.jsx(c,{ref:S,children:b})});u.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Uf(d),p=z.forwardRef((g,x)=>{const{scope:y,children:b,...w}=g,S=z.useRef(null),_=tt(x,S),A=s(d,y);return z.useEffect(()=>(A.itemMap.set(S,{ref:S,...w}),()=>void A.itemMap.delete(S))),l.jsx(f,{[h]:"",ref:_,children:b})});p.displayName=d;function v(g){const x=s(t+"CollectionConsumer",g);return z.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((A,E)=>w.indexOf(A.ref.current)-w.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},v,n]}var Rte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=Rte.reduce((t,e)=>{const r=Uf(`Primitive.${e}`),n=j.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vD(t,e){t&&op.flushSync(()=>t.dispatchEvent(e))}function _r(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ite(t,e=globalThis==null?void 0:globalThis.document){const r=_r(t);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var $te="DismissableLayer",$T="dismissableLayer.update",Lte="dismissableLayer.pointerDownOutside",Fte="dismissableLayer.focusOutside",DL,PH=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qv=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=j.useContext(PH),[d,h]=j.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),v=tt(e,E=>h(E)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,_=Bte(E=>{const N=E.target,T=[...u.branches].some(D=>D.contains(N));!S||T||(i==null||i(E),a==null||a(E),E.defaultPrevented||o==null||o())},f),A=Ute(E=>{const N=E.target;[...u.branches].some(D=>D.contains(N))||(s==null||s(E),a==null||a(E),E.defaultPrevented||o==null||o())},f);return Ite(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},f),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DL=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),RL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=DL)}},[d,f,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),RL())},[d,u]),j.useEffect(()=>{const E=()=>p({});return document.addEventListener($T,E),()=>document.removeEventListener($T,E)},[]),l.jsx(Me.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,_.onPointerDownCapture)})});qv.displayName=$te;var zte="DismissableLayerBranch",TH=j.forwardRef((t,e)=>{const r=j.useContext(PH),n=j.useRef(null),i=tt(e,n);return j.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Me.div,{...t,ref:i})});TH.displayName=zte;function Bte(t,e=globalThis==null?void 0:globalThis.document){const r=_r(t),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){kH(Lte,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Ute(t,e=globalThis==null?void 0:globalThis.document){const r=_r(t),n=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!n.current&&kH(Fte,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function RL(){const t=new CustomEvent($T);document.dispatchEvent(t)}function kH(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?vD(i,s):i.dispatchEvent(s)}var Hte=qv,Wte=TH,Nr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},Vte="Portal",Bw=j.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=j.useState(!1);Nr(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?EH.createPortal(l.jsx(Me.div,{...n,ref:e}),a):null});Bw.displayName=Vte;function qte(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var ai=t=>{const{present:e,children:r}=t,n=Gte(e),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),s=tt(n.ref,Kte(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:s}):null};ai.displayName="Presence";function Gte(t){const[e,r]=j.useState(),n=j.useRef(null),i=j.useRef(t),s=j.useRef("none"),a=t?"mounted":"unmounted",[o,c]=qte(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=L_(n.current);s.current=o==="mounted"?u:"none"},[o]),Nr(()=>{const u=n.current,d=i.current;if(d!==t){const f=s.current,p=L_(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Nr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=L_(n.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=p=>{p.target===e&&(s.current=L_(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function L_(t){return(t==null?void 0:t.animationName)||"none"}function Kte(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Yte=EM[" useInsertionEffect ".trim().toString()]||Nr;function Mc({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=Xte({defaultProp:e,onChange:r}),o=t!==void 0,c=o?t:i;{const d=j.useRef(t!==void 0);j.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=j.useCallback(d=>{var h;if(o){const f=Zte(d)?d(t):d;f!==t&&((h=a.current)==null||h.call(a,f))}else s(d)},[o,t,s,a]);return[c,u]}function Xte({defaultProp:t,onChange:e}){const[r,n]=j.useState(t),i=j.useRef(r),s=j.useRef(e);return Yte(()=>{s.current=e},[e]),j.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function Zte(t){return typeof t=="function"}var OH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Qte="VisuallyHidden",mE=j.forwardRef((t,e)=>l.jsx(Me.span,{...t,ref:e,style:{...OH,...t.style}}));mE.displayName=Qte;var Jte=mE,yD="ToastProvider",[xD,ere,tre]=pE("Toast"),[MH,J8e]=Ci("Toast",[tre]),[rre,gE]=MH(yD),DH=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,c]=j.useState(null),[u,d]=j.useState(0),h=j.useRef(!1),f=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${yD}\`. Expected non-empty \`string\`.`),l.jsx(xD.Provider,{scope:e,children:l.jsx(rre,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:j.useCallback(()=>d(p=>p+1),[]),onToastRemove:j.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};DH.displayName=yD;var RH="ToastViewport",nre=["F8"],LT="toast.viewportPause",FT="toast.viewportResume",IH=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=nre,label:i="Notifications ({hotkey})",...s}=t,a=gE(RH,r),o=ere(r),c=j.useRef(null),u=j.useRef(null),d=j.useRef(null),h=j.useRef(null),f=tt(e,h,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;j.useEffect(()=>{const x=y=>{var w;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),j.useEffect(()=>{const x=c.current,y=h.current;if(v&&x&&y){const b=()=>{if(!a.isClosePausedRef.current){const A=new CustomEvent(LT);y.dispatchEvent(A),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const A=new CustomEvent(FT);y.dispatchEvent(A),a.isClosePausedRef.current=!1}},S=A=>{!x.contains(A.relatedTarget)&&w()},_=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",S),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,a.isClosePausedRef]);const g=j.useCallback(({tabbingDirection:x})=>{const b=o().map(w=>{const S=w.ref.current,_=[S,...gre(S)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?b.reverse():b).flat()},[o]);return j.useEffect(()=>{const x=h.current;if(x){const y=b=>{var _,A,E;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const N=document.activeElement,T=b.shiftKey;if(b.target===x&&T){(_=u.current)==null||_.focus();return}const I=g({tabbingDirection:T?"backwards":"forwards"}),F=I.findIndex($=>$===N);DN(I.slice(F+1))?b.preventDefault():T?(A=u.current)==null||A.focus():(E=d.current)==null||E.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[o,g]),l.jsxs(Wte,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(zT,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});DN(x)}}),l.jsx(xD.Slot,{scope:r,children:l.jsx(Me.ol,{tabIndex:-1,...s,ref:f})}),v&&l.jsx(zT,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});DN(x)}})]})});IH.displayName=RH;var $H="ToastFocusProxy",zT=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=gE($H,r);return l.jsx(mE,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});zT.displayName=$H;var Uw="Toast",ire="toast.swipeStart",sre="toast.swipeMove",are="toast.swipeCancel",ore="toast.swipeEnd",LH=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o,c]=Mc({prop:n,defaultProp:i??!0,onChange:s,caller:Uw});return l.jsx(ai,{present:r||o,children:l.jsx(ure,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:_r(t.onPause),onResume:_r(t.onResume),onSwipeStart:ye(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ye(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});LH.displayName=Uw;var[lre,cre]=MH(Uw,{onClose(){}}),ure=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=t,g=gE(Uw,r),[x,y]=j.useState(null),b=tt(e,$=>y($)),w=j.useRef(null),S=j.useRef(null),_=i||g.duration,A=j.useRef(0),E=j.useRef(_),N=j.useRef(0),{onToastAdd:T,onToastRemove:D}=g,O=_r(()=>{var B;(x==null?void 0:x.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),a()}),I=j.useCallback($=>{!$||$===1/0||(window.clearTimeout(N.current),A.current=new Date().getTime(),N.current=window.setTimeout(O,$))},[O]);j.useEffect(()=>{const $=g.viewport;if($){const B=()=>{I(E.current),u==null||u()},L=()=>{const P=new Date().getTime()-A.current;E.current=E.current-P,window.clearTimeout(N.current),c==null||c()};return $.addEventListener(LT,L),$.addEventListener(FT,B),()=>{$.removeEventListener(LT,L),$.removeEventListener(FT,B)}}},[g.viewport,_,c,u,I]),j.useEffect(()=>{s&&!g.isClosePausedRef.current&&I(_)},[s,_,g.isClosePausedRef,I]),j.useEffect(()=>(T(),()=>D()),[T,D]);const F=j.useMemo(()=>x?VH(x):null,[x]);return g.viewport?l.jsxs(l.Fragment,{children:[F&&l.jsx(dre,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),l.jsx(lre,{scope:r,onClose:O,children:op.createPortal(l.jsx(xD.ItemSlot,{scope:r,children:l.jsx(Hte,{asChild:!0,onEscapeKeyDown:ye(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,$=>{$.key==="Escape"&&(o==null||o($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ye(t.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:ye(t.onPointerMove,$=>{if(!w.current)return;const B=$.clientX-w.current.x,L=$.clientY-w.current.y,P=!!S.current,R=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=R?U(0,B):0,J=R?0:U(0,L),X=$.pointerType==="touch"?10:2,ee={x:Y,y:J},ue={originalEvent:$,delta:ee};P?(S.current=ee,F_(sre,h,ue,{discrete:!1})):IL(ee,g.swipeDirection,X)?(S.current=ee,F_(ire,d,ue,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(B)>X||Math.abs(L)>X)&&(w.current=null)}),onPointerUp:ye(t.onPointerUp,$=>{const B=S.current,L=$.target;if(L.hasPointerCapture($.pointerId)&&L.releasePointerCapture($.pointerId),S.current=null,w.current=null,B){const P=$.currentTarget,R={originalEvent:$,delta:B};IL(B,g.swipeDirection,g.swipeThreshold)?F_(ore,p,R,{discrete:!0}):F_(are,f,R,{discrete:!0}),P.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),dre=t=>{const{__scopeToast:e,children:r,...n}=t,i=gE(Uw,e),[s,a]=j.useState(!1),[o,c]=j.useState(!1);return pre(()=>a(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Bw,{asChild:!0,children:l.jsx(mE,{...n,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},hre="ToastTitle",FH=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Me.div,{...n,ref:e})});FH.displayName=hre;var fre="ToastDescription",zH=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Me.div,{...n,ref:e})});zH.displayName=fre;var BH="ToastAction",UH=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(WH,{altText:r,asChild:!0,children:l.jsx(bD,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BH}\`. Expected non-empty \`string\`.`),null)});UH.displayName=BH;var HH="ToastClose",bD=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=cre(HH,r);return l.jsx(WH,{asChild:!0,children:l.jsx(Me.button,{type:"button",...n,ref:e,onClick:ye(t.onClick,i.onClose)})})});bD.displayName=HH;var WH=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return l.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function VH(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),mre(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...VH(n))}}),e}function F_(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?vD(i,s):i.dispatchEvent(s)}var IL=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function pre(t=()=>{}){const e=_r(t);Nr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function mre(t){return t.nodeType===t.ELEMENT_NODE}function gre(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function DN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var vre=DH,qH=IH,GH=LH,KH=FH,YH=zH,XH=UH,ZH=bD;function QH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=QH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function mt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=QH(t))&&(n&&(n+=" "),n+=e);return n}const $L=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LL=mt,Hw=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return LL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],h=s==null?void 0:s[u];if(d===null)return null;const f=$L(d)||$L(h);return i[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...s,...o}[g]):{...s,...o}[g]===x})?[...u,h,f]:u},[]);return LL(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JH=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},c)=>j.createElement("svg",{ref:c,...xre,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:JH("lucide",i),...o},[...a.map(([u,d])=>j.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(bre,{ref:s,iconNode:e,className:JH(`lucide-${yre(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Ce("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ce("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=Ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=Ce("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Ce("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=Ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=Ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=Ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=Ce("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=Ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Ce("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=Ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Ce("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ce("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),AD="-",Fre=t=>{const e=Bre(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(AD);return o[0]===""&&o.length!==1&&o.shift(),o8(o,e)||zre(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},o8=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?o8(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(AD);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},BL=/^\[(.+)\]$/,zre=t=>{if(BL.test(t)){const e=BL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Bre=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Hre(Object.entries(t.classGroups),r).forEach(([s,a])=>{HT(a,n,s,e)}),n},HT=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:UL(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Ure(i)){HT(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{HT(a,UL(e,s),r,n)})})},UL=(t,e)=>{let r=t;return e.split(AD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ure=t=>t.isThemeGetter,Hre=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,Wre=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},l8="!",Vre=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,h;for(let x=0;x<o.length;x++){let y=o[x];if(u===0){if(y===i&&(n||o.slice(x,x+s)===e)){c.push(o.slice(d,x)),d=x+s;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?o:o.substring(d),p=f.startsWith(l8),v=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:a}):a},qre=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Gre=t=>({cache:Wre(t.cacheSize),parseClassName:Vre(t),...Fre(t)}),Kre=/\s+/,Yre=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(Kre);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?f.substring(0,p):f);if(!g){if(!v){o=u+(o.length>0?" "+o:o);continue}if(g=n(f),!g){o=u+(o.length>0?" "+o:o);continue}v=!1}const x=qre(d).join(":"),y=h?x+l8:x,b=y+g;if(s.includes(b))continue;s.push(b);const w=i(g,v);for(let S=0;S<w.length;++S){const _=w[S];s.push(y+_)}o=u+(o.length>0?" "+o:o)}return o};function Xre(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=c8(e))&&(n&&(n+=" "),n+=r);return n}const c8=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=c8(t[n]))&&(r&&(r+=" "),r+=e);return r};function Zre(t,...e){let r,n,i,s=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return r=Gre(u),n=r.cache.get,i=r.cache.set,s=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=Yre(c,r);return i(c,d),d}return function(){return s(Xre.apply(null,arguments))}}const Xt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},u8=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qre=/^\d+\/\d+$/,Jre=new Set(["px","full","screen"]),ene=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ine=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bl=t=>wm(t)||Jre.has(t)||Qre.test(t),Yc=t=>Kv(t,"length",hne),wm=t=>!!t&&!Number.isNaN(Number(t)),RN=t=>Kv(t,"number",wm),Ey=t=>!!t&&Number.isInteger(Number(t)),sne=t=>t.endsWith("%")&&wm(t.slice(0,-1)),Je=t=>u8.test(t),Xc=t=>ene.test(t),ane=new Set(["length","size","percentage"]),one=t=>Kv(t,ane,d8),lne=t=>Kv(t,"position",d8),cne=new Set(["image","url"]),une=t=>Kv(t,cne,pne),dne=t=>Kv(t,"",fne),Cy=()=>!0,Kv=(t,e,r)=>{const n=u8.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},hne=t=>tne.test(t)&&!rne.test(t),d8=()=>!1,fne=t=>nne.test(t),pne=t=>ine.test(t),mne=()=>{const t=Xt("colors"),e=Xt("spacing"),r=Xt("blur"),n=Xt("brightness"),i=Xt("borderColor"),s=Xt("borderRadius"),a=Xt("borderSpacing"),o=Xt("borderWidth"),c=Xt("contrast"),u=Xt("grayscale"),d=Xt("hueRotate"),h=Xt("invert"),f=Xt("gap"),p=Xt("gradientColorStops"),v=Xt("gradientColorStopPositions"),g=Xt("inset"),x=Xt("margin"),y=Xt("opacity"),b=Xt("padding"),w=Xt("saturate"),S=Xt("scale"),_=Xt("sepia"),A=Xt("skew"),E=Xt("space"),N=Xt("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Je,e],I=()=>[Je,e],F=()=>["",bl,Yc],$=()=>["auto",wm,Je],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Je],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[wm,Je];return{cacheSize:500,separator:":",theme:{colors:[Cy],spacing:[bl,Yc],blur:["none","",Xc,Je],brightness:J(),borderColor:[t],borderRadius:["none","","full",Xc,Je],borderSpacing:I(),borderWidth:F(),contrast:J(),grayscale:U(),hueRotate:J(),invert:U(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[sne,Yc],inset:O(),margin:O(),opacity:J(),padding:I(),saturate:J(),scale:J(),sepia:U(),skew:J(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Xc]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Je]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ey,Je]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ey,Je]}],"grid-cols":[{"grid-cols":[Cy]}],"col-start-end":[{col:["auto",{span:["full",Ey,Je]},Je]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Cy]}],"row-start-end":[{row:["auto",{span:[Ey,Je]},Je]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Xc]},Xc]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xc,Yc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",RN]}],"font-family":[{font:[Cy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",wm,RN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bl,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bl,Yc]}],"underline-offset":[{"underline-offset":["auto",bl,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),lne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",one]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},une]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[bl,Je]}],"outline-w":[{outline:[bl,Yc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[bl,Yc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xc,dne]}],"shadow-color":[{shadow:[Cy]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xc,Je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ey,Je]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bl,Yc,RN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gne=Zre(mne);function De(...t){return gne(mt(t))}const vne=vre,h8=j.forwardRef(({className:t,...e},r)=>l.jsx(qH,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));h8.displayName=qH.displayName;const yne=Hw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f8=j.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(GH,{ref:n,className:De(yne({variant:e}),t),...r}));f8.displayName=GH.displayName;const xne=j.forwardRef(({className:t,...e},r)=>l.jsx(XH,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));xne.displayName=XH.displayName;const p8=j.forwardRef(({className:t,...e},r)=>l.jsx(ZH,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(lp,{className:"h-4 w-4"})}));p8.displayName=ZH.displayName;const m8=j.forwardRef(({className:t,...e},r)=>l.jsx(KH,{ref:r,className:De("text-sm font-semibold",t),...e}));m8.displayName=KH.displayName;const g8=j.forwardRef(({className:t,...e},r)=>l.jsx(YH,{ref:r,className:De("text-sm opacity-90",t),...e}));g8.displayName=YH.displayName;function bne(){const{toasts:t}=Os();return l.jsxs(vne,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return l.jsxs(f8,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(m8,{children:r}),n&&l.jsx(g8,{children:n})]}),i,l.jsx(p8,{})]},e)}),l.jsx(h8,{})]})}var HL=["light","dark"],wne="(prefers-color-scheme: dark)",_ne=j.createContext(void 0),Sne={setTheme:t=>{},themes:[]},jne=()=>{var t;return(t=j.useContext(_ne))!=null?t:Sne};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?HL.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,g=!1,x=!0)=>{let y=a?a[v]:v,b=g?v+"|| ''":`'${y}'`,w="";return i&&x&&!g&&HL.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?g||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},p=t?`!function(){${d}${f(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${wne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return j.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Ane=t=>{switch(t){case"success":return Nne;case"info":return Tne;case"warning":return Pne;case"error":return kne;default:return null}},Ene=Array(12).fill(0),Cne=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},Ene.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Nne=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pne=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Tne=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kne=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),One=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Mne=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},WT=1,Dne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:WT++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:r}),{...o,...t,id:i,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,a=n.then(async c=>{if(s=["resolve",c],z.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Ine(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||WT++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$i=new Dne,Rne=(t,e)=>{let r=(e==null?void 0:e.id)||WT++;return $i.addToast({title:t,...e,id:r}),r},Ine=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$ne=Rne,Lne=()=>$i.toasts,Fne=()=>$i.getActiveToasts(),wa=Object.assign($ne,{success:$i.success,info:$i.info,warning:$i.warning,error:$i.error,custom:$i.custom,message:$i.message,promise:$i.promise,dismiss:$i.dismiss,loading:$i.loading},{getHistory:Lne,getToasts:Fne});function zne(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}zne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function z_(t){return t.label!==void 0}var Bne=3,Une="32px",Hne="16px",WL=4e3,Wne=356,Vne=14,qne=20,Gne=200;function xa(...t){return t.filter(Boolean).join(" ")}function Kne(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var Yne=t=>{var e,r,n,i,s,a,o,c,u,d,h;let{invert:f,toast:p,unstyled:v,interacting:g,setHeights:x,visibleToasts:y,heights:b,index:w,toasts:S,expanded:_,removeToast:A,defaultRichColors:E,closeButton:N,style:T,cancelButtonStyle:D,actionButtonStyle:O,className:I="",descriptionClassName:F="",duration:$,position:B,gap:L,loadingIcon:P,expandByDefault:R,classNames:U,icons:Y,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:X}=t,[ee,ue]=z.useState(null),[we,je]=z.useState(null),[V,H]=z.useState(!1),[Q,ie]=z.useState(!1),[ae,W]=z.useState(!1),[me,Ae]=z.useState(!1),[Oe,Fe]=z.useState(!1),[rt,kr]=z.useState(0),[Yr,K]=z.useState(0),q=z.useRef(p.duration||$||WL),Z=z.useRef(null),le=z.useRef(null),ge=w===0,fe=w+1<=y,_e=p.type,vt=p.dismissible!==!1,Mt=p.className||"",Pi=p.descriptionClassName||"",yl=z.useMemo(()=>b.findIndex(Ke=>Ke.toastId===p.id)||0,[b,p.id]),co=z.useMemo(()=>{var Ke;return(Ke=p.closeButton)!=null?Ke:N},[p.closeButton,N]),y_=z.useMemo(()=>p.duration||$||WL,[p.duration,$]),Vd=z.useRef(0),uo=z.useRef(0),x_=z.useRef(0),xl=z.useRef(null),[nN,b_]=B.split("-"),b$=z.useMemo(()=>b.reduce((Ke,Dt,rr)=>rr>=yl?Ke:Ke+Dt.height,0),[b,yl]),w$=Mne(),qQ=p.invert||f,iN=_e==="loading";uo.current=z.useMemo(()=>yl*L+b$,[yl,b$]),z.useEffect(()=>{q.current=y_},[y_]),z.useEffect(()=>{H(!0)},[]),z.useEffect(()=>{let Ke=le.current;if(Ke){let Dt=Ke.getBoundingClientRect().height;return K(Dt),x(rr=>[{toastId:p.id,height:Dt,position:p.position},...rr]),()=>x(rr=>rr.filter(ma=>ma.toastId!==p.id))}},[x,p.id]),z.useLayoutEffect(()=>{if(!V)return;let Ke=le.current,Dt=Ke.style.height;Ke.style.height="auto";let rr=Ke.getBoundingClientRect().height;Ke.style.height=Dt,K(rr),x(ma=>ma.find(ga=>ga.toastId===p.id)?ma.map(ga=>ga.toastId===p.id?{...ga,height:rr}:ga):[{toastId:p.id,height:rr,position:p.position},...ma])},[V,p.title,p.description,x,p.id]);let Vc=z.useCallback(()=>{ie(!0),kr(uo.current),x(Ke=>Ke.filter(Dt=>Dt.toastId!==p.id)),setTimeout(()=>{A(p)},Gne)},[p,A,x,uo]);z.useEffect(()=>{if(p.promise&&_e==="loading"||p.duration===1/0||p.type==="loading")return;let Ke;return _||g||X&&w$?(()=>{if(x_.current<Vd.current){let Dt=new Date().getTime()-Vd.current;q.current=q.current-Dt}x_.current=new Date().getTime()})():q.current!==1/0&&(Vd.current=new Date().getTime(),Ke=setTimeout(()=>{var Dt;(Dt=p.onAutoClose)==null||Dt.call(p,p),Vc()},q.current)),()=>clearTimeout(Ke)},[_,g,p,_e,X,w$,Vc]),z.useEffect(()=>{p.delete&&Vc()},[Vc,p.delete]);function GQ(){var Ke,Dt,rr;return Y!=null&&Y.loading?z.createElement("div",{className:xa(U==null?void 0:U.loader,(Ke=p==null?void 0:p.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":_e==="loading"},Y.loading):P?z.createElement("div",{className:xa(U==null?void 0:U.loader,(Dt=p==null?void 0:p.classNames)==null?void 0:Dt.loader,"sonner-loader"),"data-visible":_e==="loading"},P):z.createElement(Cne,{className:xa(U==null?void 0:U.loader,(rr=p==null?void 0:p.classNames)==null?void 0:rr.loader),visible:_e==="loading"})}return z.createElement("li",{tabIndex:0,ref:le,className:xa(I,Mt,U==null?void 0:U.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[_e],(r=p==null?void 0:p.classNames)==null?void 0:r[_e]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":Q,"data-visible":fe,"data-y-position":nN,"data-x-position":b_,"data-index":w,"data-front":ge,"data-swiping":ae,"data-dismissible":vt,"data-type":_e,"data-invert":qQ,"data-swipe-out":me,"data-swipe-direction":we,"data-expanded":!!(_||R&&V),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Q?rt:uo.current}px`,"--initial-height":R?"auto":`${Yr}px`,...T,...p.style},onDragEnd:()=>{W(!1),ue(null),xl.current=null},onPointerDown:Ke=>{iN||!vt||(Z.current=new Date,kr(uo.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(W(!0),xl.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,Dt,rr,ma;if(me||!vt)return;xl.current=null;let ga=Number(((Ke=le.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qc=Number(((Dt=le.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qd=new Date().getTime()-((rr=Z.current)==null?void 0:rr.getTime()),va=ee==="x"?ga:qc,Gc=Math.abs(va)/qd;if(Math.abs(va)>=qne||Gc>.11){kr(uo.current),(ma=p.onDismiss)==null||ma.call(p,p),je(ee==="x"?ga>0?"right":"left":qc>0?"down":"up"),Vc(),Ae(!0),Fe(!1);return}W(!1),ue(null)},onPointerMove:Ke=>{var Dt,rr,ma,ga;if(!xl.current||!vt||((Dt=window.getSelection())==null?void 0:Dt.toString().length)>0)return;let qc=Ke.clientY-xl.current.y,qd=Ke.clientX-xl.current.x,va=(rr=t.swipeDirections)!=null?rr:Kne(B);!ee&&(Math.abs(qd)>1||Math.abs(qc)>1)&&ue(Math.abs(qd)>Math.abs(qc)?"x":"y");let Gc={x:0,y:0};ee==="y"?(va.includes("top")||va.includes("bottom"))&&(va.includes("top")&&qc<0||va.includes("bottom")&&qc>0)&&(Gc.y=qc):ee==="x"&&(va.includes("left")||va.includes("right"))&&(va.includes("left")&&qd<0||va.includes("right")&&qd>0)&&(Gc.x=qd),(Math.abs(Gc.x)>0||Math.abs(Gc.y)>0)&&Fe(!0),(ma=le.current)==null||ma.style.setProperty("--swipe-amount-x",`${Gc.x}px`),(ga=le.current)==null||ga.style.setProperty("--swipe-amount-y",`${Gc.y}px`)}},co&&!p.jsx?z.createElement("button",{"aria-label":J,"data-disabled":iN,"data-close-button":!0,onClick:iN||!vt?()=>{}:()=>{var Ke;Vc(),(Ke=p.onDismiss)==null||Ke.call(p,p)},className:xa(U==null?void 0:U.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=Y==null?void 0:Y.close)!=null?s:One):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:z.createElement(z.Fragment,null,_e||p.icon||p.promise?z.createElement("div",{"data-icon":"",className:xa(U==null?void 0:U.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||GQ():null,p.type!=="loading"?p.icon||(Y==null?void 0:Y[_e])||Ane(_e):null):null,z.createElement("div",{"data-content":"",className:xa(U==null?void 0:U.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:xa(U==null?void 0:U.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?z.createElement("div",{"data-description":"",className:xa(F,Pi,U==null?void 0:U.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&z_(p.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:Ke=>{var Dt,rr;z_(p.cancel)&&vt&&((rr=(Dt=p.cancel).onClick)==null||rr.call(Dt,Ke),Vc())},className:xa(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&z_(p.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:Ke=>{var Dt,rr;z_(p.action)&&((rr=(Dt=p.action).onClick)==null||rr.call(Dt,Ke),!Ke.defaultPrevented&&Vc())},className:xa(U==null?void 0:U.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function VL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Xne(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?Hne:Une;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var Zne=j.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:v=Bne,toastOptions:g,dir:x=VL(),gap:y=Vne,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=t,[A,E]=z.useState([]),N=z.useMemo(()=>Array.from(new Set([n].concat(A.filter(X=>X.position).map(X=>X.position)))),[A,n]),[T,D]=z.useState([]),[O,I]=z.useState(!1),[F,$]=z.useState(!1),[B,L]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=z.useRef(null),R=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=z.useRef(null),Y=z.useRef(!1),J=z.useCallback(X=>{E(ee=>{var ue;return(ue=ee.find(we=>we.id===X.id))!=null&&ue.delete||$i.dismiss(X.id),ee.filter(({id:we})=>we!==X.id)})},[]);return z.useEffect(()=>$i.subscribe(X=>{if(X.dismiss){E(ee=>ee.map(ue=>ue.id===X.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{EH.flushSync(()=>{E(ee=>{let ue=ee.findIndex(we=>we.id===X.id);return ue!==-1?[...ee.slice(0,ue),{...ee[ue],...X},...ee.slice(ue+1)]:[X,...ee]})})})}),[]),z.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ee})=>{L(ee?"dark":"light")})}catch{X.addListener(({matches:ue})=>{try{L(ue?"dark":"light")}catch(we){console.error(we)}})}},[d]),z.useEffect(()=>{A.length<=1&&I(!1)},[A]),z.useEffect(()=>{let X=ee=>{var ue,we;i.every(je=>ee[je]||ee.code===je)&&(I(!0),(ue=P.current)==null||ue.focus()),ee.code==="Escape"&&(document.activeElement===P.current||(we=P.current)!=null&&we.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),z.useEffect(()=>{if(P.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Y.current=!1)}},[P.current]),z.createElement("section",{ref:e,"aria-label":`${S} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((X,ee)=>{var ue;let[we,je]=X.split("-");return A.length?z.createElement("ol",{key:X,dir:x==="auto"?VL():x,tabIndex:-1,ref:P,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":we,"data-lifted":O&&A.length>1&&!s,"data-x-position":je,style:{"--front-toast-height":`${((ue=T[0])==null?void 0:ue.height)||0}px`,"--width":`${Wne}px`,"--gap":`${y}px`,...p,...Xne(c,u)},onBlur:V=>{Y.current&&!V.currentTarget.contains(V.relatedTarget)&&(Y.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,U.current=V.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onDragEnd:()=>I(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},A.filter(V=>!V.position&&ee===0||V.position===X).map((V,H)=>{var Q,ie;return z.createElement(Yne,{key:V.id,icons:w,index:H,toast:V,defaultRichColors:h,duration:(Q=g==null?void 0:g.duration)!=null?Q:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:a,interacting:F,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:A.filter(ae=>ae.position==V.position),heights:T.filter(ae=>ae.position==V.position),setHeights:D,expandByDefault:s,gap:y,loadingIcon:b,expanded:O,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const Qne=({...t})=>{const{theme:e="system"}=jne();return l.jsx(Zne,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Jne=EM[" useId ".trim().toString()]||(()=>{}),eie=0;function rl(t){const[e,r]=j.useState(Jne());return Nr(()=>{r(n=>n??String(eie++))},[t]),e?`radix-${e}`:""}const tie=["top","right","bottom","left"],Ad=Math.min,bs=Math.max,QS=Math.round,B_=Math.floor,nl=t=>({x:t,y:t}),rie={left:"right",right:"left",bottom:"top",top:"bottom"},nie={start:"end",end:"start"};function VT(t,e,r){return bs(t,Ad(e,r))}function Rc(t,e){return typeof t=="function"?t(e):t}function Ic(t){return t.split("-")[0]}function Yv(t){return t.split("-")[1]}function ED(t){return t==="x"?"y":"x"}function CD(t){return t==="y"?"height":"width"}const iie=new Set(["top","bottom"]);function Go(t){return iie.has(Ic(t))?"y":"x"}function ND(t){return ED(Go(t))}function sie(t,e,r){r===void 0&&(r=!1);const n=Yv(t),i=ND(t),s=CD(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=JS(a)),[a,JS(a)]}function aie(t){const e=JS(t);return[qT(t),e,qT(e)]}function qT(t){return t.replace(/start|end/g,e=>nie[e])}const qL=["left","right"],GL=["right","left"],oie=["top","bottom"],lie=["bottom","top"];function cie(t,e,r){switch(t){case"top":case"bottom":return r?e?GL:qL:e?qL:GL;case"left":case"right":return e?oie:lie;default:return[]}}function uie(t,e,r,n){const i=Yv(t);let s=cie(Ic(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(qT)))),s}function JS(t){return t.replace(/left|right|bottom|top/g,e=>rie[e])}function die(t){return{top:0,right:0,bottom:0,left:0,...t}}function v8(t){return typeof t!="number"?die(t):{top:t,right:t,bottom:t,left:t}}function ej(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function KL(t,e,r){let{reference:n,floating:i}=t;const s=Go(e),a=ND(e),o=CD(a),c=Ic(e),u=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Yv(e)){case"start":p[a]-=f*(r&&u?-1:1);break;case"end":p[a]+=f*(r&&u?-1:1);break}return p}const hie=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=KL(u,n,c),f=n,p={},v=0;for(let g=0;g<o.length;g++){const{name:x,fn:y}=o[g],{x:b,y:w,data:S,reset:_}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=b??d,h=w??h,p={...p,[x]:{...p[x],...S}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:d,y:h}=KL(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function ub(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Rc(e,t),v=v8(p),x=o[f?h==="floating"?"reference":"floating":h],y=ej(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=ej(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-_.top+v.top)/S.y,bottom:(_.bottom-y.bottom+v.bottom)/S.y,left:(y.left-_.left+v.left)/S.x,right:(_.right-y.right+v.right)/S.x}}const fie=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=Rc(t,e)||{};if(u==null)return{};const h=v8(d),f={x:r,y:n},p=ND(i),v=CD(p),g=await a.getDimensions(u),x=p==="y",y=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=s.reference[v]+s.reference[p]-f[p]-s.floating[v],_=f[p]-s.reference[p],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=A?A[w]:0;(!E||!await(a.isElement==null?void 0:a.isElement(A)))&&(E=o.floating[w]||s.floating[v]);const N=S/2-_/2,T=E/2-g[v]/2-1,D=Ad(h[y],T),O=Ad(h[b],T),I=D,F=E-g[v]-O,$=E/2-g[v]/2+N,B=VT(I,$,F),L=!c.arrow&&Yv(i)!=null&&$!==B&&s.reference[v]/2-($<I?D:O)-g[v]/2<0,P=L?$<I?$-I:$-F:0;return{[p]:f[p]+P,data:{[p]:B,centerOffset:$-B-P,...L&&{alignmentOffset:P}},reset:L}}}),pie=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=Rc(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Ic(i),b=Go(o),w=Ic(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(w||!g?[JS(o)]:aie(o)),A=v!=="none";!f&&A&&_.push(...uie(o,g,v,S));const E=[o,..._],N=await ub(e,x),T=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&T.push(N[y]),h){const $=sie(i,a,S);T.push(N[$[0]],N[$[1]])}if(D=[...D,{placement:i,overflows:T}],!T.every($=>$<=0)){var O,I;const $=(((O=s.flip)==null?void 0:O.index)||0)+1,B=E[$];if(B&&(!(h==="alignment"?b!==Go(B):!1)||D.every(R=>Go(R.placement)===b?R.overflows[0]>0:!0)))return{data:{index:$,overflows:D},reset:{placement:B}};let L=(I=D.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(p){case"bestFit":{var F;const P=(F=D.filter(R=>{if(A){const U=Go(R.placement);return U===b||U==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort((R,U)=>R[1]-U[1])[0])==null?void 0:F[0];P&&(L=P);break}case"initialPlacement":L=o;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function YL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XL(t){return tie.some(e=>t[e]>=0)}const mie=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Rc(t,e);switch(n){case"referenceHidden":{const s=await ub(e,{...i,elementContext:"reference"}),a=YL(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:XL(a)}}}case"escaped":{const s=await ub(e,{...i,altBoundary:!0}),a=YL(s,r.floating);return{data:{escapedOffsets:a,escaped:XL(a)}}}default:return{}}}}},y8=new Set(["left","top"]);async function gie(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Ic(r),o=Yv(r),c=Go(r)==="y",u=y8.has(a)?-1:1,d=s&&c?-1:1,h=Rc(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(p=o==="end"?v*-1:v),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const vie=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await gie(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},yie=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...c}=Rc(t,e),u={x:r,y:n},d=await ub(e,c),h=Go(Ic(i)),f=ED(h);let p=u[f],v=u[h];if(s){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+d[x],w=p-d[y];p=VT(b,p,w)}if(a){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=v+d[x],w=v-d[y];v=VT(b,v,w)}const g=o.fn({...e,[f]:p,[h]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:s,[h]:a}}}}}},xie=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Rc(t,e),d={x:r,y:n},h=Go(i),f=ED(h);let p=d[f],v=d[h];const g=Rc(o,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",S=s.reference[f]-s.floating[w]+x.mainAxis,_=s.reference[f]+s.reference[w]-x.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var y,b;const w=f==="y"?"width":"height",S=y8.has(Ic(i)),_=s.reference[h]-s.floating[w]+(S&&((y=a.offset)==null?void 0:y[h])||0)+(S?0:x.crossAxis),A=s.reference[h]+s.reference[w]+(S?0:((b=a.offset)==null?void 0:b[h])||0)-(S?x.crossAxis:0);v<_?v=_:v>A&&(v=A)}return{[f]:p,[h]:v}}}},bie=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=Rc(t,e),d=await ub(e,u),h=Ic(i),f=Yv(i),p=Go(i)==="y",{width:v,height:g}=s.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=v-d.left-d.right,S=Ad(g-d[x],b),_=Ad(v-d[y],w),A=!e.middlewareData.shift;let E=S,N=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=b),A&&!f){const D=bs(d.left,0),O=bs(d.right,0),I=bs(d.top,0),F=bs(d.bottom,0);p?N=v-2*(D!==0||O!==0?D+O:bs(d.left,d.right)):E=g-2*(I!==0||F!==0?I+F:bs(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:E});const T=await a.getDimensions(o.floating);return v!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function xE(){return typeof window<"u"}function Xv(t){return x8(t)?(t.nodeName||"").toLowerCase():"#document"}function Es(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pl(t){var e;return(e=(x8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function x8(t){return xE()?t instanceof Node||t instanceof Es(t).Node:!1}function eo(t){return xE()?t instanceof Element||t instanceof Es(t).Element:!1}function ol(t){return xE()?t instanceof HTMLElement||t instanceof Es(t).HTMLElement:!1}function ZL(t){return!xE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Es(t).ShadowRoot}const wie=new Set(["inline","contents"]);function Vw(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=to(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!wie.has(i)}const _ie=new Set(["table","td","th"]);function Sie(t){return _ie.has(Xv(t))}const jie=[":popover-open",":modal"];function bE(t){return jie.some(e=>{try{return t.matches(e)}catch{return!1}})}const Aie=["transform","translate","scale","rotate","perspective"],Eie=["transform","translate","scale","rotate","perspective","filter"],Cie=["paint","layout","strict","content"];function PD(t){const e=TD(),r=eo(t)?to(t):t;return Aie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Eie.some(n=>(r.willChange||"").includes(n))||Cie.some(n=>(r.contain||"").includes(n))}function Nie(t){let e=Ed(t);for(;ol(e)&&!uv(e);){if(PD(e))return e;if(bE(e))return null;e=Ed(e)}return null}function TD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Pie=new Set(["html","body","#document"]);function uv(t){return Pie.has(Xv(t))}function to(t){return Es(t).getComputedStyle(t)}function wE(t){return eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ed(t){if(Xv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZL(t)&&t.host||pl(t);return ZL(e)?e.host:e}function b8(t){const e=Ed(t);return uv(e)?t.ownerDocument?t.ownerDocument.body:t.body:ol(e)&&Vw(e)?e:b8(e)}function db(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=b8(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Es(i);if(s){const o=GT(a);return e.concat(a,a.visualViewport||[],Vw(i)?i:[],o&&r?db(o):[])}return e.concat(i,db(i,[],r))}function GT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function w8(t){const e=to(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ol(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=QS(r)!==s||QS(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function kD(t){return eo(t)?t:t.contextElement}function _m(t){const e=kD(t);if(!ol(e))return nl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=w8(e);let a=(s?QS(r.width):r.width)/n,o=(s?QS(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Tie=nl(0);function _8(t){const e=Es(t);return!TD()||!e.visualViewport?Tie:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kie(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Es(t)?!1:e}function Hf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=kD(t);let a=nl(1);e&&(n?eo(n)&&(a=_m(n)):a=_m(t));const o=kie(s,r,n)?_8(s):nl(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const f=Es(s),p=n&&eo(n)?Es(n):n;let v=f,g=GT(v);for(;g&&n&&p!==v;){const x=_m(g),y=g.getBoundingClientRect(),b=to(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*x.x,S=y.top+(g.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=w,u+=S,v=Es(g),g=GT(v)}}return ej({width:d,height:h,x:c,y:u})}function OD(t,e){const r=wE(t).scrollLeft;return e?e.left+r:Hf(pl(t)).left+r}function S8(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:OD(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function Oie(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=pl(n),o=e?bE(e.floating):!1;if(n===a||o&&s)return r;let c={scrollLeft:0,scrollTop:0},u=nl(1);const d=nl(0),h=ol(n);if((h||!h&&!s)&&((Xv(n)!=="body"||Vw(a))&&(c=wE(n)),ol(n))){const p=Hf(n);u=_m(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=a&&!h&&!s?S8(a,c,!0):nl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Mie(t){return Array.from(t.getClientRects())}function Die(t){const e=pl(t),r=wE(t),n=t.ownerDocument.body,i=bs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=bs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+OD(t);const o=-r.scrollTop;return to(n).direction==="rtl"&&(a+=bs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Rie(t,e){const r=Es(t),n=pl(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=TD();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}const Iie=new Set(["absolute","fixed"]);function $ie(t,e){const r=Hf(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ol(t)?_m(t):nl(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:a,height:o,x:c,y:u}}function QL(t,e,r){let n;if(e==="viewport")n=Rie(t,r);else if(e==="document")n=Die(pl(t));else if(eo(e))n=$ie(e,r);else{const i=_8(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ej(n)}function j8(t,e){const r=Ed(t);return r===e||!eo(r)||uv(r)?!1:to(r).position==="fixed"||j8(r,e)}function Lie(t,e){const r=e.get(t);if(r)return r;let n=db(t,[],!1).filter(o=>eo(o)&&Xv(o)!=="body"),i=null;const s=to(t).position==="fixed";let a=s?Ed(t):t;for(;eo(a)&&!uv(a);){const o=to(a),c=PD(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&Iie.has(i.position)||Vw(a)&&!c&&j8(t,a))?n=n.filter(d=>d!==a):i=o,a=Ed(a)}return e.set(t,n),n}function Fie(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?bE(e)?[]:Lie(e,this._c):[].concat(r),n],o=a[0],c=a.reduce((u,d)=>{const h=QL(e,d,i);return u.top=bs(h.top,u.top),u.right=Ad(h.right,u.right),u.bottom=Ad(h.bottom,u.bottom),u.left=bs(h.left,u.left),u},QL(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zie(t){const{width:e,height:r}=w8(t);return{width:e,height:r}}function Bie(t,e,r){const n=ol(e),i=pl(e),s=r==="fixed",a=Hf(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=nl(0);function u(){c.x=OD(i)}if(n||!n&&!s)if((Xv(e)!=="body"||Vw(i))&&(o=wE(e)),n){const p=Hf(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?S8(i,o):nl(0),h=a.left+o.scrollLeft-c.x-d.x,f=a.top+o.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function IN(t){return to(t).position==="static"}function JL(t,e){if(!ol(t)||to(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return pl(t)===r&&(r=r.ownerDocument.body),r}function A8(t,e){const r=Es(t);if(bE(t))return r;if(!ol(t)){let i=Ed(t);for(;i&&!uv(i);){if(eo(i)&&!IN(i))return i;i=Ed(i)}return r}let n=JL(t,e);for(;n&&Sie(n)&&IN(n);)n=JL(n,e);return n&&uv(n)&&IN(n)&&!PD(n)?r:n||Nie(t)||r}const Uie=async function(t){const e=this.getOffsetParent||A8,r=this.getDimensions,n=await r(t.floating);return{reference:Bie(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hie(t){return to(t).direction==="rtl"}const Wie={convertOffsetParentRelativeRectToViewportRelativeRect:Oie,getDocumentElement:pl,getClippingRect:Fie,getOffsetParent:A8,getElementRects:Uie,getClientRects:Mie,getDimensions:zie,getScale:_m,isElement:eo,isRTL:Hie};function E8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Vie(t,e){let r=null,n;const i=pl(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(o||e(),!f||!p)return;const v=B_(h),g=B_(i.clientWidth-(d+f)),x=B_(i.clientHeight-(h+p)),y=B_(d),w={rootMargin:-v+"px "+-g+"px "+-x+"px "+-y+"px",threshold:bs(0,Ad(1,c))||1};let S=!0;function _(A){const E=A[0].intersectionRatio;if(E!==c){if(!S)return a();E?a(!1,E):n=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!E8(u,t.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(t)}return a(!0),s}function qie(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=kD(t),d=i||s?[...u?db(u):[],...db(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const h=u&&o?Vie(u,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let v,g=c?Hf(t):null;c&&x();function x(){const y=Hf(t);g&&!E8(g,y)&&r(),g=y,v=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(b=>{i&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Gie=vie,Kie=yie,Yie=pie,Xie=bie,Zie=mie,eF=fie,Qie=xie,Jie=(t,e,r)=>{const n=new Map,i={platform:Wie,...r},s={...i.platform,_c:n};return hie(t,e,{...i,platform:s})};var ese=typeof document<"u",tse=function(){},z1=ese?j.useLayoutEffect:tse;function tj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!tj(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!tj(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function C8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tF(t,e){const r=C8(t);return Math.round(e*r)/r}function $N(t){const e=j.useRef(t);return z1(()=>{e.current=t}),e}function rse(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,h]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=j.useState(n);tj(f,n)||p(n);const[v,g]=j.useState(null),[x,y]=j.useState(null),b=j.useCallback(R=>{R!==A.current&&(A.current=R,g(R))},[]),w=j.useCallback(R=>{R!==E.current&&(E.current=R,y(R))},[]),S=s||v,_=a||x,A=j.useRef(null),E=j.useRef(null),N=j.useRef(d),T=c!=null,D=$N(c),O=$N(i),I=$N(u),F=j.useCallback(()=>{if(!A.current||!E.current)return;const R={placement:e,strategy:r,middleware:f};O.current&&(R.platform=O.current),Jie(A.current,E.current,R).then(U=>{const Y={...U,isPositioned:I.current!==!1};$.current&&!tj(N.current,Y)&&(N.current=Y,op.flushSync(()=>{h(Y)}))})},[f,e,r,O,I]);z1(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const $=j.useRef(!1);z1(()=>($.current=!0,()=>{$.current=!1}),[]),z1(()=>{if(S&&(A.current=S),_&&(E.current=_),S&&_){if(D.current)return D.current(S,_,F);F()}},[S,_,F,D,T]);const B=j.useMemo(()=>({reference:A,floating:E,setReference:b,setFloating:w}),[b,w]),L=j.useMemo(()=>({reference:S,floating:_}),[S,_]),P=j.useMemo(()=>{const R={position:r,left:0,top:0};if(!L.floating)return R;const U=tF(L.floating,d.x),Y=tF(L.floating,d.y);return o?{...R,transform:"translate("+U+"px, "+Y+"px)",...C8(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:Y}},[r,o,L.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:F,refs:B,elements:L,floatingStyles:P}),[d,F,B,L,P])}const nse=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?eF({element:n.current,padding:i}).fn(r):{}:n?eF({element:n,padding:i}).fn(r):{}}}},ise=(t,e)=>({...Gie(t),options:[t,e]}),sse=(t,e)=>({...Kie(t),options:[t,e]}),ase=(t,e)=>({...Qie(t),options:[t,e]}),ose=(t,e)=>({...Yie(t),options:[t,e]}),lse=(t,e)=>({...Xie(t),options:[t,e]}),cse=(t,e)=>({...Zie(t),options:[t,e]}),use=(t,e)=>({...nse(t),options:[t,e]});var dse="Arrow",N8=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(Me.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});N8.displayName=dse;var hse=N8;function MD(t){const[e,r]=j.useState(void 0);return Nr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var DD="Popper",[P8,Zv]=Ci(DD),[fse,T8]=P8(DD),k8=t=>{const{__scopePopper:e,children:r}=t,[n,i]=j.useState(null);return l.jsx(fse,{scope:e,anchor:n,onAnchorChange:i,children:r})};k8.displayName=DD;var O8="PopperAnchor",M8=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=T8(O8,r),a=j.useRef(null),o=tt(e,a);return j.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(Me.div,{...i,ref:o})});M8.displayName=O8;var RD="PopperContent",[pse,mse]=P8(RD),D8=j.forwardRef((t,e)=>{var V,H,Q,ie,ae,W;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=t,x=T8(RD,r),[y,b]=j.useState(null),w=tt(e,me=>b(me)),[S,_]=j.useState(null),A=MD(S),E=(A==null?void 0:A.width)??0,N=(A==null?void 0:A.height)??0,T=n+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],I=O.length>0,F={padding:D,boundary:O.filter(vse),altBoundary:I},{refs:$,floatingStyles:B,placement:L,isPositioned:P,middlewareData:R}=rse({strategy:"fixed",placement:T,whileElementsMounted:(...me)=>qie(...me,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[ise({mainAxis:i+N,alignmentAxis:a}),c&&sse({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ase():void 0,...F}),c&&ose({...F}),lse({...F,apply:({elements:me,rects:Ae,availableWidth:Oe,availableHeight:Fe})=>{const{width:rt,height:kr}=Ae.reference,Yr=me.floating.style;Yr.setProperty("--radix-popper-available-width",`${Oe}px`),Yr.setProperty("--radix-popper-available-height",`${Fe}px`),Yr.setProperty("--radix-popper-anchor-width",`${rt}px`),Yr.setProperty("--radix-popper-anchor-height",`${kr}px`)}}),S&&use({element:S,padding:o}),yse({arrowWidth:E,arrowHeight:N}),f&&cse({strategy:"referenceHidden",...F})]}),[U,Y]=$8(L),J=_r(v);Nr(()=>{P&&(J==null||J())},[P,J]);const X=(V=R.arrow)==null?void 0:V.x,ee=(H=R.arrow)==null?void 0:H.y,ue=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[we,je]=j.useState();return Nr(()=>{y&&je(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:P?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(ie=R.transformOrigin)==null?void 0:ie.x,(ae=R.transformOrigin)==null?void 0:ae.y].join(" "),...((W=R.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(pse,{scope:r,placedSide:U,onArrowChange:_,arrowX:X,arrowY:ee,shouldHideArrow:ue,children:l.jsx(Me.div,{"data-side":U,"data-align":Y,...g,ref:w,style:{...g.style,animation:P?void 0:"none"}})})})});D8.displayName=RD;var R8="PopperArrow",gse={top:"bottom",right:"left",bottom:"top",left:"right"},I8=j.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=mse(R8,n),a=gse[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(hse,{...i,ref:r,style:{...i.style,display:"block"}})})});I8.displayName=R8;function vse(t){return t!==null}var yse=t=>({name:"transformOrigin",options:t,fn(e){var x,y,b;const{placement:r,rects:n,middlewareData:i}=e,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=$8(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=a?h:`${f}px`,g=`${-c}px`):u==="top"?(v=a?h:`${f}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=a?h:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=a?h:`${p}px`),{data:{x:v,y:g}}}});function $8(t){const[e,r="center"]=t.split("-");return[e,r]}var L8=k8,ID=M8,$D=D8,LD=I8,[_E,eWe]=Ci("Tooltip",[Zv]),FD=Zv(),F8="TooltipProvider",xse=700,rF="tooltip.open",[bse,z8]=_E(F8),B8=t=>{const{__scopeTooltip:e,delayDuration:r=xse,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=j.useRef(!0),o=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(bse,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:j.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};B8.displayName=F8;var U8="Tooltip",[tWe,SE]=_E(U8),KT="TooltipTrigger",wse=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=SE(KT,r),s=z8(KT,r),a=FD(r),o=j.useRef(null),c=tt(e,o,i.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),h=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(ID,{asChild:!0,...a,children:l.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:ye(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ye(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ye(t.onBlur,i.onClose),onClick:ye(t.onClick,i.onClose)})})});wse.displayName=KT;var _se="TooltipPortal",[rWe,Sse]=_E(_se,{forceMount:void 0}),dv="TooltipContent",H8=j.forwardRef((t,e)=>{const r=Sse(dv,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=SE(dv,t.__scopeTooltip);return l.jsx(ai,{present:n||a.open,children:a.disableHoverableContent?l.jsx(W8,{side:i,...s,ref:e}):l.jsx(jse,{side:i,...s,ref:e})})}),jse=j.forwardRef((t,e)=>{const r=SE(dv,t.__scopeTooltip),n=z8(dv,t.__scopeTooltip),i=j.useRef(null),s=tt(e,i),[a,o]=j.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,f=j.useCallback(()=>{o(null),h(!1)},[h]),p=j.useCallback((v,g)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},b=Pse(y,x.getBoundingClientRect()),w=Tse(y,b),S=kse(g.getBoundingClientRect()),_=Mse([...w,...S]);o(_),h(!0)},[h]);return j.useEffect(()=>()=>f(),[f]),j.useEffect(()=>{if(c&&d){const v=x=>p(x,d),g=x=>p(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),j.useEffect(()=>{if(a){const v=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!Ose(y,a);b?f():w&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,f]),l.jsx(W8,{...t,ref:s})}),[Ase,Ese]=_E(U8,{isInside:!1}),Cse=kte("TooltipContent"),W8=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=SE(dv,r),u=FD(r),{onClose:d}=c;return j.useEffect(()=>(document.addEventListener(rF,d),()=>document.removeEventListener(rF,d)),[d]),j.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(qv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs($D,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Cse,{children:n}),l.jsx(Ase,{scope:r,isInside:!0,children:l.jsx(Jte,{id:c.contentId,role:"tooltip",children:i||n})})]})})});H8.displayName=dv;var V8="TooltipArrow",Nse=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=FD(r);return Ese(V8,r).isInside?null:l.jsx(LD,{...i,...n,ref:e})});Nse.displayName=V8;function Pse(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Tse(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function kse(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Ose(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,h=c.x,f=c.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(i=!i)}return i}function Mse(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Dse(e)}function Dse(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Rse=B8,q8=H8;const Ise=Rse,$se=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(q8,{ref:n,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));$se.displayName=q8.displayName;var jE=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AE=typeof window>"u"||"Deno"in globalThis;function Ea(){}function Lse(t,e){return typeof t=="function"?t(e):t}function Fse(t){return typeof t=="number"&&t>=0&&t!==1/0}function zse(t,e){return Math.max(t+(e||0)-Date.now(),0)}function YT(t,e){return typeof t=="function"?t(e):t}function Bse(t,e){return typeof t=="function"?t(e):t}function nF(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==zD(a,e.options))return!1}else if(!fb(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function iF(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(hb(e.options.mutationKey)!==hb(s))return!1}else if(!fb(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function zD(t,e){return((e==null?void 0:e.queryKeyHashFn)||hb)(t)}function hb(t){return JSON.stringify(t,(e,r)=>XT(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function fb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>fb(t[r],e[r])):!1}function G8(t,e){if(t===e)return t;const r=sF(t)&&sF(e);if(r||XT(t)&&XT(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:s[d];(!r&&c.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,u++):(o[h]=G8(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&u++)}return i===a&&u===i?t:o}return e}function sF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function XT(t){if(!aF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!aF(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aF(t){return Object.prototype.toString.call(t)==="[object Object]"}function Use(t){return new Promise(e=>{setTimeout(e,t)})}function Hse(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?G8(t,e):e}function Wse(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Vse(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var BD=Symbol();function K8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===BD?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var bh,hu,Om,s6,qse=(s6=class extends jE{constructor(){super();k(this,bh);k(this,hu);k(this,Om);C(this,Om,e=>{if(!AE&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){m(this,hu)||this.setEventListener(m(this,Om))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,hu))==null||e.call(this),C(this,hu,void 0))}setEventListener(e){var r;C(this,Om,e),(r=m(this,hu))==null||r.call(this),C(this,hu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){m(this,bh)!==e&&(C(this,bh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof m(this,bh)=="boolean"?m(this,bh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bh=new WeakMap,hu=new WeakMap,Om=new WeakMap,s6),Y8=new qse,Mm,fu,Dm,a6,Gse=(a6=class extends jE{constructor(){super();k(this,Mm,!0);k(this,fu);k(this,Dm);C(this,Dm,e=>{if(!AE&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){m(this,fu)||this.setEventListener(m(this,Dm))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,fu))==null||e.call(this),C(this,fu,void 0))}setEventListener(e){var r;C(this,Dm,e),(r=m(this,fu))==null||r.call(this),C(this,fu,e(this.setOnline.bind(this)))}setOnline(e){m(this,Mm)!==e&&(C(this,Mm,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return m(this,Mm)}},Mm=new WeakMap,fu=new WeakMap,Dm=new WeakMap,a6),rj=new Gse;function Kse(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Yse(t){return Math.min(1e3*2**t,3e4)}function X8(t){return(t??"online")==="online"?rj.isOnline():!0}var Z8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function LN(t){return t instanceof Z8}function Q8(t){let e=!1,r=0,n=!1,i;const s=Kse(),a=g=>{var x;n||(f(new Z8(g)),(x=t.abort)==null||x.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>Y8.isFocused()&&(t.networkMode==="always"||rj.isOnline())&&t.canRun(),d=()=>X8(t.networkMode)&&t.canRun(),h=g=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,g),i==null||i(),s.resolve(g))},f=g=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,g),i==null||i(),s.reject(g))},p=()=>new Promise(g=>{var x;i=y=>{(n||u())&&g(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const x=r===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var A;if(n)return;const b=t.retry??(AE?0:3),w=t.retryDelay??Yse,S=typeof w=="function"?w(r,y):w,_=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!_){f(y);return}r++,(A=t.onFail)==null||A.call(t,r,y),Use(S).then(()=>u()?void 0:p()).then(()=>{e?f(y):v()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),s)}}var Xse=t=>setTimeout(t,0);function Zse(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Xse;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var yi=Zse(),wh,o6,J8=(o6=class{constructor(){k(this,wh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fse(this.gcTime)&&C(this,wh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(AE?1/0:5*60*1e3))}clearGcTimeout(){m(this,wh)&&(clearTimeout(m(this,wh)),C(this,wh,void 0))}},wh=new WeakMap,o6),Rm,_h,$s,Sh,Gn,s0,jh,Ca,jl,l6,Qse=(l6=class extends J8{constructor(e){super();k(this,Ca);k(this,Rm);k(this,_h);k(this,$s);k(this,Sh);k(this,Gn);k(this,s0);k(this,jh);C(this,jh,!1),C(this,s0,e.defaultOptions),this.setOptions(e.options),this.observers=[],C(this,Sh,e.client),C(this,$s,m(this,Sh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,C(this,Rm,eae(this.options)),this.state=e.state??m(this,Rm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=m(this,Gn))==null?void 0:e.promise}setOptions(e){this.options={...m(this,s0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,$s).remove(this)}setData(e,r){const n=Hse(this.state.data,e,this.options);return M(this,Ca,jl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){M(this,Ca,jl).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=m(this,Gn))==null?void 0:n.promise;return(i=m(this,Gn))==null||i.cancel(e),r?r.then(Ea).catch(Ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,Rm))}isActive(){return this.observers.some(e=>Bse(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===BD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>YT(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zse(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=m(this,Gn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=m(this,Gn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),m(this,$s).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(m(this,Gn)&&(m(this,jh)?m(this,Gn).cancel({revert:!0}):m(this,Gn).cancelRetry()),this.scheduleGc()),m(this,$s).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||M(this,Ca,jl).call(this,{type:"invalidate"})}fetch(e,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(m(this,Gn))return m(this,Gn).continueRetry(),m(this,Gn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(C(this,jh,!0),n.signal)})},s=()=>{const f=K8(this.options,r),v=(()=>{const g={client:m(this,Sh),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return C(this,jh,!1),this.options.persister?this.options.persister(f,v,this):f(v)},o=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:m(this,Sh),state:this.state,fetchFn:s};return i(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),C(this,_h,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&M(this,Ca,jl).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,v,g,x;LN(f)&&f.silent||M(this,Ca,jl).call(this,{type:"error",error:f}),LN(f)||((v=(p=m(this,$s).config).onError)==null||v.call(p,f,this),(x=(g=m(this,$s).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return C(this,Gn,Q8({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,v,g,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(v=(p=m(this,$s).config).onSuccess)==null||v.call(p,f,this),(x=(g=m(this,$s).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{M(this,Ca,jl).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{M(this,Ca,jl).call(this,{type:"pause"})},onContinue:()=>{M(this,Ca,jl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),m(this,Gn).start()}},Rm=new WeakMap,_h=new WeakMap,$s=new WeakMap,Sh=new WeakMap,Gn=new WeakMap,s0=new WeakMap,jh=new WeakMap,Ca=new WeakSet,jl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Jse(n.data,this.options),fetchMeta:e.meta??null};case"success":return C(this,_h,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return LN(i)&&i.revert&&m(this,_h)?{...m(this,_h),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),yi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),m(this,$s).notify({query:this,type:"updated",action:e})})},l6);function Jse(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yo,c6,tae=(c6=class extends jE{constructor(e={}){super();k(this,yo);this.config=e,C(this,yo,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??zD(i,r);let a=this.get(s);return a||(a=new Qse({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){m(this,yo).has(e.queryHash)||(m(this,yo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=m(this,yo).get(e.queryHash);r&&(e.destroy(),r===e&&m(this,yo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,yo).get(e)}getAll(){return[...m(this,yo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>nF(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>nF(e,n)):r}notify(e){yi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){yi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yo=new WeakMap,c6),xo,ci,Ah,bo,Jc,u6,rae=(u6=class extends J8{constructor(e){super();k(this,bo);k(this,xo);k(this,ci);k(this,Ah);this.mutationId=e.mutationId,C(this,ci,e.mutationCache),C(this,xo,[]),this.state=e.state||nae(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){m(this,xo).includes(e)||(m(this,xo).push(e),this.clearGcTimeout(),m(this,ci).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){C(this,xo,m(this,xo).filter(r=>r!==e)),this.scheduleGc(),m(this,ci).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){m(this,xo).length||(this.state.status==="pending"?this.scheduleGc():m(this,ci).remove(this))}continue(){var e;return((e=m(this,Ah))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,c,u,d,h,f,p,v,g,x,y,b,w,S,_,A,E,N;const r=()=>{M(this,bo,Jc).call(this,{type:"continue"})};C(this,Ah,Q8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,D)=>{M(this,bo,Jc).call(this,{type:"failed",failureCount:T,error:D})},onPause:()=>{M(this,bo,Jc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,ci).canRun(this)}));const n=this.state.status==="pending",i=!m(this,Ah).canStart();try{if(n)r();else{M(this,bo,Jc).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=m(this,ci).config).onMutate)==null?void 0:a.call(s,e,this));const D=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));D!==this.state.context&&M(this,bo,Jc).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const T=await m(this,Ah).start();return await((d=(u=m(this,ci).config).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,T,e,this.state.context)),await((v=(p=m(this,ci).config).onSettled)==null?void 0:v.call(p,T,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,T,null,e,this.state.context)),M(this,bo,Jc).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(y=m(this,ci).config).onError)==null?void 0:b.call(y,T,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,T,e,this.state.context)),await((A=(_=m(this,ci).config).onSettled)==null?void 0:A.call(_,void 0,T,this.state.variables,this.state.context,this)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,void 0,T,e,this.state.context)),T}finally{M(this,bo,Jc).call(this,{type:"error",error:T})}}finally{m(this,ci).runNext(this)}}},xo=new WeakMap,ci=new WeakMap,Ah=new WeakMap,bo=new WeakSet,Jc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yi.batch(()=>{m(this,xo).forEach(n=>{n.onMutationUpdate(e)}),m(this,ci).notify({mutation:this,type:"updated",action:e})})},u6);function nae(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rl,Na,a0,d6,iae=(d6=class extends jE{constructor(e={}){super();k(this,Rl);k(this,Na);k(this,a0);this.config=e,C(this,Rl,new Set),C(this,Na,new Map),C(this,a0,0)}build(e,r,n){const i=new rae({mutationCache:this,mutationId:++fn(this,a0)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){m(this,Rl).add(e);const r=U_(e);if(typeof r=="string"){const n=m(this,Na).get(r);n?n.push(e):m(this,Na).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(m(this,Rl).delete(e)){const r=U_(e);if(typeof r=="string"){const n=m(this,Na).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&m(this,Na).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=U_(e);if(typeof r=="string"){const n=m(this,Na).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=U_(e);if(typeof r=="string"){const i=(n=m(this,Na).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yi.batch(()=>{m(this,Rl).forEach(e=>{this.notify({type:"removed",mutation:e})}),m(this,Rl).clear(),m(this,Na).clear()})}getAll(){return Array.from(m(this,Rl))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>iF(r,n))}findAll(e={}){return this.getAll().filter(r=>iF(e,r))}notify(e){yi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return yi.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ea))))}},Rl=new WeakMap,Na=new WeakMap,a0=new WeakMap,d6);function U_(t){var e;return(e=t.options.scope)==null?void 0:e.id}function oF(t){return{onFetch:(e,r)=>{var d,h,f,p,v;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=K8(e.options,e.fetchOptions),b=async(w,S,_)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return x(O),O})(),N=await y(E),{maxPages:T}=e.options,D=_?Vse:Wse;return{pages:D(w.pages,N,T),pageParams:D(w.pageParams,S,T)}};if(i&&s.length){const w=i==="backward",S=w?sae:lF,_={pages:s,pageParams:a},A=S(n,_);o=await b(_,A,w)}else{const w=t??s.length;do{const S=c===0?a[0]??n.initialPageParam:lF(n,o);if(c>0&&S==null)break;o=await b(o,S),c++}while(c<w)}return o};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function lF(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function sae(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var yr,pu,mu,Im,$m,gu,Lm,Fm,h6,aae=(h6=class{constructor(t={}){k(this,yr);k(this,pu);k(this,mu);k(this,Im);k(this,$m);k(this,gu);k(this,Lm);k(this,Fm);C(this,yr,t.queryCache||new tae),C(this,pu,t.mutationCache||new iae),C(this,mu,t.defaultOptions||{}),C(this,Im,new Map),C(this,$m,new Map),C(this,gu,0)}mount(){fn(this,gu)._++,m(this,gu)===1&&(C(this,Lm,Y8.subscribe(async t=>{t&&(await this.resumePausedMutations(),m(this,yr).onFocus())})),C(this,Fm,rj.subscribe(async t=>{t&&(await this.resumePausedMutations(),m(this,yr).onOnline())})))}unmount(){var t,e;fn(this,gu)._--,m(this,gu)===0&&((t=m(this,Lm))==null||t.call(this),C(this,Lm,void 0),(e=m(this,Fm))==null||e.call(this),C(this,Fm,void 0))}isFetching(t){return m(this,yr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return m(this,pu).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=m(this,yr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=m(this,yr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(YT(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return m(this,yr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=m(this,yr).get(n.queryHash),s=i==null?void 0:i.state.data,a=Lse(e,s);if(a!==void 0)return m(this,yr).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return yi.batch(()=>m(this,yr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=m(this,yr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=m(this,yr);yi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=m(this,yr);return yi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=yi.batch(()=>m(this,yr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ea).catch(Ea)}invalidateQueries(t,e={}){return yi.batch(()=>(m(this,yr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=yi.batch(()=>m(this,yr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ea)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ea)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=m(this,yr).build(this,e);return r.isStaleByTime(YT(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ea).catch(Ea)}fetchInfiniteQuery(t){return t.behavior=oF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ea).catch(Ea)}ensureInfiniteQueryData(t){return t.behavior=oF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rj.isOnline()?m(this,pu).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,yr)}getMutationCache(){return m(this,pu)}getDefaultOptions(){return m(this,mu)}setDefaultOptions(t){C(this,mu,t)}setQueryDefaults(t,e){m(this,Im).set(hb(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...m(this,Im).values()],r={};return e.forEach(n=>{fb(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){m(this,$m).set(hb(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...m(this,$m).values()],r={};return e.forEach(n=>{fb(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...m(this,mu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zD(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===BD&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...m(this,mu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){m(this,yr).clear(),m(this,pu).clear()}},yr=new WeakMap,pu=new WeakMap,mu=new WeakMap,Im=new WeakMap,$m=new WeakMap,gu=new WeakMap,Lm=new WeakMap,Fm=new WeakMap,h6),oae=j.createContext(void 0),lae=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(oae.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}var od;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(od||(od={}));const cF="popstate";function cae(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return ZT("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:nj(i)}return dae(e,r,null,t)}function Hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eW(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uae(){return Math.random().toString(36).substr(2,8)}function uF(t,e){return{usr:t.state,key:t.key,idx:e}}function ZT(t,e,r,n){return r===void 0&&(r=null),pb({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qv(e):e,{state:r,key:e&&e.key||n||uae()})}function nj(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qv(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function dae(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=od.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(pb({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=od.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:o,location:g.location,delta:y})}function f(x,y){o=od.Push;let b=ZT(g.location,x,y);u=d()+1;let w=uF(b,u),S=g.createHref(b);try{a.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}s&&c&&c({action:o,location:g.location,delta:1})}function p(x,y){o=od.Replace;let b=ZT(g.location,x,y);u=d();let w=uF(b,u),S=g.createHref(b);a.replaceState(w,"",S),s&&c&&c({action:o,location:g.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:nj(x);return b=b.replace(/ $/,"%20"),Hr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return o},get location(){return t(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(cF,h),c=x,()=>{i.removeEventListener(cF,h),c=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(x){return a.go(x)}};return g}var dF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dF||(dF={}));function hae(t,e,r){return r===void 0&&(r="/"),fae(t,e,r)}function fae(t,e,r,n){let i=typeof e=="string"?Qv(e):e,s=UD(i.pathname||"/",r);if(s==null)return null;let a=tW(t);pae(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Eae(s);o=Sae(a[c],u)}return o}function tW(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Hr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bd([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Hr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tW(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wae(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of rW(s.path))i(s,a,c)}),e}function rW(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=rW(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function pae(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_ae(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mae=/^:[\w-]+$/,gae=3,vae=2,yae=1,xae=10,bae=-2,hF=t=>t==="*";function wae(t,e){let r=t.split("/"),n=r.length;return r.some(hF)&&(n+=bae),e&&(n+=vae),r.filter(i=>!hF(i)).reduce((i,s)=>i+(mae.test(s)?gae:s===""?yae:xae),n)}function _ae(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Sae(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=jae({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:bd([s,h.pathname]),pathnameBase:Tae(bd([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=bd([s,h.pathnameBase]))}return a}function jae(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Aae(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=o[h]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Aae(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),eW(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Eae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eW(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Cae(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Qv(t):t;return{pathname:r?r.startsWith("/")?r:Nae(r,e):e,search:kae(n),hash:Oae(i)}}function Nae(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function FN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pae(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nW(t,e){let r=Pae(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iW(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Qv(t):(i=pb({},t),Hr(!i.pathname||!i.pathname.includes("?"),FN("?","pathname","search",i)),Hr(!i.pathname||!i.pathname.includes("#"),FN("#","pathname","hash",i)),Hr(!i.search||!i.search.includes("#"),FN("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=Cae(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bd=t=>t.join("/").replace(/\/\/+/g,"/"),Tae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sW=["post","put","patch","delete"];new Set(sW);const Dae=["get",...sW];new Set(Dae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(this,arguments)}const HD=j.createContext(null),Rae=j.createContext(null),cp=j.createContext(null),EE=j.createContext(null),up=j.createContext({outlet:null,matches:[],isDataRoute:!1}),aW=j.createContext(null);function Iae(t,e){let{relative:r}=e===void 0?{}:e;qw()||Hr(!1);let{basename:n,navigator:i}=j.useContext(cp),{hash:s,pathname:a,search:o}=lW(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:bd([n,a])),i.createHref({pathname:c,search:o,hash:s})}function qw(){return j.useContext(EE)!=null}function dp(){return qw()||Hr(!1),j.useContext(EE).location}function oW(t){j.useContext(cp).static||j.useLayoutEffect(t)}function Rd(){let{isDataRoute:t}=j.useContext(up);return t?Yae():$ae()}function $ae(){qw()||Hr(!1);let t=j.useContext(HD),{basename:e,future:r,navigator:n}=j.useContext(cp),{matches:i}=j.useContext(up),{pathname:s}=dp(),a=JSON.stringify(nW(i,r.v7_relativeSplatPath)),o=j.useRef(!1);return oW(()=>{o.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=iW(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bd([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function lW(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(cp),{matches:i}=j.useContext(up),{pathname:s}=dp(),a=JSON.stringify(nW(i,n.v7_relativeSplatPath));return j.useMemo(()=>iW(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function Lae(t,e){return Fae(t,e)}function Fae(t,e,r,n){qw()||Hr(!1);let{navigator:i}=j.useContext(cp),{matches:s}=j.useContext(up),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=dp(),d;if(e){var h;let x=typeof e=="string"?Qv(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Hr(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=hae(t,{pathname:p}),g=Wae(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:bd([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:bd([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&g?j.createElement(EE.Provider,{value:{location:mb({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:od.Pop}},g):g}function zae(){let t=Kae(),e=Mae(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const Bae=j.createElement(zae,null);class Uae extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(up.Provider,{value:this.props.routeContext},j.createElement(aW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hae(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(HD);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(up.Provider,{value:e},n)}function Wae(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Hr(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,v=!1,g=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||Bae,c&&(u<0&&f===0?(Xae("route-fallback"),v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),b=()=>{let w;return p?w=g:v?w=x:h.route.Component?w=j.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,j.createElement(Hae,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(Uae,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var cW=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cW||{}),uW=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uW||{});function Vae(t){let e=j.useContext(HD);return e||Hr(!1),e}function qae(t){let e=j.useContext(Rae);return e||Hr(!1),e}function Gae(t){let e=j.useContext(up);return e||Hr(!1),e}function dW(t){let e=Gae(),r=e.matches[e.matches.length-1];return r.route.id||Hr(!1),r.route.id}function Kae(){var t;let e=j.useContext(aW),r=qae(),n=dW();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Yae(){let{router:t}=Vae(cW.UseNavigateStable),e=dW(uW.UseNavigateStable),r=j.useRef(!1);return oW(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mb({fromRouteId:e},s)))},[t,e])}const fF={};function Xae(t,e,r){fF[t]||(fF[t]=!0)}function Zae(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function mo(t){Hr(!1)}function Qae(t){let{basename:e="/",children:r=null,location:n,navigationType:i=od.Pop,navigator:s,static:a=!1,future:o}=t;qw()&&Hr(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:a,future:mb({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof n=="string"&&(n=Qv(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,g=j.useMemo(()=>{let x=UD(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:i}},[c,d,h,f,p,v,i]);return g==null?null:j.createElement(cp.Provider,{value:u},j.createElement(EE.Provider,{children:r,value:g}))}function Jae(t){let{children:e,location:r}=t;return Lae(QT(e),r)}new Promise(()=>{});function QT(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,QT(n.props.children,s));return}n.type!==mo&&Hr(!1),!n.props.index||!n.props.children||Hr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=QT(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JT.apply(this,arguments)}function eoe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function toe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function roe(t,e){return t.button===0&&(!e||e==="_self")&&!toe(t)}function ek(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function noe(t,e){let r=ek(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const ioe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],soe="6";try{window.__reactRouterVersion=soe}catch{}const aoe="startTransition",pF=EM[aoe];function ooe(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=cae({window:i,v5Compat:!0}));let a=s.current,[o,c]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=j.useCallback(h=>{u&&pF?pF(()=>c(h)):c(h)},[c,u]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>Zae(n),[n]),j.createElement(Qae,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const loe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",coe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=eoe(e,ioe),{basename:p}=j.useContext(cp),v,g=!1;if(typeof u=="string"&&coe.test(u)&&(v=u,loe))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=UD(S.pathname,p);S.origin===w.origin&&_!=null?u=_+S.search+S.hash:g=!0}catch{}let x=Iae(u,{relative:i}),y=uoe(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:h});function b(w){n&&n(w),w.defaultPrevented||y(w)}return j.createElement("a",JT({},f,{href:v||x,onClick:g||s?n:b,ref:r,target:c}))});var mF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mF||(mF={}));var gF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gF||(gF={}));function uoe(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,c=Rd(),u=dp(),d=lW(t,{relative:a});return j.useCallback(h=>{if(roe(h,r)){h.preventDefault();let f=n!==void 0?n:nj(u)===nj(d);c(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,d,n,i,r,t,s,a,o])}function doe(t){let e=j.useRef(ek(t)),r=j.useRef(!1),n=dp(),i=j.useMemo(()=>noe(n.search,r.current?null:e.current),[n.search]),s=Rd(),a=j.useCallback((o,c)=>{const u=ek(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,c)},[s,i]);return[i,a]}const tk=Hw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-hero text-primary-foreground hover:shadow-sport transform hover:scale-105 transition-all duration-300",performance:"bg-gradient-performance text-secondary-foreground hover:shadow-performance transform hover:scale-105 transition-all duration-300",energy:"bg-gradient-energy text-accent-foreground hover:shadow-sport transform hover:scale-105 transition-all duration-300",sport:"bg-primary text-primary-foreground hover:bg-primary-glow shadow-sport hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?Pte:"button";return l.jsx(a,{className:De(tk({variant:e,size:r,className:t})),ref:s,...i})});te.displayName="Button";var zN="focusScope.autoFocusOnMount",BN="focusScope.autoFocusOnUnmount",vF={bubbles:!1,cancelable:!0},hoe="FocusScope",CE=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=j.useState(null),u=_r(i),d=_r(s),h=j.useRef(null),f=tt(e,g=>c(g)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let g=function(w){if(p.paused||!o)return;const S=w.target;o.contains(S)?h.current=S:eu(h.current,{select:!0})},x=function(w){if(p.paused||!o)return;const S=w.relatedTarget;S!==null&&(o.contains(S)||eu(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&eu(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const b=new MutationObserver(y);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),b.disconnect()}}},[n,o,p.paused]),j.useEffect(()=>{if(o){xF.add(p);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(zN,vF);o.addEventListener(zN,u),o.dispatchEvent(y),y.defaultPrevented||(foe(yoe(hW(o)),{select:!0}),document.activeElement===g&&eu(o))}return()=>{o.removeEventListener(zN,u),setTimeout(()=>{const y=new CustomEvent(BN,vF);o.addEventListener(BN,d),o.dispatchEvent(y),y.defaultPrevented||eu(g??document.body,{select:!0}),o.removeEventListener(BN,d),xF.remove(p)},0)}}},[o,u,d,p]);const v=j.useCallback(g=>{if(!r&&!n||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const b=g.currentTarget,[w,S]=poe(b);w&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&eu(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&eu(S,{select:!0})):y===b&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(Me.div,{tabIndex:-1,...a,ref:f,onKeyDown:v})});CE.displayName=hoe;function foe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(eu(n,{select:e}),document.activeElement!==r)return}function poe(t){const e=hW(t),r=yF(e,t),n=yF(e.reverse(),t);return[r,n]}function hW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function yF(t,e){for(const r of t)if(!moe(r,{upTo:e}))return r}function moe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function goe(t){return t instanceof HTMLInputElement&&"select"in t}function eu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&goe(t)&&e&&t.select()}}var xF=voe();function voe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=bF(t,e),t.unshift(e)},remove(e){var r;t=bF(t,e),(r=t[0])==null||r.resume()}}}function bF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function yoe(t){return t.filter(e=>e.tagName!=="A")}var UN=0;function WD(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wF()),document.body.insertAdjacentElement("beforeend",t[1]??wF()),UN++,()=>{UN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),UN--}},[])}function wF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ho=function(){return Ho=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ho.apply(this,arguments)};function fW(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function xoe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var B1="right-scroll-bar-position",U1="width-before-scroll-bar",boe="with-scroll-bars-hidden",woe="--removed-body-scroll-bar-size";function HN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _oe(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Soe=typeof window<"u"?j.useLayoutEffect:j.useEffect,_F=new WeakMap;function joe(t,e){var r=_oe(null,function(n){return t.forEach(function(i){return HN(i,n)})});return Soe(function(){var n=_F.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||HN(o,null)}),s.forEach(function(o){i.has(o)||HN(o,a)})}_F.set(r,t)},[t]),r}function Aoe(t){return t}function Eoe(t,e){e===void 0&&(e=Aoe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return i}function Coe(t){t===void 0&&(t={});var e=Eoe(null);return e.options=Ho({async:!0,ssr:!1},t),e}var pW=function(t){var e=t.sideCar,r=fW(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Ho({},r))};pW.isSideCarExport=!0;function Noe(t,e){return t.useMedium(e),pW}var mW=Coe(),WN=function(){},NE=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:WN,onWheelCapture:WN,onTouchMoveCapture:WN}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,v=t.noIsolation,g=t.inert,x=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,w=t.gapMode,S=fW(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,A=joe([r,e]),E=Ho(Ho({},S),i);return j.createElement(j.Fragment,null,d&&j.createElement(_,{sideCar:mW,removeScrollBar:u,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:w}),a?j.cloneElement(j.Children.only(o),Ho(Ho({},E),{ref:A})):j.createElement(b,Ho({},E,{className:c,ref:A}),o))});NE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};NE.classNames={fullWidth:U1,zeroRight:B1};var Poe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Toe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Poe();return e&&t.setAttribute("nonce",e),t}function koe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ooe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Moe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Toe())&&(koe(e,r),Ooe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Doe=function(){var t=Moe();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},gW=function(){var t=Doe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Roe={left:0,top:0,right:0,gap:0},VN=function(t){return parseInt(t||"",10)||0},Ioe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[VN(r),VN(n),VN(i)]},$oe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Roe;var e=Ioe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Loe=gW(),Sm="data-scroll-locked",Foe=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(boe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Sm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(B1,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(U1,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(B1," .").concat(B1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(U1," .").concat(U1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Sm,`] {
    `).concat(woe,": ").concat(o,`px;
  }
`)},SF=function(){var t=parseInt(document.body.getAttribute(Sm)||"0",10);return isFinite(t)?t:0},zoe=function(){j.useEffect(function(){return document.body.setAttribute(Sm,(SF()+1).toString()),function(){var t=SF()-1;t<=0?document.body.removeAttribute(Sm):document.body.setAttribute(Sm,t.toString())}},[])},Boe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;zoe();var s=j.useMemo(function(){return $oe(i)},[i]);return j.createElement(Loe,{styles:Foe(s,!e,i,r?"":"!important")})},rk=!1;if(typeof window<"u")try{var H_=Object.defineProperty({},"passive",{get:function(){return rk=!0,!0}});window.addEventListener("test",H_,H_),window.removeEventListener("test",H_,H_)}catch{rk=!1}var Ep=rk?{passive:!1}:!1,Uoe=function(t){return t.tagName==="TEXTAREA"},vW=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Uoe(t)&&r[e]==="visible")},Hoe=function(t){return vW(t,"overflowY")},Woe=function(t){return vW(t,"overflowX")},jF=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=yW(t,n);if(i){var s=xW(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Voe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},qoe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},yW=function(t,e){return t==="v"?Hoe(e):Woe(e)},xW=function(t,e){return t==="v"?Voe(e):qoe(e)},Goe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Koe=function(t,e,r,n,i){var s=Goe(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,c=e.contains(o),u=!1,d=a>0,h=0,f=0;do{if(!o)break;var p=xW(t,o),v=p[0],g=p[1],x=p[2],y=g-x-s*v;(v||y)&&yW(t,o)&&(h+=y,f+=v);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},W_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AF=function(t){return[t.deltaX,t.deltaY]},EF=function(t){return t&&"current"in t?t.current:t},Yoe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xoe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zoe=0,Cp=[];function Qoe(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(Zoe++)[0],s=j.useState(gW)[0],a=j.useRef(t);j.useEffect(function(){a.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=xoe([t.lockRef.current],(t.shards||[]).map(EF),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=j.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=W_(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-y[0],S="deltaY"in g?g.deltaY:b[1]-y[1],_,A=g.target,E=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&A.type==="range")return!1;var N=jF(E,A);if(!N)return!0;if(N?_=E:(_=E==="v"?"h":"v",N=jF(E,A)),!N)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=_),!_)return!0;var T=n.current||_;return Koe(T,x,g,T==="h"?w:S)},[]),c=j.useCallback(function(g){var x=g;if(!(!Cp.length||Cp[Cp.length-1]!==s)){var y="deltaY"in x?AF(x):W_(x),b=e.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Yoe(_.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(a.current.shards||[]).map(EF).filter(Boolean).filter(function(_){return _.contains(x.target)}),S=w.length>0?o(x,w[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=j.useCallback(function(g,x,y,b){var w={name:g,delta:x,target:y,should:b,shadowParent:Joe(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=j.useCallback(function(g){r.current=W_(g),n.current=void 0},[]),h=j.useCallback(function(g){u(g.type,AF(g),g.target,o(g,t.lockRef.current))},[]),f=j.useCallback(function(g){u(g.type,W_(g),g.target,o(g,t.lockRef.current))},[]);j.useEffect(function(){return Cp.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ep),document.addEventListener("touchmove",c,Ep),document.addEventListener("touchstart",d,Ep),function(){Cp=Cp.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Ep),document.removeEventListener("touchmove",c,Ep),document.removeEventListener("touchstart",d,Ep)}},[]);var p=t.removeScrollBar,v=t.inert;return j.createElement(j.Fragment,null,v?j.createElement(s,{styles:Xoe(i)}):null,p?j.createElement(Boe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Joe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ele=Noe(mW,Qoe);var PE=j.forwardRef(function(t,e){return j.createElement(NE,Ho({},t,{ref:e,sideCar:ele}))});PE.classNames=NE.classNames;var tle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Np=new WeakMap,V_=new WeakMap,q_={},qN=0,bW=function(t){return t&&(t.host||bW(t.parentNode))},rle=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=bW(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},nle=function(t,e,r,n){var i=rle(e,Array.isArray(t)?t:[t]);q_[r]||(q_[r]=new WeakMap);var s=q_[r],a=[],o=new Set,c=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),v=p!==null&&p!=="false",g=(Np.get(f)||0)+1,x=(s.get(f)||0)+1;Np.set(f,g),s.set(f,x),a.push(f),g===1&&v&&V_.set(f,!0),x===1&&f.setAttribute(r,"true"),v||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(e),o.clear(),qN++,function(){a.forEach(function(h){var f=Np.get(h)-1,p=s.get(h)-1;Np.set(h,f),s.set(h,p),f||(V_.has(h)||h.removeAttribute(n),V_.delete(h)),p||h.removeAttribute(r)}),qN--,qN||(Np=new WeakMap,Np=new WeakMap,V_=new WeakMap,q_={})}},VD=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=tle(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),nle(n,i,r,"aria-hidden")):function(){return null}},TE="Dialog",[wW,nWe]=Ci(TE),[ile,so]=wW(TE),_W=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=j.useRef(null),c=j.useRef(null),[u,d]=Mc({prop:n,defaultProp:i??!1,onChange:s,caller:TE});return l.jsx(ile,{scope:e,triggerRef:o,contentRef:c,contentId:rl(),titleId:rl(),descriptionId:rl(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};_W.displayName=TE;var SW="DialogTrigger",jW=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=so(SW,r),s=tt(e,i.triggerRef);return l.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":KD(i.open),...n,ref:s,onClick:ye(t.onClick,i.onOpenToggle)})});jW.displayName=SW;var qD="DialogPortal",[sle,AW]=wW(qD,{forceMount:void 0}),EW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=so(qD,e);return l.jsx(sle,{scope:e,forceMount:r,children:j.Children.map(n,a=>l.jsx(ai,{present:r||s.open,children:l.jsx(Bw,{asChild:!0,container:i,children:a})}))})};EW.displayName=qD;var ij="DialogOverlay",CW=j.forwardRef((t,e)=>{const r=AW(ij,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=so(ij,t.__scopeDialog);return s.modal?l.jsx(ai,{present:n||s.open,children:l.jsx(ole,{...i,ref:e})}):null});CW.displayName=ij;var ale=Uf("DialogOverlay.RemoveScroll"),ole=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=so(ij,r);return l.jsx(PE,{as:ale,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Me.div,{"data-state":KD(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Wf="DialogContent",NW=j.forwardRef((t,e)=>{const r=AW(Wf,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=so(Wf,t.__scopeDialog);return l.jsx(ai,{present:n||s.open,children:s.modal?l.jsx(lle,{...i,ref:e}):l.jsx(cle,{...i,ref:e})})});NW.displayName=Wf;var lle=j.forwardRef((t,e)=>{const r=so(Wf,t.__scopeDialog),n=j.useRef(null),i=tt(e,r.contentRef,n);return j.useEffect(()=>{const s=n.current;if(s)return VD(s)},[]),l.jsx(PW,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault())})}),cle=j.forwardRef((t,e)=>{const r=so(Wf,t.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return l.jsx(PW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),PW=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=so(Wf,r),c=j.useRef(null),u=tt(e,c);return WD(),l.jsxs(l.Fragment,{children:[l.jsx(CE,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(qv,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":KD(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(ule,{titleId:o.titleId}),l.jsx(hle,{contentRef:c,descriptionId:o.descriptionId})]})]})}),GD="DialogTitle",TW=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=so(GD,r);return l.jsx(Me.h2,{id:i.titleId,...n,ref:e})});TW.displayName=GD;var kW="DialogDescription",OW=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=so(kW,r);return l.jsx(Me.p,{id:i.descriptionId,...n,ref:e})});OW.displayName=kW;var MW="DialogClose",DW=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=so(MW,r);return l.jsx(Me.button,{type:"button",...n,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});DW.displayName=MW;function KD(t){return t?"open":"closed"}var RW="DialogTitleWarning",[iWe,IW]=Cte(RW,{contentName:Wf,titleName:GD,docsSlug:"dialog"}),ule=({titleId:t})=>{const e=IW(RW),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},dle="DialogDescriptionWarning",hle=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IW(dle).contentName}}.`;return j.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},$W=_W,LW=jW,FW=EW,kE=CW,OE=NW,ME=TW,DE=OW,zW=DW;const fle=$W,ple=LW,mle=FW,BW=j.forwardRef(({className:t,...e},r)=>l.jsx(kE,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));BW.displayName=kE.displayName;const gle=Hw("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),UW=j.forwardRef(({side:t="right",className:e,children:r,...n},i)=>l.jsxs(mle,{children:[l.jsx(BW,{}),l.jsxs(OE,{ref:i,className:De(gle({side:t}),e),...n,children:[r,l.jsxs(zW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(lp,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));UW.displayName=OE.displayName;const vle=j.forwardRef(({className:t,...e},r)=>l.jsx(ME,{ref:r,className:De("text-lg font-semibold text-foreground",t),...e}));vle.displayName=ME.displayName;const yle=j.forwardRef(({className:t,...e},r)=>l.jsx(DE,{ref:r,className:De("text-sm text-muted-foreground",t),...e}));yle.displayName=DE.displayName;const xle="modulepreload",ble=function(t){return"/"+t},CF={},Ir=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=ble(c),c in CF)return;CF[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xle,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},wle=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ir(async()=>{const{default:n}=await Promise.resolve().then(()=>Jv);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class YD extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class _le extends YD{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class NF extends YD{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class PF extends YD{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nk;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nk||(nk={}));var Sle=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class jle{constructor(e,{headers:r={},customFetch:n,region:i=nk.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=wle(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Sle(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new _le(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new NF(h);if(!h.ok)throw new PF(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof PF||i instanceof NF?i.context:void 0}}})}}var zi={},XD={},RE={},Gw={},IE={},$E={},Ale=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hv=Ale();const Ele=hv.fetch,HW=hv.fetch.bind(hv),WW=hv.Headers,Cle=hv.Request,Nle=hv.Response,Jv=Object.freeze(Object.defineProperty({__proto__:null,Headers:WW,Request:Cle,Response:Nle,default:HW,fetch:Ele},Symbol.toStringTag,{value:"Module"})),Ple=ZQ(Jv);var LE={};Object.defineProperty(LE,"__esModule",{value:!0});let Tle=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};LE.default=Tle;var VW=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($E,"__esModule",{value:!0});const kle=VW(Ple),Ole=VW(LE);let Mle=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=kle.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let u=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await s.text();try{u=JSON.parse(g),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,p="OK")}catch{s.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Ole.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};$E.default=Mle;var Dle=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(IE,"__esModule",{value:!0});const Rle=Dle($E);let Ile=class extends Rle.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};IE.default=Ile;var $le=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gw,"__esModule",{value:!0});const Lle=$le(IE);let Fle=class extends Lle.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gw.default=Fle;var zle=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(RE,"__esModule",{value:!0});const Ny=zle(Gw);let Ble=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Ny.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ny.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ny.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Ny.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ny.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};RE.default=Ble;var FE={},zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.version=void 0;zE.version="0.0.0-automated";Object.defineProperty(FE,"__esModule",{value:!0});FE.DEFAULT_HEADERS=void 0;const Ule=zE;FE.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ule.version}`};var qW=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(XD,"__esModule",{value:!0});const Hle=qW(RE),Wle=qW(Gw),Vle=FE;let qle=class GW{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Vle.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new Hle.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new GW(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Wle.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};XD.default=qle;var ey=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});zi.PostgrestError=zi.PostgrestBuilder=zi.PostgrestTransformBuilder=zi.PostgrestFilterBuilder=zi.PostgrestQueryBuilder=zi.PostgrestClient=void 0;const KW=ey(XD);zi.PostgrestClient=KW.default;const YW=ey(RE);zi.PostgrestQueryBuilder=YW.default;const XW=ey(Gw);zi.PostgrestFilterBuilder=XW.default;const ZW=ey(IE);zi.PostgrestTransformBuilder=ZW.default;const QW=ey($E);zi.PostgrestBuilder=QW.default;const JW=ey(LE);zi.PostgrestError=JW.default;var Gle=zi.default={PostgrestClient:KW.default,PostgrestQueryBuilder:YW.default,PostgrestFilterBuilder:XW.default,PostgrestTransformBuilder:ZW.default,PostgrestBuilder:QW.default,PostgrestError:JW.default};const{PostgrestClient:Kle,PostgrestQueryBuilder:uWe,PostgrestFilterBuilder:dWe,PostgrestTransformBuilder:hWe,PostgrestBuilder:fWe,PostgrestError:pWe}=Gle;function Yle(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Xle=Yle(),Zle="2.11.15",Qle=`realtime-js/${Zle}`,Jle="1.0.0",eV=1e4,ece=1e3;var Mx;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Mx||(Mx={}));var qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qn||(qn={}));var Ba;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ba||(Ba={}));var ik;(function(t){t.websocket="websocket"})(ik||(ik={}));var ah;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ah||(ah={}));class tce{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class tV{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Bt||(Bt={}));const TF=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=rce(a,t,e,i),s),{})},rce=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?rV(s,a):sk(a)},rV=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ace(e,r)}switch(t){case Bt.bool:return nce(e);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return ice(e);case Bt.json:case Bt.jsonb:return sce(e);case Bt.timestamp:return oce(e);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return sk(e);default:return sk(e)}},sk=t=>t,nce=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ice=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sce=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ace=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>rV(e,o))}return t},oce=t=>typeof t=="string"?t.replace(" ","T"):t,nV=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class GN{constructor(e,r,n={},i=eV){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kF||(kF={}));class Dx{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dx.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Dx.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dx.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=s[u];if(h){const f=d.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),g=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),g.length>0&&(c[u]=g)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(OF||(OF={}));var MF;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(MF||(MF={}));var Tl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tl||(Tl={}));class ZD{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new GN(this,Ba.join,this.params,this.timeout),this.rejoinTimer=new tV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ba.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Dx(this),this.broadcastEndpointURL=nV(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qn.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Tl.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Tl.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Tl.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let g=0;g<p;g++){const x=f[g],{filter:{event:y,schema:b,table:w,filter:S}}=x,_=d&&d[g];if(_&&_.event===y&&_.schema===b&&_.table===w&&_.filter===S)v.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),this.state=qn.errored,e==null||e(Tl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Tl.SUBSCRIBED);return}}).receive("error",d=>{this.state=qn.errored,e==null||e(Tl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ba.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new GN(this,Ba.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new GN(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Ba;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,g,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var v,g,x,y,b,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:x,commit_timestamp:y,type:b,errors:w}=v;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ZD.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ba.close,{},e)}_onError(e){this._on(Ba.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=TF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=TF(e.columns,e.old_record)),r}}const DF=()=>{},lce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cce{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eV,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=DF,this.ref=0,this.logger=DF,this.conn=null,this.sendBuffer=[],this.serializer=new tce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Ir(async()=>{const{default:c}=await Promise.resolve().then(()=>Jv);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${ik.websocket}`,this.httpEndpoint=nV(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tV(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xle),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jle}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mx.connecting:return ah.Connecting;case Mx.open:return ah.Open;case Mx.closing:return ah.Closing;default:return ah.Closed}}isConnected(){return this.connectionState()===ah.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new ZD(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Qle};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ba.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(ece,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ba.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([lce],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class QD extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uce extends QD{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ak extends QD{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var dce=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const iV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ir(async()=>{const{default:n}=await Promise.resolve().then(()=>Jv);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},hce=()=>dce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ir(()=>Promise.resolve().then(()=>Jv),void 0)).Response:Response}),ok=t=>{if(Array.isArray(t))return t.map(r=>ok(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=ok(n)}),e},fce=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var hp=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const KN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pce=(t,e,r)=>hp(void 0,void 0,void 0,function*(){const n=yield hce();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new uce(KN(i),s,a))}).catch(i=>{e(new ak(KN(i),i))}):e(new ak(KN(t),t))}),mce=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(fce(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Kw(t,e,r,n,i,s){return hp(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,mce(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>pce(c,o,n))})})}function sj(t,e,r,n){return hp(this,void 0,void 0,function*(){return Kw(t,"GET",e,r,n)})}function kl(t,e,r,n,i){return hp(this,void 0,void 0,function*(){return Kw(t,"POST",e,n,i,r)})}function lk(t,e,r,n,i){return hp(this,void 0,void 0,function*(){return Kw(t,"PUT",e,n,i,r)})}function gce(t,e,r,n){return hp(this,void 0,void 0,function*(){return Kw(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sV(t,e,r,n,i){return hp(this,void 0,void 0,function*(){return Kw(t,"DELETE",e,n,i,r)})}var Ti=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const vce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yce{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=iV(i)}uploadOrUpdate(e,r,n,i){return Ti(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},RF),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?lk:kl)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(wn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ti(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ti(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:RF.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield lk(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(c){if(wn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ti(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield kl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new QD("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ti(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ti(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ti(this,void 0,void 0,function*(){try{return{data:{path:(yield kl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ti(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield kl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ti(this,void 0,void 0,function*(){try{const i=yield kl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}})}download(e,r){return Ti(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield sj(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(wn(o))return{data:null,error:o};throw o}})}info(e){return Ti(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield sj(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ok(n),error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}exists(e){return Ti(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gce(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wn(n)&&n instanceof ak){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield sV(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ti(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vce),r),{prefix:e||""});return{data:yield kl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const xce="2.10.4",bce={"X-Client-Info":`storage-js/${xce}`};var Pp=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class wce{constructor(e,r={},n,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},bce),r),this.fetch=iV(n)}listBuckets(){return Pp(this,void 0,void 0,function*(){try{return{data:yield sj(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(wn(e))return{data:null,error:e};throw e}})}getBucket(e){return Pp(this,void 0,void 0,function*(){try{return{data:yield sj(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Pp(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Pp(this,void 0,void 0,function*(){try{return{data:yield lk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Pp(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pp(this,void 0,void 0,function*(){try{return{data:yield sV(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}}class _ce extends wce{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new yce(this.url,this.headers,e,this.fetch)}}const Sce="2.53.0";let ex="";typeof Deno<"u"?ex="deno":typeof document<"u"?ex="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ex="react-native":ex="node";const jce={"X-Client-Info":`supabase-js-${ex}/${Sce}`},Ace={headers:jce},Ece={schema:"public"},Cce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nce={};var Pce=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Tce=t=>{let e;return t?e=t:typeof fetch>"u"?e=HW:e=fetch,(...r)=>e(...r)},kce=()=>typeof Headers>"u"?WW:Headers,Oce=(t,e,r)=>{const n=Tce(r),i=kce();return(s,a)=>Pce(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var Mce=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};function Dce(t){return t.endsWith("/")?t:t+"/"}function Rce(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Mce(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const aV="2.71.1",zp=30*1e3,ck=3,YN=ck*zp,Ice="http://localhost:9999",$ce="supabase.auth.token",Lce={"X-Client-Info":`gotrue-js/${aV}`},uk="X-Supabase-Api-Version",oV={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zce=10*60*1e3;class JD extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Bce extends JD{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Uce(t){return Xe(t)&&t.name==="AuthApiError"}class lV extends JD{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Id extends JD{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class tu extends Id{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hce(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class G_ extends Id{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class K_ extends Id{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Y_ extends Id{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wce(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class IF extends Id{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dk extends Id{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function XN(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class $F extends Id{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hk extends Id{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const aj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LF=` 	
\r=`.split(""),Vce=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<LF.length;e+=1)t[LF[e].charCodeAt(0)]=-2;for(let e=0;e<aj.length;e+=1)t[aj[e].charCodeAt(0)]=e;return t})();function FF(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(aj[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(aj[n]),e.queuedBits-=6}}function cV(t,e,r){const n=Vce[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zF(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Kce(a,n,r)};for(let a=0;a<t.length;a+=1)cV(t.charCodeAt(a),i,s);return e.join("")}function qce(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gce(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}qce(n,e)}}function Kce(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Yce(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cV(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Xce(t){const e=[];return Gce(t,r=>e.push(r)),new Uint8Array(e)}function Zce(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>FF(i,r,n)),FF(null,r,n),e.join("")}function Qce(t){return Math.round(Date.now()/1e3)+t}function Jce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _a=()=>typeof window<"u"&&typeof document<"u",Gd={tested:!1,writable:!1},uV=()=>{if(!_a())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gd.tested)return Gd.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gd.tested=!0,Gd.writable=!0}catch{Gd.tested=!0,Gd.writable=!1}return Gd.writable};function eue(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const dV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ir(async()=>{const{default:n}=await Promise.resolve().then(()=>Jv);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},tue=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Kd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zc=async(t,e)=>{await t.removeItem(e)};class BE{constructor(){this.promise=new BE.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}BE.promiseConstructor=Promise;function ZN(t){const e=t.split(".");if(e.length!==3)throw new hk("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Fce.test(e[n]))throw new hk("JWT not in base64url format");return{header:JSON.parse(zF(e[0])),payload:JSON.parse(zF(e[1])),signature:Yce(e[2]),raw:{header:e[0],payload:e[1]}}}async function rue(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nue(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function iue(t){return("0"+t.toString(16)).substr(-2)}function sue(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,iue).join("")}async function aue(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function oue(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await aue(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tp(t,e,r=!1){const n=sue();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Bp(t,`${e}-code-verifier`,i);const s=await oue(n);return[s,n===s?"plain":"s256"]}const lue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cue(t){const e=t.headers.get(uk);if(!e||!e.match(lue))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uue(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function due(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kp(t){if(!hue.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function QN(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BF(t){return JSON.parse(JSON.stringify(t))}var fue=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Qd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pue=[502,503,504];async function UF(t){var e;if(!tue(t))throw new dk(Qd(t),0);if(pue.includes(t.status))throw new dk(Qd(t),t.status);let r;try{r=await t.json()}catch(s){throw new lV(Qd(s),s)}let n;const i=cue(t);if(i&&i.getTime()>=oV["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $F(Qd(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new tu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new $F(Qd(r),t.status,r.weak_password.reasons);throw new Bce(Qd(r),t.status||500,n)}const mue=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ht(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[uk]||(s[uk]=oV["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await gue(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gue(t,e,r,n,i,s){const a=mue(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new dk(Qd(c),0)}if(o.ok||await UF(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await UF(c)}}function Al(t){var e;let r=null;bue(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Qce(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function HF(t){const e=Al(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vue(t){return{data:t,error:null}}function yue(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=fue(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function xue(t){return t}function bue(t){return t.access_token&&t.refresh_token&&t.expires_in}const JN=["global","local","others"];var wue=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class _ue{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=dV(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=JN[0]){if(JN.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${JN.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cu})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=wue(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yue,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cu})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xue});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kp(e);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cu})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){kp(e);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cu})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){kp(e);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cu})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){kp(e.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){kp(e.userId),kp(e.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}function WF(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Sue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Op={debug:!!(globalThis&&uV()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hV extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jue extends hV{}async function Aue(t,e,r){Op.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Op.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Op.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Op.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Op.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jue(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Op.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sue();const Eue={url:Ice,storageKey:$ce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VF(t,e,r){return await r()}const Mp={};class gb{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gb.nextInstanceID,gb.nextInstanceID+=1,this.instanceID>0&&_a()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Eue),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _ue({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dV(i.fetch),this.lock=i.lock||VF,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:_a()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Aue:this.lock=VF,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:uV()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WF(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WF(this.memoryStorage)),_a()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Mp[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Mp[this.storageKey]=Object.assign(Object.assign({},Mp[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Mp[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mp[this.storageKey]=Object.assign(Object.assign({},Mp[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aV}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=eue(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),_a()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Wce(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xe(r)?{error:r}:{error:new lV("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Al}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Xe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Tp(this.storage,this.storageKey)),s=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Al})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Al})}else throw new K_("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:HF})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:HF})}else throw new K_("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new G_}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,a,o,c,u,d,h,f,p;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:x,wallet:y,statement:b,options:w}=e;let S;if(_a())if(typeof y=="object")S=y;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let E;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")E=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)E=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=A}}try{const{data:x,error:y}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zce(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Al});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new G_}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(Xe(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await Kd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Al});if(await Zc(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new G_}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Xe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Al}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new G_}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Tp(this.storage,this.storageKey));const{error:h}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new K_("You must provide either an email or phone number.")}catch(o){if(Xe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Al});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Tp(this.storage,this.storageKey)),await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:vue})}catch(s){if(Xe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new tu;const{error:i}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new K_("You must provide either an email or phone number and a type")}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Kd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<YN:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Kd(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=QN()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cu}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tu}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cu})})}catch(r){if(Xe(r))return Hce(r)&&(await this._removeSession(),await Zc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new tu;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Tp(this.storage,this.storageKey));const{data:u,error:d}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:cu});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tu;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=ZN(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Xe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new tu;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!_a())throw new Y_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Y_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new IF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Y_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new IF("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!s||!o||!a||!u)throw new Y_("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=zp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:g,error:x}=await this._getUser(s);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(Xe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Kd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Uce(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Zc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Jce(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Tp(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Xe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return _a()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Xe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await nue(async i=>(i>0&&await rue(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Al})),(i,s)=>{const a=200*Math.pow(2,i);return s&&XN(s)&&Date.now()+a-n<zp})}catch(n){if(this._debug(r,"error",n),Xe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_a()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Kd(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Kd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Bp(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:QN()}else if(i&&!i.user&&!i.user){const a=await Kd(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Zc(this.storage,this.storageKey+"-user"),await Bp(this.storage,this.storageKey,i)):i.user=QN()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<YN;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${YN}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),XN(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new tu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new BE;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new tu;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Xe(s)){const a={session:null,error:s};return XN(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=BF(i);await Bp(this.storage,this.storageKey,s)}else{const i=BF(r);await Bp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zc(this.storage,this.storageKey),await Zc(this.storage,this.storageKey+"-code-verifier"),await Zc(this.storage,this.storageKey+"-user"),this.userStorage&&await Zc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_a()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/zp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zp}ms, refresh threshold is ${ck} ticks`),i<=ck&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hV)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_a()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Tp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ht(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ZN(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+zce>i)return n;const{data:s,error:a}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=ZN(n);r!=null&&r.allowExpired||uue(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=due(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Xce(`${o}.${c}`)))throw new hk("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}gb.nextInstanceID=0;const Cue=gb;class Nue extends Cue{constructor(e){super(e)}}var Pue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Tue{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Dce(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Ece,realtime:Nce,auth:Object.assign(Object.assign({},Cce),{storageKey:u}),global:Ace},h=Rce(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Oce(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Kle(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new _ce(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new jle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Pue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nue({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new cce(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kue=(t,e,r)=>new Tue(t,e,r);function Oue(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Oue()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mue="https://jfayvtcwdhfkvtuhuubp.supabase.co",Due="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmYXl2dGN3ZGhma3Z0dWh1dWJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NzAxMjgsImV4cCI6MjA2OTA0NjEyOH0.NmcO0LZK2ajarGYDd249VfDcFvfy2vuPQ2AVWFxsuc8",ce=kue(Mue,Due,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Rue=Object.freeze(Object.defineProperty({__proto__:null,supabase:ce},Symbol.toStringTag,{value:"Module"})),eR=()=>{const t=()=>`login_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,e=async a=>{try{const o=navigator.userAgent,c=/iPhone|iPad|iPod/.test(o)?"ios":/Android/.test(o)?"android":"web";await ce.from("login_logs").insert({user_id:a.userId||null,session_id:a.sessionId,step:a.step,status:a.status,message:a.message,data:a.data||{},error_details:a.errorDetails,user_agent:o,platform:c}),console.log(`📝 Login Log [${a.step}]:`,a.status,a.message)}catch(o){console.error("❌ Failed to save login log:",o)}};return{generateSessionId:t,logLoginStep:e,logError:async(a,o,c,u)=>{const d=o instanceof Error?o.message:String(o),h=o instanceof Error?o.stack:void 0;await e({step:a,status:"error",message:d,errorDetails:h,sessionId:c,userId:u,data:{errorType:typeof o,timestamp:new Date().toISOString()}})},logTimeout:async(a,o,c,u)=>{await e({step:a,status:"timeout",message:`Operation timed out after ${o}ms`,sessionId:c,userId:u,data:{timeoutMs:o,timestamp:new Date().toISOString()}})},logSuccess:async(a,o,c,u,d)=>{await e({step:a,status:"success",message:o||`${a} completed successfully`,sessionId:u,userId:d,data:{...c,timestamp:new Date().toISOString()}})},logStart:async(a,o,c,u,d)=>{await e({step:a,status:"started",message:o||`Starting ${a}`,sessionId:u,userId:d,data:{...c,timestamp:new Date().toISOString()}})}}},tr=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,o]=j.useState(!0),{toast:c}=Os(),{generateSessionId:u,logStart:d,logSuccess:h,logError:f}=eR(),[p]=j.useState(()=>u());j.useEffect(()=>{let b=!0;d("auth_initialization","Initializing auth system",{sessionId:p},p);const{data:{subscription:w}}=ce.auth.onAuthStateChange((S,_)=>{b&&setTimeout(async()=>{var A;b&&(await d("auth_state_change",`Auth state changed: ${S}`,{event:S,hasSession:!!_,hasUser:!!(_!=null&&_.user)},p,(A=_==null?void 0:_.user)==null?void 0:A.id),n(_),e((_==null?void 0:_.user)??null),_!=null&&_.user?(await d("profile_fetch_trigger","Triggering profile fetch",{userId:_.user.id},p,_.user.id),setTimeout(()=>{b&&v(_.user.id)},100)):(await h("auth_state_cleared","User logged out, clearing state",{},p),s(null),o(!1)))},0)});return setTimeout(async()=>{var S;if(b){await d("session_check","Checking for existing session",{},p);try{const{data:{session:_}}=await ce.auth.getSession();if(!b)return;await h("session_check","Session check completed",{hasSession:!!_,hasUser:!!(_!=null&&_.user)},p,(S=_==null?void 0:_.user)==null?void 0:S.id),!t&&!i&&(n(_),e((_==null?void 0:_.user)??null),_!=null&&_.user?(await d("existing_session_profile_fetch","Fetching profile for existing session",{userId:_.user.id},p,_.user.id),v(_.user.id)):(await h("no_existing_session","No existing session found",{},p),o(!1)))}catch(_){b&&(await f("session_check",_,p),o(!1))}}},0),()=>{b=!1,w.unsubscribe()}},[]);const v=async b=>{const w=Date.now();await d("fetch_profile","Starting profile fetch",{userId:b},p,b);try{const{data:S,error:_}=await ce.from("profiles").select("*").eq("user_id",b).single();if(_){await f("fetch_profile",_,p,b),console.error("Error fetching profile:",_),o(!1);return}const A=Date.now()-w;await h("fetch_profile","Profile fetched successfully",{profile:S,duration:A},p,b),s(S),o(!1),await h("loading_completed","Auth loading completed successfully",{totalDuration:Date.now()-w,hasProfile:!0},p,b)}catch(S){await f("fetch_profile",S,p,b),console.error("Error fetching profile:",S),o(!1)}};return{user:t,session:r,profile:i,loading:a,signUp:async(b,w,S,_)=>{try{const A=`${window.location.origin}/`,{data:E,error:N}=await ce.auth.signUp({email:b,password:w,options:{emailRedirectTo:A,data:{full_name:S,user_type:_}}});return N?(c({title:"Erro no cadastro",description:N.message,variant:"destructive"}),{error:N}):(c({title:"Cadastro realizado!",description:"Verifique seu email para confirmar a conta."}),{data:E,error:null})}catch(A){const E=A instanceof Error?A.message:"Erro desconhecido";return c({title:"Erro no cadastro",description:E,variant:"destructive"}),{error:{message:E}}}},signIn:async(b,w)=>{var A,E,N,T;const S=u(),_=Date.now();await d("sign_in_attempt","Starting sign in process",{email:b.substring(0,3)+"***",timestamp:new Date().toISOString()},S);try{await d("auth_signin_call","Calling Supabase signInWithPassword",{},S);const{data:D,error:O}=await ce.auth.signInWithPassword({email:b,password:w});if(O)return await f("auth_signin_call",O,S),c({title:"Erro no login",description:O.message,variant:"destructive"}),{error:O};const I=Date.now()-_;return await h("auth_signin_call","Supabase signIn successful",{userId:(A=D.user)==null?void 0:A.id,hasSession:!!D.session,duration:I},S,(E=D.user)==null?void 0:E.id),c({title:"Login realizado!",description:"Bem-vindo de volta!"}),await h("sign_in_completed","Sign in process completed",{totalDuration:I,userId:(N=D.user)==null?void 0:N.id},S,(T=D.user)==null?void 0:T.id),{data:D,error:null}}catch(D){await f("sign_in_attempt",D,S);const O=D instanceof Error?D.message:"Erro desconhecido";return c({title:"Erro no login",description:O,variant:"destructive"}),{error:{message:O}}}},signOut:async()=>{try{const{error:b}=await ce.auth.signOut();return b?(c({title:"Erro ao sair",description:b.message,variant:"destructive"}),{error:b}):(c({title:"Logout realizado",description:"Até logo!"}),{error:null})}catch(b){const w=b instanceof Error?b.message:"Erro desconhecido";return c({title:"Erro ao sair",description:w,variant:"destructive"}),{error:{message:w}}}}}};var Iue=j.createContext(void 0);function Yw(t){const e=j.useContext(Iue);return t||e||"ltr"}var eP="rovingFocusGroup.onEntryFocus",$ue={bubbles:!1,cancelable:!0},Xw="RovingFocusGroup",[fk,fV,Lue]=pE(Xw),[Fue,UE]=Ci(Xw,[Lue]),[zue,Bue]=Fue(Xw),pV=j.forwardRef((t,e)=>l.jsx(fk.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(fk.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Uue,{...t,ref:e})})}));pV.displayName=Xw;var Uue=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=j.useRef(null),p=tt(e,f),v=Yw(s),[g,x]=Mc({prop:a,defaultProp:o??null,onChange:c,caller:Xw}),[y,b]=j.useState(!1),w=_r(u),S=fV(r),_=j.useRef(!1),[A,E]=j.useState(0);return j.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(eP,w),()=>N.removeEventListener(eP,w)},[w]),l.jsx(zue,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:g,onItemFocus:j.useCallback(N=>x(N),[x]),onItemShiftTab:j.useCallback(()=>b(!0),[]),onFocusableItemAdd:j.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:j.useCallback(()=>E(N=>N-1),[]),children:l.jsx(Me.div,{tabIndex:y||A===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{_.current=!0}),onFocus:ye(t.onFocus,N=>{const T=!_.current;if(N.target===N.currentTarget&&T&&!y){const D=new CustomEvent(eP,$ue);if(N.currentTarget.dispatchEvent(D),!D.defaultPrevented){const O=S().filter(L=>L.focusable),I=O.find(L=>L.active),F=O.find(L=>L.id===g),B=[I,F,...O].filter(Boolean).map(L=>L.ref.current);vV(B,d)}}_.current=!1}),onBlur:ye(t.onBlur,()=>b(!1))})})}),mV="RovingFocusGroupItem",gV=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=rl(),u=s||c,d=Bue(mV,r),h=d.currentTabStopId===u,f=fV(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=d;return j.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),l.jsx(fk.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:l.jsx(Me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ye(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=Vue(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=d.loop?que(w,S+1):w.slice(S+1)}setTimeout(()=>vV(w))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});gV.displayName=mV;var Hue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Vue(t,e,r){const n=Wue(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Hue[n]}function vV(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function que(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var yV=pV,xV=gV,pk=["Enter"," "],Gue=["ArrowDown","PageUp","Home"],bV=["ArrowUp","PageDown","End"],Kue=[...Gue,...bV],Yue={ltr:[...pk,"ArrowRight"],rtl:[...pk,"ArrowLeft"]},Xue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zw="Menu",[vb,Zue,Que]=pE(Zw),[fp,wV]=Ci(Zw,[Que,Zv,UE]),HE=Zv(),_V=UE(),[Jue,pp]=fp(Zw),[ede,Qw]=fp(Zw),SV=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,o=HE(e),[c,u]=j.useState(null),d=j.useRef(!1),h=_r(s),f=Yw(i);return j.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(L8,{...o,children:l.jsx(Jue,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(ede,{scope:e,onClose:j.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:n})})})};SV.displayName=Zw;var tde="MenuAnchor",tR=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=HE(r);return l.jsx(ID,{...i,...n,ref:e})});tR.displayName=tde;var rR="MenuPortal",[rde,jV]=fp(rR,{forceMount:void 0}),AV=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=pp(rR,e);return l.jsx(rde,{scope:e,forceMount:r,children:l.jsx(ai,{present:r||s.open,children:l.jsx(Bw,{asChild:!0,container:i,children:n})})})};AV.displayName=rR;var ea="MenuContent",[nde,nR]=fp(ea),EV=j.forwardRef((t,e)=>{const r=jV(ea,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=pp(ea,t.__scopeMenu),a=Qw(ea,t.__scopeMenu);return l.jsx(vb.Provider,{scope:t.__scopeMenu,children:l.jsx(ai,{present:n||s.open,children:l.jsx(vb.Slot,{scope:t.__scopeMenu,children:a.modal?l.jsx(ide,{...i,ref:e}):l.jsx(sde,{...i,ref:e})})})})}),ide=j.forwardRef((t,e)=>{const r=pp(ea,t.__scopeMenu),n=j.useRef(null),i=tt(e,n);return j.useEffect(()=>{const s=n.current;if(s)return VD(s)},[]),l.jsx(iR,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),sde=j.forwardRef((t,e)=>{const r=pp(ea,t.__scopeMenu);return l.jsx(iR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ade=Uf("MenuContent.ScrollLock"),iR=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:v,...g}=t,x=pp(ea,r),y=Qw(ea,r),b=HE(r),w=_V(r),S=Zue(r),[_,A]=j.useState(null),E=j.useRef(null),N=tt(e,E,x.onContentChange),T=j.useRef(0),D=j.useRef(""),O=j.useRef(0),I=j.useRef(null),F=j.useRef("right"),$=j.useRef(0),B=v?PE:j.Fragment,L=v?{as:ade,allowPinchZoom:!0}:void 0,P=U=>{var V,H;const Y=D.current+U,J=S().filter(Q=>!Q.disabled),X=document.activeElement,ee=(V=J.find(Q=>Q.ref.current===X))==null?void 0:V.textValue,ue=J.map(Q=>Q.textValue),we=yde(ue,Y,ee),je=(H=J.find(Q=>Q.textValue===we))==null?void 0:H.ref.current;(function Q(ie){D.current=ie,window.clearTimeout(T.current),ie!==""&&(T.current=window.setTimeout(()=>Q(""),1e3))})(Y),je&&setTimeout(()=>je.focus())};j.useEffect(()=>()=>window.clearTimeout(T.current),[]),WD();const R=j.useCallback(U=>{var J,X;return F.current===((J=I.current)==null?void 0:J.side)&&bde(U,(X=I.current)==null?void 0:X.area)},[]);return l.jsx(nde,{scope:r,searchRef:D,onItemEnter:j.useCallback(U=>{R(U)&&U.preventDefault()},[R]),onItemLeave:j.useCallback(U=>{var Y;R(U)||((Y=E.current)==null||Y.focus(),A(null))},[R]),onTriggerLeave:j.useCallback(U=>{R(U)&&U.preventDefault()},[R]),pointerGraceTimerRef:O,onPointerGraceIntentChange:j.useCallback(U=>{I.current=U},[]),children:l.jsx(B,{...L,children:l.jsx(CE,{asChild:!0,trapped:i,onMountAutoFocus:ye(s,U=>{var Y;U.preventDefault(),(Y=E.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(qv,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:l.jsx(yV,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:ye(c,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx($D,{role:"menu","aria-orientation":"vertical","data-state":UV(x.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:ye(g.onKeyDown,U=>{const J=U.target.closest("[data-radix-menu-content]")===U.currentTarget,X=U.ctrlKey||U.altKey||U.metaKey,ee=U.key.length===1;J&&(U.key==="Tab"&&U.preventDefault(),!X&&ee&&P(U.key));const ue=E.current;if(U.target!==ue||!Kue.includes(U.key))return;U.preventDefault();const je=S().filter(V=>!V.disabled).map(V=>V.ref.current);bV.includes(U.key)&&je.reverse(),gde(je)}),onBlur:ye(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(T.current),D.current="")}),onPointerMove:ye(t.onPointerMove,yb(U=>{const Y=U.target,J=$.current!==U.clientX;if(U.currentTarget.contains(Y)&&J){const X=U.clientX>$.current?"right":"left";F.current=X,$.current=U.clientX}}))})})})})})})});EV.displayName=ea;var ode="MenuGroup",sR=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Me.div,{role:"group",...n,ref:e})});sR.displayName=ode;var lde="MenuLabel",CV=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Me.div,{...n,ref:e})});CV.displayName=lde;var oj="MenuItem",qF="menu.itemSelect",WE=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=j.useRef(null),a=Qw(oj,t.__scopeMenu),o=nR(oj,t.__scopeMenu),c=tt(e,s),u=j.useRef(!1),d=()=>{const h=s.current;if(!r&&h){const f=new CustomEvent(qF,{bubbles:!0,cancelable:!0});h.addEventListener(qF,p=>n==null?void 0:n(p),{once:!0}),vD(h,f),f.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(NV,{...i,ref:c,disabled:r,onClick:ye(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:ye(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ye(t.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||pk.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});WE.displayName=oj;var NV=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=nR(oj,r),o=_V(r),c=j.useRef(null),u=tt(e,c),[d,h]=j.useState(!1),[f,p]=j.useState("");return j.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[s.children]),l.jsx(vb.ItemSlot,{scope:r,disabled:n,textValue:i??f,children:l.jsx(xV,{asChild:!0,...o,focusable:!n,children:l.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:ye(t.onPointerMove,yb(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,yb(v=>a.onItemLeave(v))),onFocus:ye(t.onFocus,()=>h(!0)),onBlur:ye(t.onBlur,()=>h(!1))})})})}),cde="MenuCheckboxItem",PV=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return l.jsx(DV,{scope:t.__scopeMenu,checked:r,children:l.jsx(WE,{role:"menuitemcheckbox","aria-checked":lj(r)?"mixed":r,...i,ref:e,"data-state":oR(r),onSelect:ye(i.onSelect,()=>n==null?void 0:n(lj(r)?!0:!r),{checkForDefaultPrevented:!1})})})});PV.displayName=cde;var TV="MenuRadioGroup",[ude,dde]=fp(TV,{value:void 0,onValueChange:()=>{}}),kV=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=_r(n);return l.jsx(ude,{scope:t.__scopeMenu,value:r,onValueChange:s,children:l.jsx(sR,{...i,ref:e})})});kV.displayName=TV;var OV="MenuRadioItem",MV=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=dde(OV,t.__scopeMenu),s=r===i.value;return l.jsx(DV,{scope:t.__scopeMenu,checked:s,children:l.jsx(WE,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":oR(s),onSelect:ye(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});MV.displayName=OV;var aR="MenuItemIndicator",[DV,hde]=fp(aR,{checked:!1}),RV=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=hde(aR,r);return l.jsx(ai,{present:n||lj(s.checked)||s.checked===!0,children:l.jsx(Me.span,{...i,ref:e,"data-state":oR(s.checked)})})});RV.displayName=aR;var fde="MenuSeparator",IV=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});IV.displayName=fde;var pde="MenuArrow",$V=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=HE(r);return l.jsx(LD,{...i,...n,ref:e})});$V.displayName=pde;var mde="MenuSub",[mWe,LV]=fp(mde),tx="MenuSubTrigger",FV=j.forwardRef((t,e)=>{const r=pp(tx,t.__scopeMenu),n=Qw(tx,t.__scopeMenu),i=LV(tx,t.__scopeMenu),s=nR(tx,t.__scopeMenu),a=j.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=j.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return j.useEffect(()=>d,[d]),j.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),l.jsx(tR,{asChild:!0,...u,children:l.jsx(NV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":UV(r.open),...t,ref:fE(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,yb(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ye(t.onPointerLeave,yb(h=>{var p,v;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(v=r.content)==null?void 0:v.dataset.side,x=g==="right",y=x?-5:5,b=f[x?"left":"right"],w=f[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:b,y:f.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,h=>{var p;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||Yue[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});FV.displayName=tx;var zV="MenuSubContent",BV=j.forwardRef((t,e)=>{const r=jV(ea,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=pp(ea,t.__scopeMenu),a=Qw(ea,t.__scopeMenu),o=LV(zV,t.__scopeMenu),c=j.useRef(null),u=tt(e,c);return l.jsx(vb.Provider,{scope:t.__scopeMenu,children:l.jsx(ai,{present:n||s.open,children:l.jsx(vb.Slot,{scope:t.__scopeMenu,children:l.jsx(iR,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ye(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ye(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=Xue[a.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});BV.displayName=zV;function UV(t){return t?"open":"closed"}function lj(t){return t==="indeterminate"}function oR(t){return lj(t)?"indeterminate":t?"checked":"unchecked"}function gde(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function vde(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function yde(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=vde(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function xde(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,h=c.x,f=c.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(i=!i)}return i}function bde(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return xde(r,e)}function yb(t){return e=>e.pointerType==="mouse"?t(e):void 0}var wde=SV,_de=tR,Sde=AV,jde=EV,Ade=sR,Ede=CV,Cde=WE,Nde=PV,Pde=kV,Tde=MV,kde=RV,Ode=IV,Mde=$V,Dde=FV,Rde=BV,VE="DropdownMenu",[Ide,gWe]=Ci(VE,[wV]),Ni=wV(),[$de,HV]=Ide(VE),WV=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,c=Ni(e),u=j.useRef(null),[d,h]=Mc({prop:i,defaultProp:s??!1,onChange:a,caller:VE});return l.jsx($de,{scope:e,triggerId:rl(),triggerRef:u,contentId:rl(),open:d,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(f=>!f),[h]),modal:o,children:l.jsx(wde,{...c,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};WV.displayName=VE;var VV="DropdownMenuTrigger",qV=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=HV(VV,r),a=Ni(r);return l.jsx(_de,{asChild:!0,...a,children:l.jsx(Me.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:fE(e,s.triggerRef),onPointerDown:ye(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:ye(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});qV.displayName=VV;var Lde="DropdownMenuPortal",GV=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ni(e);return l.jsx(Sde,{...n,...r})};GV.displayName=Lde;var KV="DropdownMenuContent",YV=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=HV(KV,r),s=Ni(r),a=j.useRef(!1);return l.jsx(jde,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,o=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YV.displayName=KV;var Fde="DropdownMenuGroup",zde=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Ade,{...i,...n,ref:e})});zde.displayName=Fde;var Bde="DropdownMenuLabel",XV=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Ede,{...i,...n,ref:e})});XV.displayName=Bde;var Ude="DropdownMenuItem",ZV=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Cde,{...i,...n,ref:e})});ZV.displayName=Ude;var Hde="DropdownMenuCheckboxItem",QV=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Nde,{...i,...n,ref:e})});QV.displayName=Hde;var Wde="DropdownMenuRadioGroup",Vde=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Pde,{...i,...n,ref:e})});Vde.displayName=Wde;var qde="DropdownMenuRadioItem",JV=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Tde,{...i,...n,ref:e})});JV.displayName=qde;var Gde="DropdownMenuItemIndicator",eq=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(kde,{...i,...n,ref:e})});eq.displayName=Gde;var Kde="DropdownMenuSeparator",tq=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Ode,{...i,...n,ref:e})});tq.displayName=Kde;var Yde="DropdownMenuArrow",Xde=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Mde,{...i,...n,ref:e})});Xde.displayName=Yde;var Zde="DropdownMenuSubTrigger",rq=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Dde,{...i,...n,ref:e})});rq.displayName=Zde;var Qde="DropdownMenuSubContent",nq=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return l.jsx(Rde,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nq.displayName=Qde;var Jde=WV,ehe=qV,the=GV,iq=YV,sq=XV,aq=ZV,oq=QV,lq=JV,cq=eq,uq=tq,dq=rq,hq=nq;const fq=Jde,pq=ehe,rhe=j.forwardRef(({className:t,inset:e,children:r,...n},i)=>l.jsxs(dq,{ref:i,className:De("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,l.jsx(_D,{className:"ml-auto h-4 w-4"})]}));rhe.displayName=dq.displayName;const nhe=j.forwardRef(({className:t,...e},r)=>l.jsx(hq,{ref:r,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));nhe.displayName=hq.displayName;const lR=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(the,{children:l.jsx(iq,{ref:n,sideOffset:e,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));lR.displayName=iq.displayName;const Df=j.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(aq,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Df.displayName=aq.displayName;const ihe=j.forwardRef(({className:t,children:e,checked:r,...n},i)=>l.jsxs(oq,{ref:i,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cq,{children:l.jsx(rv,{className:"h-4 w-4"})})}),e]}));ihe.displayName=oq.displayName;const she=j.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(lq,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cq,{children:l.jsx(Ere,{className:"h-2 w-2 fill-current"})})}),e]}));she.displayName=lq.displayName;const ahe=j.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(sq,{ref:n,className:De("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));ahe.displayName=sq.displayName;const ohe=j.forwardRef(({className:t,...e},r)=>l.jsx(uq,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));ohe.displayName=uq.displayName;var mq={exports:{}},gq={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=j;function lhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var che=typeof Object.is=="function"?Object.is:lhe,uhe=fv.useState,dhe=fv.useEffect,hhe=fv.useLayoutEffect,fhe=fv.useDebugValue;function phe(t,e){var r=e(),n=uhe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return hhe(function(){i.value=r,i.getSnapshot=e,tP(i)&&s({inst:i})},[t,r,e]),dhe(function(){return tP(i)&&s({inst:i}),t(function(){tP(i)&&s({inst:i})})},[t]),fhe(r),r}function tP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!che(t,r)}catch{return!0}}function mhe(t,e){return e()}var ghe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mhe:phe;gq.useSyncExternalStore=fv.useSyncExternalStore!==void 0?fv.useSyncExternalStore:ghe;mq.exports=gq;var vhe=mq.exports;function yhe(){return vhe.useSyncExternalStore(xhe,()=>!0,()=>!1)}function xhe(){return()=>{}}var cR="Avatar",[bhe,vWe]=Ci(cR),[whe,vq]=bhe(cR),yq=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=j.useState("idle");return l.jsx(whe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(Me.span,{...n,ref:e})})});yq.displayName=cR;var xq="AvatarImage",bq=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=vq(xq,r),o=_he(n,s),c=_r(u=>{i(u),a.onImageLoadingStatusChange(u)});return Nr(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Me.img,{...s,ref:e,src:n}):null});bq.displayName=xq;var wq="AvatarFallback",_q=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=vq(wq,r),[a,o]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(Me.span,{...i,ref:e}):null});_q.displayName=wq;function GF(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _he(t,{referrerPolicy:e,crossOrigin:r}){const n=yhe(),i=j.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,o]=j.useState(()=>GF(s,t));return Nr(()=>{o(GF(s,t))},[s,t]),Nr(()=>{const c=h=>()=>{o(h)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,e]),a}var Sq=yq,jq=bq,Aq=_q;const ta=j.forwardRef(({className:t,...e},r)=>l.jsx(Sq,{ref:r,className:De("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ta.displayName=Sq.displayName;const She=j.forwardRef(({className:t,...e},r)=>l.jsx(jq,{ref:r,className:De("aspect-square h-full w-full",t),...e}));She.displayName=jq.displayName;const ra=j.forwardRef(({className:t,...e},r)=>l.jsx(Aq,{ref:r,className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ra.displayName=Aq.displayName;const he=j.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));he.displayName="Card";const Be=j.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:De("flex flex-col space-y-1.5 p-6",t),...e}));Be.displayName="CardHeader";const Le=j.forwardRef(({className:t,...e},r)=>l.jsx("h3",{ref:r,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));Le.displayName="CardTitle";const Ye=j.forwardRef(({className:t,...e},r)=>l.jsx("p",{ref:r,className:De("text-sm text-muted-foreground",t),...e}));Ye.displayName="CardDescription";const Ie=j.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:De("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const jhe=j.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:De("flex items-center p-6 pt-0",t),...e}));jhe.displayName="CardFooter";const Ahe=Hw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function it({className:t,variant:e,...r}){return l.jsx("div",{className:De(Ahe({variant:e}),t),...r})}function uR(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var qE="Switch",[Ehe,yWe]=Ci(qE),[Che,Nhe]=Ehe(qE),Eq=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,p]=j.useState(null),v=tt(e,w=>p(w)),g=j.useRef(!1),x=f?d||!!f.closest("form"):!0,[y,b]=Mc({prop:i,defaultProp:s??!1,onChange:u,caller:qE});return l.jsxs(Che,{scope:r,checked:y,disabled:o,children:[l.jsx(Me.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":Tq(y),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:v,onClick:ye(t.onClick,w=>{b(S=>!S),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&l.jsx(Pq,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Eq.displayName=qE;var Cq="SwitchThumb",Nq=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Nhe(Cq,r);return l.jsx(Me.span,{"data-state":Tq(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Nq.displayName=Cq;var Phe="SwitchBubbleInput",Pq=j.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const a=j.useRef(null),o=tt(a,s),c=uR(r),u=MD(e);return j.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const v=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(v)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Pq.displayName=Phe;function Tq(t){return t?"checked":"unchecked"}var kq=Eq,The=Nq;const Lr=j.forwardRef(({className:t,...e},r)=>l.jsx(kq,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:l.jsx(The,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Lr.displayName=kq.displayName;var khe="Label",Oq=j.forwardRef((t,e)=>l.jsx(Me.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Oq.displayName=khe;var Mq=Oq;const Ohe=Hw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=j.forwardRef(({className:t,...e},r)=>l.jsx(Mq,{ref:r,className:De(Ohe(),t),...e}));G.displayName=Mq.displayName;const cn=$W,mp=LW,Mhe=FW,Dq=j.forwardRef(({className:t,...e},r)=>l.jsx(kE,{ref:r,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Dq.displayName=kE.displayName;const qr=j.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Mhe,{children:[l.jsx(Dq,{}),l.jsxs(OE,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,l.jsxs(zW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(lp,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qr.displayName=OE.displayName;const Gr=({className:t,...e})=>l.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gr.displayName="DialogHeader";const Kr=j.forwardRef(({className:t,...e},r)=>l.jsx(ME,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));Kr.displayName=ME.displayName;const ll=j.forwardRef(({className:t,...e},r)=>l.jsx(DE,{ref:r,className:De("text-sm text-muted-foreground",t),...e}));ll.displayName=DE.displayName;var GE="Tabs",[Dhe,xWe]=Ci(GE,[UE]),Rq=UE(),[Rhe,dR]=Dhe(GE),Iq=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=Yw(o),[h,f]=Mc({prop:n,onChange:i,defaultProp:s??"",caller:GE});return l.jsx(Rhe,{scope:r,baseId:rl(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:l.jsx(Me.div,{dir:d,"data-orientation":a,...u,ref:e})})});Iq.displayName=GE;var $q="TabsList",Lq=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=dR($q,r),a=Rq(r);return l.jsx(yV,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(Me.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Lq.displayName=$q;var Fq="TabsTrigger",zq=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=dR(Fq,r),o=Rq(r),c=Hq(a.baseId,n),u=Wq(a.baseId,n),d=n===a.value;return l.jsx(xV,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ye(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:ye(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!i&&h&&a.onValueChange(n)})})})});zq.displayName=Fq;var Bq="TabsContent",Uq=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=dR(Bq,r),c=Hq(o.baseId,n),u=Wq(o.baseId,n),d=n===o.value,h=j.useRef(d);return j.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(ai,{present:i||d,children:({present:f})=>l.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});Uq.displayName=Bq;function Hq(t,e){return`${t}-trigger-${e}`}function Wq(t,e){return`${t}-content-${e}`}var Ihe=Iq,Vq=Lq,qq=zq,Gq=Uq;const ao=Ihe,da=j.forwardRef(({className:t,...e},r)=>l.jsx(Vq,{ref:r,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));da.displayName=Vq.displayName;const st=j.forwardRef(({className:t,...e},r)=>l.jsx(qq,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));st.displayName=qq.displayName;const at=j.forwardRef(({className:t,...e},r)=>l.jsx(Gq,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));at.displayName=Gq.displayName;const $he=()=>{const{user:t}=tr(),[e,r]=j.useState({granted:!1,denied:!1,default:!0}),[n,i]=j.useState({webPush:!1,mobile:!1,email:!0,messages:!0,appointments:!0,training:!0,nutrition:!0,soundEnabled:!0,vibrationEnabled:!0}),[s,a]=j.useState(!1),[o,c]=j.useState(null);j.useEffect(()=>{d(),v()},[t]);const u=()=>"Notification"in window&&"serviceWorker"in navigator,d=()=>{if(!u())return;const w=Notification.permission;r({granted:w==="granted",denied:w==="denied",default:w==="default"})},h=async()=>{if(!u())return Zn({title:"Não suportado",description:"Seu navegador não suporta notificações",variant:"destructive"}),!1;try{const w=await Notification.requestPermission();return d(),w==="granted"?(Zn({title:"Permissão concedida",description:"Notificações habilitadas com sucesso"}),await f(),!0):(Zn({title:"Permissão negada",description:"Você pode habilitar nas configurações do navegador",variant:"destructive"}),!1)}catch(w){return console.error("Erro ao solicitar permissão:",w),Zn({title:"Erro",description:"Erro ao solicitar permissão para notificações",variant:"destructive"}),!1}},f=async()=>{if(!(!e.granted||!t))try{const _=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:y("BEl62iUYgUivxIkv69yViEuiBIa40HI80y4CXzyhmmLOk9vwjQQ1uKP2lq_QhQQKT9UlKSA5Vs0Z6NyQQtJ_xZ8")}),A={endpoint:_.endpoint,keys:{p256dh:b(_.getKey("p256dh")),auth:b(_.getKey("auth"))}};c(A),await p(A)}catch(w){console.error("Erro ao configurar Web Push:",w),Zn({title:"Erro",description:"Erro ao configurar notificações push",variant:"destructive"})}},p=async w=>{if(t)try{const{error:S}=await ce.from("notification_subscriptions").upsert({user_id:t.id,platform:"web",subscription_data:w,is_active:!0},{onConflict:"user_id,platform"});if(S)throw S}catch(S){console.error("Erro ao salvar subscription:",S)}},v=async()=>{if(t)try{const{data:w,error:S}=await ce.from("notification_settings").select("*").eq("user_id",t.id).maybeSingle();if(S)throw S;w&&i({webPush:w.web_push||!1,mobile:w.mobile||!1,email:w.email||!0,messages:w.messages||!0,appointments:w.appointments||!0,training:w.training||!0,nutrition:w.nutrition||!0,soundEnabled:w.sound_enabled||!0,vibrationEnabled:w.vibration_enabled||!0})}catch(w){console.error("Erro ao carregar configurações:",w)}},g=async w=>{if(t){a(!0);try{const S={...n,...w};i(S);const{error:_}=await ce.from("notification_settings").upsert({user_id:t.id,web_push:S.webPush,mobile:S.mobile,email:S.email,messages:S.messages,appointments:S.appointments,training:S.training,nutrition:S.nutrition,sound_enabled:S.soundEnabled,vibration_enabled:S.vibrationEnabled},{onConflict:"user_id"});if(_)throw _;Zn({title:"Configurações salvas",description:"Suas preferências foram atualizadas"})}catch(S){console.error("Erro ao salvar configurações:",S),Zn({title:"Erro",description:"Erro ao salvar configurações",variant:"destructive"})}finally{a(!1)}}},x=j.useCallback(async()=>{if(!e.granted){Zn({title:"Permissão necessária",description:"Primeiro habilite as notificações",variant:"destructive"});return}try{new Notification("Pro Health App - Teste",{body:"Esta é uma notificação de teste!",icon:"/favicon.ico",tag:"test-notification"}),Zn({title:"Notificação enviada",description:"Verifique se recebeu a notificação de teste"})}catch(w){console.error("Erro ao enviar notificação de teste:",w),Zn({title:"Erro",description:"Erro ao enviar notificação de teste",variant:"destructive"})}},[e.granted]),y=w=>{const S="=".repeat((4-w.length%4)%4),_=(w+S).replace(/-/g,"+").replace(/_/g,"/"),A=window.atob(_),E=new Uint8Array(A.length);for(let N=0;N<A.length;++N)E[N]=A.charCodeAt(N);return E},b=w=>{const S=new Uint8Array(w);let _="";for(let A=0;A<S.byteLength;A++)_+=String.fromCharCode(S[A]);return window.btoa(_)};return{permission:e,settings:n,isLoading:s,subscription:o,isNotificationSupported:u,requestPermission:h,saveSettings:g,sendTestNotification:x,checkNotificationPermission:d,loadSettings:v}},Lhe=()=>{const{user:t}=tr(),[e,r]=j.useState(!1),[n,i]=j.useState(!1),[s,a]=j.useState(null),[o,c]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const{Capacitor:S}=await Ir(async()=>{const{Capacitor:_}=await Promise.resolve().then(()=>GUe);return{Capacitor:_}},void 0);r(S.isNativePlatform()),S.isNativePlatform()&&await u()}catch{console.log("Capacitor não disponível - modo web"),r(!1)}})()},[]);const u=async()=>{if(e)try{const{LocalNotifications:w}=await Ir(async()=>{const{LocalNotifications:_}=await import("./index-1fo5f9ZE.js");return{LocalNotifications:_}},[]),S=await w.checkPermissions();i(S.display==="granted"),await w.addListener("localNotificationReceived",_=>{console.log("Notificação local recebida:",_)}),await w.addListener("localNotificationActionPerformed",_=>{console.log("Ação da notificação local:",_),y(_)});try{const _=await Ir(()=>import("./index-pjIg4xdT.js"),[]),{PushNotifications:A}=_;(await A.checkPermissions()).receive==="granted"&&await d()}catch{console.log("Push notifications não disponível")}}catch(w){console.error("Erro ao inicializar notificações:",w)}},d=async()=>{try{const{PushNotifications:w}=await Ir(async()=>{const{PushNotifications:S}=await import("./index-pjIg4xdT.js");return{PushNotifications:S}},[]);await w.register(),await w.addListener("registration",S=>{console.log("Push registration success, token: "+S.value),a(S.value),g(S.value)}),await w.addListener("registrationError",S=>{console.error("Error on registration: "+JSON.stringify(S))}),await w.addListener("pushNotificationReceived",S=>{console.log("Push notification received: ",S),x(S)}),await w.addListener("pushNotificationActionPerformed",S=>{console.log("Push notification action performed",S),y(S)})}catch(w){console.error("Erro ao configurar push notifications:",w)}},h=async()=>{if(!e)return Zn({title:"Não disponível",description:"Notificações móveis só funcionam no app nativo",variant:"destructive"}),!1;c(!0);try{const{LocalNotifications:w}=await Ir(async()=>{const{LocalNotifications:A}=await import("./index-1fo5f9ZE.js");return{LocalNotifications:A}},[]),_=(await w.requestPermissions()).display==="granted";if(i(_),_){try{const{PushNotifications:A}=await Ir(async()=>{const{PushNotifications:E}=await import("./index-pjIg4xdT.js");return{PushNotifications:E}},[]);await A.requestPermissions(),await d()}catch{console.log("Push notifications não disponível")}return Zn({title:"Permissões concedidas",description:"Notificações móveis habilitadas"}),!0}else return Zn({title:"Permissão negada",description:"Habilite nas configurações do dispositivo",variant:"destructive"}),!1}catch(w){return console.error("Erro ao solicitar permissões:",w),Zn({title:"Erro",description:"Erro ao solicitar permissões",variant:"destructive"}),!1}finally{c(!1)}},f=async w=>{if(!e||!n){console.log("Notificações não disponíveis ou sem permissão");return}try{const{LocalNotifications:S}=await Ir(async()=>{const{LocalNotifications:_}=await import("./index-1fo5f9ZE.js");return{LocalNotifications:_}},[]);await S.schedule({notifications:[w]}),console.log("Notificação local agendada:",w)}catch(S){console.error("Erro ao agendar notificação local:",S)}},p=async w=>{if(e)try{const{LocalNotifications:S}=await Ir(async()=>{const{LocalNotifications:_}=await import("./index-1fo5f9ZE.js");return{LocalNotifications:_}},[]);await S.cancel({notifications:[{id:w}]})}catch(S){console.error("Erro ao cancelar notificação:",S)}},v=async()=>{if(!e)return[];try{const{LocalNotifications:w}=await Ir(async()=>{const{LocalNotifications:_}=await import("./index-1fo5f9ZE.js");return{LocalNotifications:_}},[]);return(await w.getPending()).notifications}catch(w){return console.error("Erro ao buscar notificações pendentes:",w),[]}},g=async w=>{if(t)try{const{supabase:S}=await Ir(async()=>{const{supabase:A}=await Promise.resolve().then(()=>Rue);return{supabase:A}},void 0),{error:_}=await S.from("notification_subscriptions").upsert({user_id:t.id,platform:"mobile",subscription_data:{token:w},is_active:!0},{onConflict:"user_id,platform"});if(_)throw _}catch(S){console.error("Erro ao salvar token push:",S)}},x=w=>{console.log("Push notification recebida:",w),w.title&&w.body&&f({title:w.title,body:w.body,id:Date.now(),extra:w.data})},y=w=>{const{notification:S,actionId:_}=w;if(console.log("Ação da notificação:",_,S),S.extra){const A=S.extra;switch(A.type){case"message":window.location.href=`/communication?conversation=${A.conversationId||""}`;break;case"appointment":window.location.href="/athlete-dashboard?section=schedule";break;case"training":window.location.href="/athlete-dashboard?section=training";break;default:window.location.href="/athlete-dashboard"}}};return{isCapacitorAvailable:e,hasPermission:n,pushToken:s,isLoading:o,requestPermissions:h,scheduleLocalNotification:f,cancelNotification:p,getPendingNotifications:v,sendTestNotification:async()=>{await f({title:"Pro Health App - Teste",body:"Esta é uma notificação de teste no mobile!",id:Date.now(),extra:{type:"test"}}),Zn({title:"Notificação enviada",description:"Verifique se recebeu a notificação móvel"})},initializeNotifications:u}},KE=()=>{const{user:t}=tr(),[e,r]=j.useState([]),[n,i]=j.useState({}),[s,a]=j.useState([]),[o,c]=j.useState(0),[u,d]=j.useState(!0),[h,f]=j.useState(null),p=async()=>{if(t!=null&&t.id)try{const{data:w,error:S}=await ce.from("athlete_professional_relationships").select("athlete_id, professional_id").or(`athlete_id.eq.${t.id},professional_id.eq.${t.id}`).eq("status","accepted");if(S)throw S;const _=(w==null?void 0:w.map(O=>O.athlete_id===t.id?O.professional_id:O.athlete_id))||[];if(_.length===0){r([]),c(0);return}const{data:A,error:E}=await ce.from("conversations").select(`
          *,
          athlete:profiles!conversations_athlete_id_fkey(full_name),
          professional:profiles!conversations_professional_id_fkey(full_name)
        `).or(`athlete_id.eq.${t.id},professional_id.eq.${t.id}`).order("updated_at",{ascending:!1});if(E)throw E;const N=(A||[]).filter(O=>{const I=O.athlete_id===t.id?O.professional_id:O.athlete_id;return _.includes(I)}),T=await Promise.all(N.map(async O=>{var B,L;const{count:I}=await ce.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",O.id).neq("sender_id",t.id).is("read_at",null),$=t.id===O.athlete_id?(B=O.professional)==null?void 0:B.full_name:(L=O.athlete)==null?void 0:L.full_name;return{...O,unread_count:I||0,other_party_name:$||"Usuário"}}));r(T);const D=T.reduce((O,I)=>O+I.unread_count,0);console.log("📊 Total unread count updated:",D),console.log("📋 Conversations with unread counts:",T.map(O=>({id:O.id,name:O.other_party_name,unread:O.unread_count}))),c(D)}catch(w){console.error("Error fetching conversations:",w)}},v=async w=>{try{const{data:S,error:_}=await ce.from("messages").select("*").eq("conversation_id",w).order("created_at",{ascending:!0});if(_)throw _;i(A=>({...A,[w]:S||[]}))}catch(S){console.error("Error fetching messages:",S)}},g=async()=>{if(t!=null&&t.id)try{const{data:w,error:S}=await ce.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);if(S)throw S;a(w||[])}catch(w){console.error("Error fetching notifications:",w)}},x=async w=>{try{const{error:S}=await ce.from("notifications").update({read_at:new Date().toISOString()}).eq("id",w);if(S)throw S;a(_=>_.map(A=>A.id===w?{...A,read_at:new Date().toISOString()}:A)),c(_=>Math.max(0,_-1))}catch(S){console.error("Error marking notification as read:",S)}},y=async w=>{try{const{error:S}=await ce.from("messages").update({read_at:new Date().toISOString()}).eq("id",w);if(S)throw S}catch(S){console.error("Error marking message as read:",S)}},b=async w=>{if(t!=null&&t.id)try{const S=e.find(N=>N.id===w),_=(S==null?void 0:S.unread_count)||0;if(_===0)return;r(N=>N.map(T=>T.id===w?{...T,unread_count:0}:T)),c(N=>Math.max(0,N-_)),console.log(`📖 Marking conversation ${w} as read. Reducing unread count by ${_}`);const{data:A,error:E}=await ce.from("messages").update({read_at:new Date().toISOString()}).eq("conversation_id",w).neq("sender_id",t.id).is("read_at",null).select();if(E)throw console.error("Error marking conversation as read:",E),r(N=>N.map(T=>T.id===w?{...T,unread_count:_}:T)),c(N=>N+_),E;console.log(`✅ Successfully marked ${(A==null?void 0:A.length)||0} messages as read in conversation ${w}`)}catch(S){console.error("Error marking conversation as read:",S)}};return j.useEffect(()=>{if(t!=null&&t.id){(async()=>{d(!0),await Promise.all([p(),g()]),d(!1)})(),console.log("🔌 Setting up real-time channels for user:",t.id);const S=ce.channel("schema-db-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async _=>{if(console.log("🔔 Message INSERT detected:",_),_.new){const A=_.new;console.log("🆕 New message received:",{id:A.id,conversation_id:A.conversation_id,sender_id:A.sender_id,current_user:t.id,is_from_other_user:A.sender_id!==t.id}),A.sender_id!==t.id&&(console.log("⏰ New message from other user, updating counts..."),await p(),await v(A.conversation_id),console.log("✅ Real-time update completed"))}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},async _=>{if(_.new){const A=_.new;await v(A.conversation_id),await p()}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations"},async _=>{await p()}).subscribe(_=>{if(console.log("📡 Realtime channel status:",_),_==="SUBSCRIBED")console.log("✅ Realtime channel connected successfully");else if(_==="CHANNEL_ERROR"){console.error("❌ Realtime channel failed to connect - using polling fallback");let A=!0;const E=setInterval(async()=>{A&&(console.log("🔄 Polling for updates..."),await p())},5e3);return()=>{A=!1,clearInterval(E)}}});return()=>{ce.removeChannel(S)}}},[t==null?void 0:t.id]),{conversations:e,messages:n,notifications:s,unreadCount:o,loading:u,fetchMessages:v,markNotificationAsRead:x,markMessageAsRead:y,markConversationAsRead:b,refetchConversations:p,refetchNotifications:g,setOnMessagesUpdate:f}},Fhe=({isConnected:t=!0,lastUpdate:e,className:r=""})=>{const[n,i]=j.useState(!1);return j.useEffect(()=>{if(e){i(!0);const s=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(s)}},[e]),n?l.jsxs(it,{variant:"default",className:`gap-1 bg-green-500 text-white animate-pulse ${r}`,children:[l.jsx(Are,{className:"w-3 h-3"}),"Atualizado"]}):l.jsxs("div",{className:`flex items-center gap-1 text-xs ${t?"text-green-600":"text-red-600"} ${r}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-500 animate-pulse":"bg-red-500"}`}),t?"Tempo Real":"Desconectado"]})},hR=6048e5,zhe=864e5,X_=43200,KF=1440,YF=Symbol.for("constructDateFrom");function un(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&YF in t?t[YF](e):t instanceof Date?new t.constructor(e):new Date(e)}function xt(t,e){return un(e||t,t)}function gi(t,e,r){const n=xt(t,r==null?void 0:r.in);return isNaN(e)?un((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ro(t,e,r){const n=xt(t,r==null?void 0:r.in);if(isNaN(e))return un((r==null?void 0:r.in)||t,NaN);if(!e)return n;const i=n.getDate(),s=un((r==null?void 0:r.in)||t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}let Bhe={};function ty(){return Bhe}function cl(t,e){var o,c,u,d;const r=ty(),n=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=xt(t,e==null?void 0:e.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Vf(t,e){return cl(t,{...e,weekStartsOn:1})}function Kq(t,e){const r=xt(t,e==null?void 0:e.in),n=r.getFullYear(),i=un(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Vf(i),a=un(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Vf(a);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function pv(t){const e=xt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $d(t,...e){const r=un.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function mv(t,e){const r=xt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Ko(t,e,r){const[n,i]=$d(r==null?void 0:r.in,t,e),s=mv(n),a=mv(i),o=+s-pv(s),c=+a-pv(a);return Math.round((o-c)/zhe)}function Uhe(t,e){const r=Kq(t,e),n=un(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vf(n)}function mk(t,e,r){return gi(t,e*7,r)}function Hhe(t,e,r){return ro(t,e*12,r)}function Whe(t,e){let r,n=e==null?void 0:e.in;return t.forEach(i=>{!n&&typeof i=="object"&&(n=un.bind(null,i));const s=xt(i,n);(!r||r<s||isNaN(+s))&&(r=s)}),un(n,r||NaN)}function Vhe(t,e){let r,n=e==null?void 0:e.in;return t.forEach(i=>{!n&&typeof i=="object"&&(n=un.bind(null,i));const s=xt(i,n);(!r||r>s||isNaN(+s))&&(r=s)}),un(n,r||NaN)}function H1(t,e){const r=+xt(t)-+xt(e);return r<0?-1:r>0?1:r}function qhe(t){return un(t,Date.now())}function Hi(t,e,r){const[n,i]=$d(r==null?void 0:r.in,t,e);return+mv(n)==+mv(i)}function fR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ghe(t){return!(!fR(t)&&typeof t!="number"||isNaN(+xt(t)))}function gv(t,e,r){const[n,i]=$d(r==null?void 0:r.in,t,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function Khe(t,e,r){const[n,i]=$d(r==null?void 0:r.in,t,e),s=cl(n,r),a=cl(i,r),o=+s-pv(s),c=+a-pv(a);return Math.round((o-c)/hR)}function Yhe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Xhe(t,e){return+xt(t)-+xt(e)}function Zhe(t,e){const r=xt(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function YE(t,e){const r=xt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Qhe(t,e){const r=xt(t,e==null?void 0:e.in);return+Zhe(r,e)==+YE(r,e)}function Jhe(t,e,r){const[n,i,s]=$d(r==null?void 0:r.in,t,t,e),a=H1(i,s),o=Math.abs(gv(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let c=H1(i,s)===-a;Qhe(n)&&o===1&&H1(n,s)===1&&(c=!1);const u=a*(o-+c);return u===0?0:u}function efe(t,e,r){const n=Xhe(t,e)/1e3;return Yhe(r==null?void 0:r.roundingMethod)(n)}function Ki(t,e){const r=xt(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Yq(t,e){const r=xt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function pR(t,e){var o,c,u,d;const r=ty(),n=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=xt(t,e==null?void 0:e.in),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function Xq(t,e){return pR(t,{...e,weekStartsOn:1})}const tfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rfe=(t,e,r)=>{let n;const i=tfe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const nfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ife={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},afe={date:jm({formats:nfe,defaultWidth:"full"}),time:jm({formats:ife,defaultWidth:"full"}),dateTime:jm({formats:sfe,defaultWidth:"full"})},ofe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lfe=(t,e,r,n)=>ofe[t];function Wo(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const cfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ufe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ffe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mfe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gfe={ordinalNumber:mfe,era:Wo({values:cfe,defaultWidth:"wide"}),quarter:Wo({values:ufe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wo({values:dfe,defaultWidth:"wide"}),day:Wo({values:hfe,defaultWidth:"wide"}),dayPeriod:Wo({values:ffe,defaultWidth:"wide",formattingValues:pfe,defaultFormattingWidth:"wide"})};function Vo(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?yfe(o,h=>h.test(a)):vfe(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function vfe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function yfe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Zq(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const xfe=/^(\d+)(th|st|nd|rd)?/i,bfe=/\d+/i,wfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_fe={any:[/^b/i,/^(a|c)/i]},Sfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jfe={any:[/1/i,/2/i,/3/i,/4/i]},Afe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Efe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kfe={ordinalNumber:Zq({matchPattern:xfe,parsePattern:bfe,valueCallback:t=>parseInt(t,10)}),era:Vo({matchPatterns:wfe,defaultMatchWidth:"wide",parsePatterns:_fe,defaultParseWidth:"any"}),quarter:Vo({matchPatterns:Sfe,defaultMatchWidth:"wide",parsePatterns:jfe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vo({matchPatterns:Afe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any"}),day:Vo({matchPatterns:Cfe,defaultMatchWidth:"wide",parsePatterns:Nfe,defaultParseWidth:"any"}),dayPeriod:Vo({matchPatterns:Pfe,defaultMatchWidth:"any",parsePatterns:Tfe,defaultParseWidth:"any"})},mR={code:"en-US",formatDistance:rfe,formatLong:afe,formatRelative:lfe,localize:gfe,match:kfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ofe(t,e){const r=xt(t,e==null?void 0:e.in);return Ko(r,Yq(r))+1}function Qq(t,e){const r=xt(t,e==null?void 0:e.in),n=+Vf(r)-+Uhe(r);return Math.round(n/hR)+1}function Jq(t,e){var d,h,f,p;const r=xt(t,e==null?void 0:e.in),n=r.getFullYear(),i=ty(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=un((e==null?void 0:e.in)||t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=cl(a,e),c=un((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=cl(c,e);return+r>=+o?n+1:+r>=+u?n:n-1}function Mfe(t,e){var o,c,u,d;const r=ty(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Jq(t,e),s=un((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),cl(s,e)}function e9(t,e){const r=xt(t,e==null?void 0:e.in),n=+cl(r,e)-+Mfe(r,e);return Math.round(n/hR)+1}function Tt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Qc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Tt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Tt(r+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Tt(i,e.length)}},Dp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XF={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Qc.y(t,e)},Y:function(t,e,r,n){const i=Jq(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Tt(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Tt(s,e.length)},R:function(t,e){const r=Kq(t);return Tt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Tt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Tt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Tt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Qc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Tt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=e9(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},I:function(t,e,r){const n=Qq(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Tt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Qc.d(t,e)},D:function(t,e,r){const n=Ofe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Tt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Tt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Dp.noon:n===0?i=Dp.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Dp.evening:n>=12?i=Dp.afternoon:n>=4?i=Dp.morning:i=Dp.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Qc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Qc.s(t,e)},S:function(t,e){return Qc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return QF(n);case"XXXX":case"XX":return Jd(n);case"XXXXX":case"XXX":default:return Jd(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return QF(n);case"xxxx":case"xx":return Jd(n);case"xxxxx":case"xxx":default:return Jd(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZF(n,":");case"OOOO":default:return"GMT"+Jd(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZF(n,":");case"zzzz":default:return"GMT"+Jd(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Tt(n,e.length)},T:function(t,e,r){return Tt(+t,e.length)}};function ZF(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Tt(s,2)}function QF(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):Jd(t,e)}function Jd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Tt(Math.trunc(n/60),2),s=Tt(n%60,2);return r+i+e+s}const JF=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},t9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Dfe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return JF(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",JF(n,e)).replace("{{time}}",t9(i,e))},Rfe={p:t9,P:Dfe},Ife=/^D+$/,$fe=/^Y+$/,Lfe=["D","DD","YY","YYYY"];function Ffe(t){return Ife.test(t)}function zfe(t){return $fe.test(t)}function Bfe(t,e,r){const n=Ufe(t,e,r);if(console.warn(n),Lfe.includes(t))throw new RangeError(n)}function Ufe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vfe=/^'([^]*?)'?$/,qfe=/''/g,Gfe=/[a-zA-Z]/;function $r(t,e,r){var d,h,f,p,v,g,x,y;const n=ty(),i=(r==null?void 0:r.locale)??n.locale??mR,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,o=xt(t,r==null?void 0:r.in);if(!Ghe(o))throw new RangeError("Invalid time value");let c=e.match(Wfe).map(b=>{const w=b[0];if(w==="p"||w==="P"){const S=Rfe[w];return S(b,i.formatLong)}return b}).join("").match(Hfe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Kfe(b)};if(XF[w])return{isToken:!0,value:b};if(w.match(Gfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&zfe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ffe(w))&&Bfe(w,e,String(t));const S=XF[w[0]];return S(o,w,i.localize,u)}).join("")}function Kfe(t){const e=t.match(Vfe);return e?e[1].replace(qfe,"'"):t}function Yfe(t,e,r){const n=ty(),i=(r==null?void 0:r.locale)??n.locale??mR,s=2520,a=H1(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a}),[c,u]=$d(r==null?void 0:r.in,...a>0?[e,t]:[t,e]),d=efe(u,c),h=(pv(u)-pv(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<KF){const v=Math.round(f/60);return i.formatDistance("aboutXHours",v,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<X_){const v=Math.round(f/KF);return i.formatDistance("xDays",v,o)}else if(f<X_*2)return p=Math.round(f/X_),i.formatDistance("aboutXMonths",p,o)}if(p=Jhe(u,c),p<12){const v=Math.round(f/X_);return i.formatDistance("xMonths",v,o)}else{const v=p%12,g=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",g,o):v<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function XE(t,e){return Yfe(t,qhe(t),e)}function Xfe(t,e){const r=xt(t,e==null?void 0:e.in),n=r.getFullYear(),i=r.getMonth(),s=un(r,0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function Zfe(t){return Math.trunc(+xt(t)/1e3)}function Qfe(t,e){const r=xt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),xt(r,e==null?void 0:e.in)}function Jfe(t,e){const r=xt(t,e==null?void 0:e.in);return Khe(Qfe(r,e),Ki(r,e),e)+1}function gk(t,e){return+xt(t)>+xt(e)}function r9(t,e){return+xt(t)<+xt(e)}function gR(t,e,r){const[n,i]=$d(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function epe(t,e,r){const[n,i]=$d(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()}function rP(t,e,r){return gi(t,-e,r)}function nP(t,e,r){const n=xt(t,r==null?void 0:r.in),i=n.getFullYear(),s=n.getDate(),a=un(t,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const o=Xfe(a);return n.setMonth(e,Math.min(s,o)),n}function e4(t,e,r){const n=xt(t,r==null?void 0:r.in);return isNaN(+n)?un(t,NaN):(n.setFullYear(e),n)}const tpe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},rpe=(t,e,r)=>{let n;const i=tpe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},npe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},ipe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},spe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ape={date:jm({formats:npe,defaultWidth:"full"}),time:jm({formats:ipe,defaultWidth:"full"}),dateTime:jm({formats:spe,defaultWidth:"full"})},ope={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},lpe=(t,e,r,n)=>{const i=ope[t];return typeof i=="function"?i(e):i},cpe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},upe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},dpe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},hpe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},fpe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},ppe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},mpe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},gpe={ordinalNumber:mpe,era:Wo({values:cpe,defaultWidth:"wide"}),quarter:Wo({values:upe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wo({values:dpe,defaultWidth:"wide"}),day:Wo({values:hpe,defaultWidth:"wide"}),dayPeriod:Wo({values:fpe,defaultWidth:"wide",formattingValues:ppe,defaultFormattingWidth:"wide"})},vpe=/^(\d+)[ºªo]?/i,ype=/\d+/i,xpe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},bpe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},wpe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},_pe={any:[/1/i,/2/i,/3/i,/4/i]},Spe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},jpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Ape={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Epe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Cpe={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Npe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Ppe={ordinalNumber:Zq({matchPattern:vpe,parsePattern:ype,valueCallback:t=>parseInt(t,10)}),era:Vo({matchPatterns:xpe,defaultMatchWidth:"wide",parsePatterns:bpe,defaultParseWidth:"any"}),quarter:Vo({matchPatterns:wpe,defaultMatchWidth:"wide",parsePatterns:_pe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vo({matchPatterns:Spe,defaultMatchWidth:"wide",parsePatterns:jpe,defaultParseWidth:"any"}),day:Vo({matchPatterns:Ape,defaultMatchWidth:"wide",parsePatterns:Epe,defaultParseWidth:"any"}),dayPeriod:Vo({matchPatterns:Cpe,defaultMatchWidth:"any",parsePatterns:Npe,defaultParseWidth:"any"})},pc={code:"pt-BR",formatDistance:rpe,formatLong:ape,formatRelative:lpe,localize:gpe,match:Ppe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Tpe=(t,e)=>{switch(t){case"message":return"Nova Mensagem";case"appointment":return"Agendamento";case"training":return"Treinamento";case"nutrition":return"Nutrição";default:return"Notificação"}},kpe=t=>{switch(t){case"message":return l.jsx(F1,{className:"w-4 h-4"});case"appointment":return l.jsx(al,{className:"w-4 h-4"});case"training":return l.jsx(ab,{className:"w-4 h-4"});case"nutrition":return l.jsx(vE,{className:"w-4 h-4"});default:return l.jsx(yd,{className:"w-4 h-4"})}},t4=()=>{const{permission:t,settings:e,isLoading:r,requestPermission:n,saveSettings:i,sendTestNotification:s}=$he(),{isCapacitorAvailable:a,hasPermission:o,requestPermissions:c,sendTestNotification:u}=Lhe(),{notifications:d,unreadCount:h,markNotificationAsRead:f}=KE(),[p,v]=j.useState(!1),[g,x]=j.useState();j.useEffect(()=>{d.length>0&&x(new Date().toISOString())},[d]);const y=d.map(_=>({id:_.id,title:Tpe(_.type,_.data||{}),message:_.message,type:_.type,timestamp:_.created_at,read:_.read_at!==null,data:_.data||{}})),b=async _=>{var A;switch(_.read||await f(_.id),_.type){case"message":window.location.href=`/communication?conversation=${((A=_.data)==null?void 0:A.conversationId)||""}`;break;case"appointment":window.location.href="/athlete-dashboard?section=schedule";break;case"training":window.location.href="/athlete-dashboard?section=training";break;case"nutrition":window.location.href="/athlete-dashboard?section=nutrition";break}},w=async _=>{_&&!t.granted&&!await n()||await i({webPush:_})},S=async _=>{_&&!o&&!await c()||await i({mobile:_})};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fhe,{isConnected:!0,lastUpdate:g,className:"mr-2"}),l.jsxs(cn,{children:[l.jsx(mp,{asChild:!0,children:l.jsxs(te,{variant:"ghost",size:"sm",className:"relative",children:[l.jsx(yd,{className:"w-4 h-4"}),h>0&&l.jsx(it,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs flex items-center justify-center",children:h>99?"99+":h})]})}),l.jsxs(qr,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center gap-2",children:[l.jsx(yd,{className:"w-5 h-5"}),"Notificações",h>0&&l.jsxs(it,{variant:"secondary",children:[h," não lidas"]})]}),l.jsx(ll,{children:"Suas notificações e configurações"})]}),l.jsxs(ao,{defaultValue:"notifications",className:"flex-1 overflow-hidden",children:[l.jsxs(da,{className:"grid w-full grid-cols-2",children:[l.jsx(st,{value:"notifications",children:"Notificações"}),l.jsxs(st,{value:"settings",children:[l.jsx(Ww,{className:"w-4 h-4 mr-1"}),"Configurações"]})]}),l.jsx(at,{value:"notifications",className:"overflow-y-auto max-h-96 mt-4",children:y.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(yd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhuma notificação"})]}):l.jsx("div",{className:"space-y-2",children:y.map(_=>l.jsx(he,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${_.read?"":"border-primary/50 bg-primary/5"}`,onClick:()=>b(_),children:l.jsx(Ie,{className:"p-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:kpe(_.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"text-sm font-medium truncate",children:_.title}),!_.read&&l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"})]}),l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:_.message}),l.jsx("span",{className:"text-xs text-muted-foreground",children:XE(new Date(_.timestamp),{addSuffix:!0,locale:pc})})]})]})})},_.id))})}),l.jsxs(at,{value:"settings",className:"mt-4 space-y-4",children:[l.jsxs(he,{children:[l.jsxs(Be,{className:"pb-3",children:[l.jsx(Le,{className:"text-sm",children:"Plataformas"}),l.jsx(Ye,{children:"Escolha onde receber notificações"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(G,{className:"text-sm font-medium",children:"Notificações Web"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Receba notificações no navegador"}),t.denied&&l.jsx("p",{className:"text-xs text-destructive",children:"Permissão negada - verifique as configurações"})]}),l.jsx(Lr,{checked:e.webPush&&t.granted,onCheckedChange:w,disabled:r||t.denied})]}),a&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(G,{className:"text-sm font-medium",children:"Notificações Móvel"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Receba notificações no app móvel"})]}),l.jsx(Lr,{checked:e.mobile&&o,onCheckedChange:S,disabled:r})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(G,{className:"text-sm font-medium",children:"Email"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Receba notificações por email"})]}),l.jsx(Lr,{checked:e.email,onCheckedChange:_=>i({email:_}),disabled:r})]})]})]}),l.jsxs(he,{children:[l.jsxs(Be,{className:"pb-3",children:[l.jsx(Le,{className:"text-sm",children:"Tipos de Notificação"}),l.jsx(Ye,{children:"Escolha quais notificações receber"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(G,{className:"text-sm",children:"Mensagens"}),l.jsx(Lr,{checked:e.messages,onCheckedChange:_=>i({messages:_}),disabled:r})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(G,{className:"text-sm",children:"Agendamentos"}),l.jsx(Lr,{checked:e.appointments,onCheckedChange:_=>i({appointments:_}),disabled:r})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(G,{className:"text-sm",children:"Treinamentos"}),l.jsx(Lr,{checked:e.training,onCheckedChange:_=>i({training:_}),disabled:r})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(G,{className:"text-sm",children:"Nutrição"}),l.jsx(Lr,{checked:e.nutrition,onCheckedChange:_=>i({nutrition:_}),disabled:r})]})]})]}),a&&l.jsxs(he,{children:[l.jsxs(Be,{className:"pb-3",children:[l.jsx(Le,{className:"text-sm",children:"Som e Vibração"}),l.jsx(Ye,{children:"Configurações para dispositivos móveis"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(G,{className:"text-sm",children:"Som"}),l.jsx(Lr,{checked:e.soundEnabled,onCheckedChange:_=>i({soundEnabled:_}),disabled:r})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(G,{className:"text-sm",children:"Vibração"}),l.jsx(Lr,{checked:e.vibrationEnabled,onCheckedChange:_=>i({vibrationEnabled:_}),disabled:r})]})]})]}),l.jsxs(he,{children:[l.jsxs(Be,{className:"pb-3",children:[l.jsx(Le,{className:"text-sm",children:"Testar Notificações"}),l.jsx(Ye,{children:"Envie notificações de teste"})]}),l.jsxs(Ie,{className:"space-y-2",children:[l.jsx(te,{variant:"outline",size:"sm",onClick:s,disabled:!t.granted,className:"w-full",children:"Teste Web"}),a&&l.jsx(te,{variant:"outline",size:"sm",onClick:u,disabled:!o,className:"w-full",children:"Teste Móvel"})]})]})]})]})]})]})]})},Ope=()=>{var h,f;const[t,e]=j.useState(!1),{user:r,profile:n,signOut:i}=tr(),s=Rd(),a=dp(),o=async()=>{await i(),s("/")},c=[{label:"Para Atletas",href:"#atletas",icon:Gt},{label:"Para Profissionais",href:"#profissionais",icon:sn},{label:"Planos",href:"#planos",icon:a8}],u=r&&(n==null?void 0:n.user_type)==="athlete"?[{label:"Dashboard",href:"/athlete-dashboard"},{label:"Comunicação",href:"/communication"},{label:"Configurações",href:"/athlete-settings"}]:r&&(n==null?void 0:n.user_type)==="professional"?[{label:"Dashboard",href:"/professional-dashboard"},{label:"Comunicação",href:"/communication"},{label:"Configurações",href:"/settings"}]:[],d=r?u:c;return l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(hr,{to:"/",className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-hero rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-6 h-6 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold bg-gradient-hero bg-clip-text text-transparent",children:"ProSport"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"B2C Platform"})]})]}),l.jsx("div",{className:"hidden md:flex items-center gap-8",children:d.map(p=>r?l.jsx(hr,{to:p.href,className:`text-foreground hover:text-primary transition-colors duration-200 font-medium ${a.pathname===p.href?"text-primary":""}`,children:p.label},p.label):l.jsx("a",{href:p.href,className:"text-foreground hover:text-primary transition-colors duration-200 font-medium",children:p.label},p.label))}),l.jsx("div",{className:"hidden md:flex items-center gap-4",children:r?l.jsxs(l.Fragment,{children:[l.jsx(t4,{}),l.jsxs(fq,{children:[l.jsx(pq,{asChild:!0,children:l.jsx(te,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:l.jsx(ta,{className:"h-8 w-8",children:l.jsx(ra,{children:((h=n==null?void 0:n.full_name)==null?void 0:h.charAt(0))||((f=r.email)==null?void 0:f.charAt(0))||"U"})})})}),l.jsxs(lR,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx(Df,{asChild:!0,children:l.jsxs(hr,{to:"/profile",className:"cursor-pointer",children:[l.jsx(Xs,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Perfil"})]})}),l.jsx(Df,{asChild:!0,children:l.jsxs(hr,{to:"/settings",className:"cursor-pointer",children:[l.jsx(Ww,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Configurações"})]})}),l.jsxs(Df,{onClick:o,className:"cursor-pointer",children:[l.jsx(YS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Sair"})]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(te,{variant:"ghost",asChild:!0,children:l.jsx(hr,{to:"/login",children:"Entrar"})}),l.jsx(te,{variant:"sport",asChild:!0,children:l.jsx(hr,{to:"/register",children:"Começar Agora"})})]})}),l.jsxs(fle,{open:t,onOpenChange:e,children:[l.jsx(ple,{asChild:!0,className:"md:hidden",children:l.jsx(te,{variant:"ghost",size:"icon",children:l.jsx(Ore,{className:"w-6 h-6"})})}),l.jsx(UW,{side:"right",className:"w-[300px] sm:w-[350px]",children:l.jsxs("div",{className:"flex flex-col gap-6 mt-8",children:[d.map(p=>r?l.jsx(hr,{to:p.href,className:"flex items-center gap-3 text-foreground hover:text-primary transition-colors duration-200 font-medium text-lg",onClick:()=>e(!1),children:p.label},p.label):l.jsxs("a",{href:p.href,className:"flex items-center gap-3 text-foreground hover:text-primary transition-colors duration-200 font-medium text-lg",onClick:()=>e(!1),children:["icon"in p&&p.icon&&z.createElement(p.icon,{className:"w-5 h-5"}),p.label]},p.label)),l.jsx("div",{className:"flex flex-col gap-3 mt-8",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-4 py-2",children:l.jsx(t4,{})}),l.jsxs(te,{variant:"ghost",className:"justify-start",onClick:o,children:[l.jsx(YS,{className:"mr-2 h-4 w-4"}),"Sair"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(te,{variant:"ghost",className:"justify-start",asChild:!0,children:l.jsx(hr,{to:"/login",children:"Entrar"})}),l.jsx(te,{variant:"sport",className:"justify-start",asChild:!0,children:l.jsx(hr,{to:"/register",children:"Começar Agora"})})]})})]})})]})]})})})},Mpe="/assets/hero-sports-app-CsVF7zX0.jpg",Dpe=()=>l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-subtle",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:Mpe,alt:"Athletes training with digital health monitoring",className:"w-full h-full object-cover opacity-10"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-hero opacity-5"})]}),l.jsx("div",{className:"relative z-10 container mx-auto px-6 text-center",children:l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium",children:[l.jsx(av,{className:"w-4 h-4"}),"Plataforma inspirada na Pro Soccer App"]}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Transforme sua",l.jsx("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:" Performance"}),l.jsx("br",{}),"Esportiva"]}),l.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"A primeira plataforma B2C que conecta atletas amadores e profissionais de saúde, oferecendo gestão completa de performance, saúde e evolução esportiva."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx(te,{variant:"hero",size:"lg",className:"text-lg px-8 py-6 animate-pulse-glow",asChild:!0,children:l.jsxs(hr,{to:"/register",children:["Começar como Atleta",l.jsx(wre,{className:"w-5 h-5"})]})}),l.jsx(te,{variant:"sport",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:l.jsxs(hr,{to:"/register?tab=professional",children:["Sou Profissional",l.jsx(sn,{className:"w-5 h-5"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-16 animate-slide-up",children:[l.jsx(he,{className:"p-6 bg-background/80 backdrop-blur-sm shadow-card-sport hover:shadow-sport transition-all duration-300 hover:-translate-y-2",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-performance rounded-lg flex items-center justify-center mx-auto",children:l.jsx(_i,{className:"w-6 h-6 text-secondary-foreground"})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Controle Total"}),l.jsx("p",{className:"text-muted-foreground",children:"Monitore sono, alimentação, treinos e recuperação em uma única plataforma"})]})}),l.jsx(he,{className:"p-6 bg-background/80 backdrop-blur-sm shadow-card-sport hover:shadow-performance transition-all duration-300 hover:-translate-y-2",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-hero rounded-lg flex items-center justify-center mx-auto",children:l.jsx(sn,{className:"w-6 h-6 text-primary-foreground"})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Profissionais Conectados"}),l.jsx("p",{className:"text-muted-foreground",children:"Trabalhe com nutricionistas, fisioterapeutas e treinadores especializados"})]})}),l.jsx(he,{className:"p-6 bg-background/80 backdrop-blur-sm shadow-card-sport hover:shadow-sport transition-all duration-300 hover:-translate-y-2",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-energy rounded-lg flex items-center justify-center mx-auto",children:l.jsx(lb,{className:"w-6 h-6 text-accent-foreground"})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Tecnologia Avançada"}),l.jsx("p",{className:"text-muted-foreground",children:"Integração com wearables e relatórios inteligentes para sua evolução"})]})})]})]})})]}),Rpe=()=>{const t=[{icon:Gt,title:"Controle de Performance",description:"Monitore treinos, recuperação e evolução em tempo real",gradient:"gradient-performance"},{icon:As,title:"Saúde Integrada",description:"Acompanhe sono, alimentação e indicadores vitais",gradient:"gradient-hero"},{icon:lb,title:"Wearables Conectados",description:"Sincronize dados de smartwatches e sensores automaticamente",gradient:"gradient-energy"}],e=[{icon:sn,title:"Gestão de Atletas",description:"Painel completo para acompanhar múltiplos atletas",gradient:"gradient-hero"},{icon:_re,title:"Relatórios Avançados",description:"Análises detalhadas e exportação personalizada",gradient:"gradient-performance"},{icon:wD,title:"IA Preditiva",description:"Insights automáticos para otimizar prescrições",gradient:"gradient-energy"}],r=[{icon:av,title:"Dados Unificados",description:"Prontuário único e portátil entre profissionais"},{icon:Ja,title:"Tempo Real",description:"Notificações inteligentes e sincronização instantânea"},{icon:lv,title:"Foco na Performance",description:"Metodologia validada em 50% dos clubes da Série A"},{icon:cv,title:"Escalabilidade",description:"Infraestrutura robusta para crescimento nacional"}];return l.jsx("section",{className:"py-20 bg-background",children:l.jsxs("div",{className:"container mx-auto px-6",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[l.jsx(it,{variant:"outline",className:"mb-4 text-primary border-primary",children:"Funcionalidades Principais"}),l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Solução Completa para",l.jsx("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:" Atletas e Profissionais"})]}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"A primeira plataforma que une performance esportiva, gestão de saúde e colaboração profissional em um só lugar."})]}),l.jsxs("div",{className:"mb-20",id:"atletas",children:[l.jsxs("h3",{className:"text-3xl font-bold text-center mb-12",children:[l.jsx(Gt,{className:"w-8 h-8 inline-block mr-3 text-primary"}),"Para Atletas"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((n,i)=>{const s=n.icon;return l.jsxs(he,{className:"p-8 hover:shadow-sport transition-all duration-300 hover:-translate-y-2 group",children:[l.jsx("div",{className:`w-16 h-16 bg-${n.gradient} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:l.jsx(s,{className:"w-8 h-8 text-white"})}),l.jsx("h4",{className:"text-xl font-semibold mb-4",children:n.title}),l.jsx("p",{className:"text-muted-foreground mb-6",children:n.description}),l.jsx(te,{variant:"outline",className:"w-full group-hover:border-primary group-hover:text-primary",children:"Saiba Mais"})]},i)})})]}),l.jsxs("div",{className:"mb-20",id:"profissionais",children:[l.jsxs("h3",{className:"text-3xl font-bold text-center mb-12",children:[l.jsx(sn,{className:"w-8 h-8 inline-block mr-3 text-secondary"}),"Para Profissionais"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((n,i)=>{const s=n.icon;return l.jsxs(he,{className:"p-8 hover:shadow-performance transition-all duration-300 hover:-translate-y-2 group",children:[l.jsx("div",{className:`w-16 h-16 bg-${n.gradient} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:l.jsx(s,{className:"w-8 h-8 text-white"})}),l.jsx("h4",{className:"text-xl font-semibold mb-4",children:n.title}),l.jsx("p",{className:"text-muted-foreground mb-6",children:n.description}),l.jsx(te,{variant:"outline",className:"w-full group-hover:border-secondary group-hover:text-secondary",children:"Explorar"})]},i)})})]}),l.jsxs("div",{className:"mb-16",children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-12",children:"Nossos Diferenciais"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((n,i)=>{const s=n.icon;return l.jsxs(he,{className:"p-6 text-center hover:shadow-card-sport transition-shadow duration-300",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(s,{className:"w-6 h-6 text-primary"})}),l.jsx("h4",{className:"font-semibold mb-2",children:n.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]},i)})})]}),l.jsxs("div",{className:"text-center bg-gradient-subtle rounded-2xl p-12",children:[l.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Pronto para Transformar sua Performance?"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Junte-se aos milhares de atletas e profissionais que já confiam na nossa plataforma."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(te,{variant:"hero",size:"lg",className:"px-8",asChild:!0,children:l.jsx(hr,{to:"/register",children:"Começar como Atleta"})}),l.jsx(te,{variant:"performance",size:"lg",className:"px-8",asChild:!0,children:l.jsx(hr,{to:"/register?tab=professional",children:"Sou Profissional"})})]})]})]})})},Ipe=()=>{const t=[{name:"Freemium",price:"R$ 0",period:"/mês",description:"Perfeito para começar sua jornada",features:["Dashboard básico de performance","Input manual de dados","Histórico de 30 dias","1 profissional vinculado","Relatórios básicos"],buttonText:"Começar Grátis",variant:"outline",popular:!1},{name:"Premium",price:"R$ 50",period:"/mês",description:"Funcionalidades completas com profissional",features:["Dashboard completo e avançado","Integração com wearables","Histórico completo","Profissionais ilimitados","Relatórios personalizados","Notificações inteligentes","Análises preditivas","Suporte prioritário"],buttonText:"Escolher Premium",variant:"hero",popular:!0}],e=[{name:"Start",price:"R$ 49,90",period:"/mês",description:"Ideal para profissionais iniciantes",features:["Até 5 atletas","Painel de gestão básico","Relatórios padrão","Prescrições e planos","Suporte via chat"],buttonText:"Começar Start",variant:"outline",icon:sn,limit:"5 atletas"},{name:"Pro",price:"R$ 199",period:"/mês",description:"Para profissionais estabelecidos",features:["Até 25 atletas","Dashboard avançado","Relatórios personalizados","Análises comparativas","Notificações inteligentes","API de integração","Suporte prioritário"],buttonText:"Escolher Pro",variant:"performance",icon:a8,limit:"25 atletas",popular:!0},{name:"Elite",price:"R$ 499",period:"/mês",description:"Para clínicas e assessorias",features:["Atletas ilimitados","Gestão de equipe","Branding customizado","Relatórios white-label","IA preditiva completa","Integrações avançadas","Account manager dedicado","Treinamentos exclusivos"],buttonText:"Escolher Elite",variant:"energy",icon:Cre,limit:"Ilimitado"}];return l.jsx("section",{className:"py-20 bg-gradient-subtle",id:"planos",children:l.jsxs("div",{className:"container mx-auto px-6",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[l.jsx(it,{variant:"outline",className:"mb-4 text-primary border-primary",children:"Planos e Preços"}),l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Escolha o Plano",l.jsx("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:" Perfeito"})]}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Soluções flexíveis para atletas e profissionais, desde o primeiro passo até o crescimento completo."})]}),l.jsxs("div",{className:"mb-20",children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-12 text-primary",children:"Planos para Atletas"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:t.map(r=>l.jsxs(he,{className:`p-8 relative ${r.popular?"border-2 border-primary shadow-sport":""} hover:shadow-lg transition-all duration-300`,children:[r.popular&&l.jsx(it,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-hero text-primary-foreground",children:"Mais Popular"}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h4",{className:"text-2xl font-bold mb-2",children:r.name}),l.jsxs("div",{className:"mb-4",children:[l.jsx("span",{className:"text-4xl font-bold",children:r.price}),l.jsx("span",{className:"text-muted-foreground",children:r.period})]}),l.jsx("p",{className:"text-muted-foreground",children:r.description})]}),l.jsx("div",{className:"space-y-3 mb-8",children:r.features.map((n,i)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-5 h-5 bg-secondary rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(rv,{className:"w-3 h-3 text-secondary-foreground"})}),l.jsx("span",{className:"text-sm",children:n})]},i))}),l.jsx(te,{variant:r.variant,className:"w-full",size:"lg",children:r.buttonText})]},r.name))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-12 text-secondary",children:"Planos para Profissionais"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(r=>{const n=r.icon;return l.jsxs(he,{className:`p-8 relative ${r.popular?"border-2 border-secondary shadow-performance scale-105":""} hover:shadow-lg transition-all duration-300`,children:[r.popular&&l.jsx(it,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-performance text-secondary-foreground",children:"Recomendado"}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(n,{className:"w-8 h-8 text-primary"})}),l.jsx("h4",{className:"text-2xl font-bold mb-2",children:r.name}),l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-3xl font-bold",children:r.price}),l.jsx("span",{className:"text-muted-foreground",children:r.period})]}),l.jsx(it,{variant:"outline",className:"mb-4",children:r.limit}),l.jsx("p",{className:"text-muted-foreground text-sm",children:r.description})]}),l.jsx("div",{className:"space-y-3 mb-8",children:r.features.map((i,s)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-5 h-5 bg-secondary rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(rv,{className:"w-3 h-3 text-secondary-foreground"})}),l.jsx("span",{className:"text-sm",children:i})]},s))}),l.jsx(te,{variant:r.variant,className:"w-full",size:"lg",children:r.buttonText})]},r.name)})})]}),l.jsxs("div",{className:"text-center mt-16 p-8 bg-background rounded-2xl shadow-card-sport",children:[l.jsx("h4",{className:"text-2xl font-bold mb-4",children:"Baseado na Confiança da Pro Soccer"}),l.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Nossa plataforma B2B já atende 50% dos clubes da Série A do futebol brasileiro. Agora trazemos essa expertise para o mercado B2C."}),l.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm text-muted-foreground",children:[l.jsx("span",{children:"✓ Dados seguros e protegidos"}),l.jsx("span",{children:"✓ Metodologia validada"}),l.jsx("span",{children:"✓ Suporte especializado"})]})]})]})})},$pe=()=>{const t=[{title:"Produto",links:[{label:"Para Atletas",href:"#atletas"},{label:"Para Profissionais",href:"#profissionais"},{label:"Planos e Preços",href:"#planos"},{label:"Integrações",href:"#"}]},{title:"Empresa",links:[{label:"Sobre Nós",href:"#"},{label:"Pro Soccer App",href:"#"},{label:"Carreiras",href:"#"},{label:"Imprensa",href:"#"}]},{title:"Suporte",links:[{label:"Central de Ajuda",href:"#"},{label:"Documentação",href:"#"},{label:"Status",href:"#"},{label:"Contato",href:"#"}]},{title:"Legal",links:[{label:"Privacidade",href:"#"},{label:"Termos de Uso",href:"#"},{label:"LGPD",href:"#"},{label:"Cookies",href:"#"}]}],e=[{icon:Tre,href:"#",label:"Instagram"},{icon:kre,href:"#",label:"LinkedIn"},{icon:$re,href:"#",label:"Twitter"}];return l.jsx("footer",{className:"bg-foreground text-background",children:l.jsxs("div",{className:"container mx-auto px-6",children:[l.jsx("div",{className:"py-16",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[l.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-hero rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-7 h-7 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold bg-gradient-hero bg-clip-text text-transparent",children:"ProSport"}),l.jsx("p",{className:"text-sm text-background/70",children:"B2C Platform"})]})]}),l.jsx("p",{className:"text-background/80 leading-relaxed",children:"A primeira plataforma B2C que conecta atletas e profissionais de saúde, oferecendo gestão completa de performance esportiva baseada na expertise da Pro Soccer App."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 text-background/80",children:[l.jsx(UT,{className:"w-5 h-5"}),l.jsx("span",{children:"contato@prosport.com.br"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-background/80",children:[l.jsx(Mre,{className:"w-5 h-5"}),l.jsx("span",{children:"+55 (11) 9999-0000"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-background/80",children:[l.jsx(XS,{className:"w-5 h-5"}),l.jsx("span",{children:"São Paulo, Brasil"})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:e.map(r=>{const n=r.icon;return l.jsx(te,{variant:"ghost",size:"icon",className:"text-background hover:text-primary hover:bg-background/10",asChild:!0,children:l.jsx("a",{href:r.href,"aria-label":r.label,children:l.jsx(n,{className:"w-5 h-5"})})},r.label)})})]}),l.jsx("div",{className:"lg:col-span-8",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.map(r=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-background",children:r.title}),l.jsx("ul",{className:"space-y-2",children:r.links.map(n=>l.jsx("li",{children:l.jsx("a",{href:n.href,className:"text-background/70 hover:text-primary transition-colors duration-200",children:n.label})},n.label))})]},r.title))})})]})}),l.jsx("div",{className:"border-t border-background/20 py-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsx("div",{className:"text-background/70 text-sm",children:"© 2024 ProSport B2C Platform. Todos os direitos reservados."}),l.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[l.jsx("span",{className:"text-background/70",children:"Inspirado na"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 bg-gradient-performance rounded flex items-center justify-center",children:l.jsx(Gt,{className:"w-4 h-4 text-secondary-foreground"})}),l.jsx("span",{className:"font-semibold text-background",children:"Pro Soccer App"})]})]})]})})]})})},Lpe=()=>l.jsxs("div",{className:"min-h-screen",children:[l.jsx(Ope,{}),l.jsx(Dpe,{}),l.jsx(Rpe,{}),l.jsx(Ipe,{}),l.jsx($pe,{})]}),se=j.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));se.displayName="Input";var Jw=t=>t.type==="checkbox",ph=t=>t instanceof Date,vi=t=>t==null;const n9=t=>typeof t=="object";var Cr=t=>!vi(t)&&!Array.isArray(t)&&n9(t)&&!ph(t),i9=t=>Cr(t)&&t.target?Jw(t.target)?t.target.checked:t.target.value:t,Fpe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,s9=(t,e)=>t.has(Fpe(e)),zpe=t=>{const e=t.constructor&&t.constructor.prototype;return Cr(e)&&e.hasOwnProperty("isPrototypeOf")},vR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(vR&&(t instanceof Blob||n))&&(r||Cr(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!zpe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Qr(t[i]));else return t;return e}var ZE=t=>/^\w*$/.test(t),Ar=t=>t===void 0,yR=t=>Array.isArray(t)?t.filter(Boolean):[],xR=t=>yR(t.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(t,e,r)=>{if(!e||!Cr(t))return r;const n=(ZE(e)?[e]:xR(e)).reduce((i,s)=>vi(i)?i:i[s],t);return Ar(n)||n===t?Ar(t[e])?r:t[e]:n},vs=t=>typeof t=="boolean",Pt=(t,e,r)=>{let n=-1;const i=ZE(e)?[e]:xR(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let c=r;if(n!==a){const u=t[o];c=Cr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const cj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a9=z.createContext(null);a9.displayName="HookFormContext";const bR=()=>z.useContext(a9);var o9=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Va.all&&(e._proxyFormState[a]=!n||Va.all),r&&(r[a]=!0),t[a]}});return i};const wR=typeof window<"u"?z.useLayoutEffect:z.useEffect;function Bpe(t){const e=bR(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=z.useState(r._formState),c=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wR(()=>r._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),z.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),z.useMemo(()=>o9(a,r,c.current,!1),[a,r])}var Yo=t=>typeof t=="string",l9=(t,e,r,n,i)=>Yo(t)?(n&&e.watch.add(t),be(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),be(r,s))):(n&&(e.watchAll=!0),r),vk=t=>vi(t)||!n9(t);function mc(t,e,r=new WeakSet){if(vk(t)||vk(e))return t===e;if(ph(t)&&ph(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ph(a)&&ph(o)||Cr(a)&&Cr(o)||Array.isArray(a)&&Array.isArray(o)?!mc(a,o,r):a!==o)return!1}}return!0}function Upe(t){const e=bR(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},c=z.useRef(i),u=z.useRef(o),d=z.useRef(void 0);u.current=o;const h=z.useMemo(()=>r._getWatch(n,c.current),[r,n]),[f,p]=z.useState(u.current?u.current(h):h);return wR(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:v=>{if(!s){const g=l9(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const x=u.current(g);mc(x,d.current)||(p(x),d.current=x)}else p(g)}}}),[r,s,n,a]),z.useEffect(()=>r._removeUnmounted()),f}function Hpe(t){const e=bR(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a}=t,o=s9(i._names.array,r),c=z.useMemo(()=>be(i._formValues,r,be(i._defaultValues,r,a)),[i,r,a]),u=Upe({control:i,name:r,defaultValue:c,exact:!0}),d=Bpe({control:i,name:r,exact:!0}),h=z.useRef(t),f=z.useRef(i.register(r,{...t.rules,value:u,...vs(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const p=z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(d.validatingFields,r)},error:{enumerable:!0,get:()=>be(d.errors,r)}}),[d,r]),v=z.useCallback(b=>f.current.onChange({target:{value:i9(b),name:r},type:cj.CHANGE}),[r]),g=z.useCallback(()=>f.current.onBlur({target:{value:be(i._formValues,r),name:r},type:cj.BLUR}),[r,i._formValues]),x=z.useCallback(b=>{const w=be(i._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:S=>b.setCustomValidity(S),reportValidity:()=>b.reportValidity()})},[i._fields,r]),y=z.useMemo(()=>({name:r,value:u,...vs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:g,ref:x}),[r,n,d.disabled,v,g,x,u]);return z.useEffect(()=>{const b=i._options.shouldUnregister||s;i.register(r,{...h.current.rules,...vs(h.current.disabled)?{disabled:h.current.disabled}:{}});const w=(S,_)=>{const A=be(i._fields,S);A&&A._f&&(A._f.mount=_)};if(w(r,!0),b){const S=Qr(be(i._options.defaultValues,r));Pt(i._defaultValues,r,S),Ar(be(i._formValues,r))&&Pt(i._formValues,r,S)}return!o&&i.register(r),()=>{(o?b&&!i._state.action:b)?i.unregister(r):w(r,!1)}},[r,i,o,s]),z.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),z.useMemo(()=>({field:y,formState:d,fieldState:p}),[y,d,p])}const Py=t=>t.render(Hpe(t));var _R=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Rx=t=>Array.isArray(t)?t:[t],r4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Ii=t=>Cr(t)&&!Object.keys(t).length,SR=t=>t.type==="file",qa=t=>typeof t=="function",uj=t=>{if(!vR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},c9=t=>t.type==="select-multiple",jR=t=>t.type==="radio",Wpe=t=>jR(t)||Jw(t),iP=t=>uj(t)&&t.isConnected;function Vpe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ar(t)?n++:t[e[n++]];return t}function qpe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ar(t[e]))return!1;return!0}function Mr(t,e){const r=Array.isArray(e)?e:ZE(e)?[e]:xR(e),n=r.length===1?t:Vpe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Cr(n)&&Ii(n)||Array.isArray(n)&&qpe(n))&&Mr(t,r.slice(0,-1)),t}var u9=t=>{for(const e in t)if(qa(t[e]))return!0;return!1};function dj(t,e={}){const r=Array.isArray(t);if(Cr(t)||r)for(const n in t)Array.isArray(t[n])||Cr(t[n])&&!u9(t[n])?(e[n]=Array.isArray(t[n])?[]:{},dj(t[n],e[n])):vi(t[n])||(e[n]=!0);return e}function d9(t,e,r){const n=Array.isArray(t);if(Cr(t)||n)for(const i in t)Array.isArray(t[i])||Cr(t[i])&&!u9(t[i])?Ar(e)||vk(r[i])?r[i]=Array.isArray(t[i])?dj(t[i],[]):{...dj(t[i])}:d9(t[i],vi(e)?{}:e[i],r[i]):r[i]=!mc(t[i],e[i]);return r}var Ty=(t,e)=>d9(t,e,dj(e));const n4={value:!1,isValid:!1},i4={value:!0,isValid:!0};var h9=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ar(t[0].attributes.value)?Ar(t[0].value)||t[0].value===""?i4:{value:t[0].value,isValid:!0}:i4:n4}return n4},f9=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ar(t)?t:e?t===""?NaN:t&&+t:r&&Yo(t)?new Date(t):n?n(t):t;const s4={isValid:!1,value:null};var p9=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,s4):s4;function a4(t){const e=t.ref;return SR(e)?e.files:jR(e)?p9(t.refs).value:c9(e)?[...e.selectedOptions].map(({value:r})=>r):Jw(e)?h9(t.refs).value:f9(Ar(e.value)?t.ref.value:e.value,t)}var Gpe=(t,e,r,n)=>{const i={};for(const s of t){const a=be(e,s);a&&Pt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},hj=t=>t instanceof RegExp,ky=t=>Ar(t)?t:hj(t)?t.source:Cr(t)?hj(t.value)?t.value.source:t.value:t,o4=t=>({isOnSubmit:!t||t===Va.onSubmit,isOnBlur:t===Va.onBlur,isOnChange:t===Va.onChange,isOnAll:t===Va.all,isOnTouch:t===Va.onTouched});const l4="AsyncFunction";var Kpe=t=>!!t&&!!t.validate&&!!(qa(t.validate)&&t.validate.constructor.name===l4||Cr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===l4)),Ype=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),c4=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ix=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=be(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Ix(o,e))break}else if(Cr(o)&&Ix(o,e))break}}};function u4(t,e,r){const n=be(t,r);if(n||ZE(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=be(e,s),o=be(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Xpe=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Ii(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Va.all))},Zpe=(t,e,r)=>!t||!e||t===e||Rx(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Qpe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Jpe=(t,e)=>!yR(be(t,e)).length&&Mr(t,e),eme=(t,e,r)=>{const n=Rx(be(t,r));return Pt(n,"root",e[r]),Pt(t,r,n),t},W1=t=>Yo(t);function d4(t,e,r="validate"){if(W1(t)||Array.isArray(t)&&t.every(W1)||vs(t)&&!t)return{type:r,message:W1(t)?t:"",ref:e}}var Rp=t=>Cr(t)&&!hj(t)?t:{value:t,message:""},h4=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:v,name:g,valueAsNumber:x,mount:y}=t._f,b=be(r,g);if(!y||e.has(g))return{};const w=o?o[0]:a,S=I=>{i&&w.reportValidity&&(w.setCustomValidity(vs(I)?"":I||""),w.reportValidity())},_={},A=jR(a),E=Jw(a),N=A||E,T=(x||SR(a))&&Ar(a.value)&&Ar(b)||uj(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,D=_R.bind(null,g,n,_),O=(I,F,$,B=wl.maxLength,L=wl.minLength)=>{const P=I?F:$;_[g]={type:I?B:L,message:P,ref:a,...D(I?B:L,P)}};if(s?!Array.isArray(b)||!b.length:c&&(!N&&(T||vi(b))||vs(b)&&!b||E&&!h9(o).isValid||A&&!p9(o).isValid)){const{value:I,message:F}=W1(c)?{value:!!c,message:c}:Rp(c);if(I&&(_[g]={type:wl.required,message:F,ref:w,...D(wl.required,F)},!n))return S(F),_}if(!T&&(!vi(h)||!vi(f))){let I,F;const $=Rp(f),B=Rp(h);if(!vi(b)&&!isNaN(b)){const L=a.valueAsNumber||b&&+b;vi($.value)||(I=L>$.value),vi(B.value)||(F=L<B.value)}else{const L=a.valueAsDate||new Date(b),P=Y=>new Date(new Date().toDateString()+" "+Y),R=a.type=="time",U=a.type=="week";Yo($.value)&&b&&(I=R?P(b)>P($.value):U?b>$.value:L>new Date($.value)),Yo(B.value)&&b&&(F=R?P(b)<P(B.value):U?b<B.value:L<new Date(B.value))}if((I||F)&&(O(!!I,$.message,B.message,wl.max,wl.min),!n))return S(_[g].message),_}if((u||d)&&!T&&(Yo(b)||s&&Array.isArray(b))){const I=Rp(u),F=Rp(d),$=!vi(I.value)&&b.length>+I.value,B=!vi(F.value)&&b.length<+F.value;if(($||B)&&(O($,I.message,F.message),!n))return S(_[g].message),_}if(p&&!T&&Yo(b)){const{value:I,message:F}=Rp(p);if(hj(I)&&!b.match(I)&&(_[g]={type:wl.pattern,message:F,ref:a,...D(wl.pattern,F)},!n))return S(F),_}if(v){if(qa(v)){const I=await v(b,r),F=d4(I,w);if(F&&(_[g]={...F,...D(wl.validate,F.message)},!n))return S(F.message),_}else if(Cr(v)){let I={};for(const F in v){if(!Ii(I)&&!n)break;const $=d4(await v[F](b,r),w,F);$&&(I={...$,...D(F,$.message)},S($.message),n&&(_[g]=I))}if(!Ii(I)&&(_[g]={ref:w,...I},!n))return _}}return S(!0),_};const tme={mode:Va.onSubmit,reValidateMode:Va.onChange,shouldFocusError:!0};function rme(t={}){let e={...tme,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:qa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Cr(e.defaultValues)||Cr(e.values)?Qr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Qr(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:r4(),state:r4()},p=e.criteriaMode===Va.all,v=K=>q=>{clearTimeout(u),u=setTimeout(K,q)},g=async K=>{if(!e.disabled&&(d.isValid||h.isValid||K)){const q=e.resolver?Ii((await E()).errors):await T(n,!0);q!==r.isValid&&f.state.next({isValid:q})}},x=(K,q)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((K||Array.from(o.mount)).forEach(Z=>{Z&&(q?Pt(r.validatingFields,Z,q):Mr(r.validatingFields,Z))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ii(r.validatingFields)}))},y=(K,q=[],Z,le,ge=!0,fe=!0)=>{if(le&&Z&&!e.disabled){if(a.action=!0,fe&&Array.isArray(be(n,K))){const _e=Z(be(n,K),le.argA,le.argB);ge&&Pt(n,K,_e)}if(fe&&Array.isArray(be(r.errors,K))){const _e=Z(be(r.errors,K),le.argA,le.argB);ge&&Pt(r.errors,K,_e),Jpe(r.errors,K)}if((d.touchedFields||h.touchedFields)&&fe&&Array.isArray(be(r.touchedFields,K))){const _e=Z(be(r.touchedFields,K),le.argA,le.argB);ge&&Pt(r.touchedFields,K,_e)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ty(i,s)),f.state.next({name:K,isDirty:O(K,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Pt(s,K,q)},b=(K,q)=>{Pt(r.errors,K,q),f.state.next({errors:r.errors})},w=K=>{r.errors=K,f.state.next({errors:r.errors,isValid:!1})},S=(K,q,Z,le)=>{const ge=be(n,K);if(ge){const fe=be(s,K,Ar(Z)?be(i,K):Z);Ar(fe)||le&&le.defaultChecked||q?Pt(s,K,q?fe:a4(ge._f)):$(K,fe),a.mount&&g()}},_=(K,q,Z,le,ge)=>{let fe=!1,_e=!1;const vt={name:K};if(!e.disabled){if(!Z||le){(d.isDirty||h.isDirty)&&(_e=r.isDirty,r.isDirty=vt.isDirty=O(),fe=_e!==vt.isDirty);const Mt=mc(be(i,K),q);_e=!!be(r.dirtyFields,K),Mt?Mr(r.dirtyFields,K):Pt(r.dirtyFields,K,!0),vt.dirtyFields=r.dirtyFields,fe=fe||(d.dirtyFields||h.dirtyFields)&&_e!==!Mt}if(Z){const Mt=be(r.touchedFields,K);Mt||(Pt(r.touchedFields,K,Z),vt.touchedFields=r.touchedFields,fe=fe||(d.touchedFields||h.touchedFields)&&Mt!==Z)}fe&&ge&&f.state.next(vt)}return fe?vt:{}},A=(K,q,Z,le)=>{const ge=be(r.errors,K),fe=(d.isValid||h.isValid)&&vs(q)&&r.isValid!==q;if(e.delayError&&Z?(c=v(()=>b(K,Z)),c(e.delayError)):(clearTimeout(u),c=null,Z?Pt(r.errors,K,Z):Mr(r.errors,K)),(Z?!mc(ge,Z):ge)||!Ii(le)||fe){const _e={...le,...fe&&vs(q)?{isValid:q}:{},errors:r.errors,name:K};r={...r,..._e},f.state.next(_e)}},E=async K=>{x(K,!0);const q=await e.resolver(s,e.context,Gpe(K||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(K),q},N=async K=>{const{errors:q}=await E(K);if(K)for(const Z of K){const le=be(q,Z);le?Pt(r.errors,Z,le):Mr(r.errors,Z)}else r.errors=q;return q},T=async(K,q,Z={valid:!0})=>{for(const le in K){const ge=K[le];if(ge){const{_f:fe,..._e}=ge;if(fe){const vt=o.array.has(fe.name),Mt=ge._f&&Kpe(ge._f);Mt&&d.validatingFields&&x([le],!0);const Pi=await h4(ge,o.disabled,s,p,e.shouldUseNativeValidation&&!q,vt);if(Mt&&d.validatingFields&&x([le]),Pi[fe.name]&&(Z.valid=!1,q))break;!q&&(be(Pi,fe.name)?vt?eme(r.errors,Pi,fe.name):Pt(r.errors,fe.name,Pi[fe.name]):Mr(r.errors,fe.name))}!Ii(_e)&&await T(_e,q,Z)}}return Z.valid},D=()=>{for(const K of o.unMount){const q=be(n,K);q&&(q._f.refs?q._f.refs.every(Z=>!iP(Z)):!iP(q._f.ref))&&V(K)}o.unMount=new Set},O=(K,q)=>!e.disabled&&(K&&q&&Pt(s,K,q),!mc(Y(),i)),I=(K,q,Z)=>l9(K,o,{...a.mount?s:Ar(q)?i:Yo(K)?{[K]:q}:q},Z,q),F=K=>yR(be(a.mount?s:i,K,e.shouldUnregister?be(i,K,[]):[])),$=(K,q,Z={})=>{const le=be(n,K);let ge=q;if(le){const fe=le._f;fe&&(!fe.disabled&&Pt(s,K,f9(q,fe)),ge=uj(fe.ref)&&vi(q)?"":q,c9(fe.ref)?[...fe.ref.options].forEach(_e=>_e.selected=ge.includes(_e.value)):fe.refs?Jw(fe.ref)?fe.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(ge)?_e.checked=!!ge.find(vt=>vt===_e.value):_e.checked=ge===_e.value||!!ge)}):fe.refs.forEach(_e=>_e.checked=_e.value===ge):SR(fe.ref)?fe.ref.value="":(fe.ref.value=ge,fe.ref.type||f.state.next({name:K,values:Qr(s)})))}(Z.shouldDirty||Z.shouldTouch)&&_(K,ge,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&U(K)},B=(K,q,Z)=>{for(const le in q){if(!q.hasOwnProperty(le))return;const ge=q[le],fe=K+"."+le,_e=be(n,fe);(o.array.has(K)||Cr(ge)||_e&&!_e._f)&&!ph(ge)?B(fe,ge,Z):$(fe,ge,Z)}},L=(K,q,Z={})=>{const le=be(n,K),ge=o.array.has(K),fe=Qr(q);Pt(s,K,fe),ge?(f.array.next({name:K,values:Qr(s)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&f.state.next({name:K,dirtyFields:Ty(i,s),isDirty:O(K,fe)})):le&&!le._f&&!vi(fe)?B(K,fe,Z):$(K,fe,Z),c4(K,o)&&f.state.next({...r,name:K}),f.state.next({name:a.mount?K:void 0,values:Qr(s)})},P=async K=>{a.mount=!0;const q=K.target;let Z=q.name,le=!0;const ge=be(n,Z),fe=Mt=>{le=Number.isNaN(Mt)||ph(Mt)&&isNaN(Mt.getTime())||mc(Mt,be(s,Z,Mt))},_e=o4(e.mode),vt=o4(e.reValidateMode);if(ge){let Mt,Pi;const yl=q.type?a4(ge._f):i9(K),co=K.type===cj.BLUR||K.type===cj.FOCUS_OUT,y_=!Ype(ge._f)&&!e.resolver&&!be(r.errors,Z)&&!ge._f.deps||Qpe(co,be(r.touchedFields,Z),r.isSubmitted,vt,_e),Vd=c4(Z,o,co);Pt(s,Z,yl),co?(!q||!q.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(K),c&&c(0)):ge._f.onChange&&ge._f.onChange(K);const uo=_(Z,yl,co),x_=!Ii(uo)||Vd;if(!co&&f.state.next({name:Z,type:K.type,values:Qr(s)}),y_)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?co&&g():co||g()),x_&&f.state.next({name:Z,...Vd?{}:uo});if(!co&&Vd&&f.state.next({...r}),e.resolver){const{errors:xl}=await E([Z]);if(fe(yl),le){const nN=u4(r.errors,n,Z),b_=u4(xl,n,nN.name||Z);Mt=b_.error,Z=b_.name,Pi=Ii(xl)}}else x([Z],!0),Mt=(await h4(ge,o.disabled,s,p,e.shouldUseNativeValidation))[Z],x([Z]),fe(yl),le&&(Mt?Pi=!1:(d.isValid||h.isValid)&&(Pi=await T(n,!0)));le&&(ge._f.deps&&U(ge._f.deps),A(Z,Pi,Mt,uo))}},R=(K,q)=>{if(be(r.errors,q)&&K.focus)return K.focus(),1},U=async(K,q={})=>{let Z,le;const ge=Rx(K);if(e.resolver){const fe=await N(Ar(K)?K:ge);Z=Ii(fe),le=K?!ge.some(_e=>be(fe,_e)):Z}else K?(le=(await Promise.all(ge.map(async fe=>{const _e=be(n,fe);return await T(_e&&_e._f?{[fe]:_e}:_e)}))).every(Boolean),!(!le&&!r.isValid)&&g()):le=Z=await T(n);return f.state.next({...!Yo(K)||(d.isValid||h.isValid)&&Z!==r.isValid?{}:{name:K},...e.resolver||!K?{isValid:Z}:{},errors:r.errors}),q.shouldFocus&&!le&&Ix(n,R,K?ge:o.mount),le},Y=K=>{const q={...a.mount?s:i};return Ar(K)?q:Yo(K)?be(q,K):K.map(Z=>be(q,Z))},J=(K,q)=>({invalid:!!be((q||r).errors,K),isDirty:!!be((q||r).dirtyFields,K),error:be((q||r).errors,K),isValidating:!!be(r.validatingFields,K),isTouched:!!be((q||r).touchedFields,K)}),X=K=>{K&&Rx(K).forEach(q=>Mr(r.errors,q)),f.state.next({errors:K?r.errors:{}})},ee=(K,q,Z)=>{const le=(be(n,K,{_f:{}})._f||{}).ref,ge=be(r.errors,K)||{},{ref:fe,message:_e,type:vt,...Mt}=ge;Pt(r.errors,K,{...Mt,...q,ref:le}),f.state.next({name:K,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&le&&le.focus&&le.focus()},ue=(K,q)=>qa(K)?f.state.subscribe({next:Z=>"values"in Z&&K(I(void 0,q),Z)}):I(K,q,!0),we=K=>f.state.subscribe({next:q=>{Zpe(K.name,q.name,K.exact)&&Xpe(q,K.formState||d,rt,K.reRenderRoot)&&K.callback({values:{...s},...r,...q,defaultValues:i})}}).unsubscribe,je=K=>(a.mount=!0,h={...h,...K.formState},we({...K,formState:h})),V=(K,q={})=>{for(const Z of K?Rx(K):o.mount)o.mount.delete(Z),o.array.delete(Z),q.keepValue||(Mr(n,Z),Mr(s,Z)),!q.keepError&&Mr(r.errors,Z),!q.keepDirty&&Mr(r.dirtyFields,Z),!q.keepTouched&&Mr(r.touchedFields,Z),!q.keepIsValidating&&Mr(r.validatingFields,Z),!e.shouldUnregister&&!q.keepDefaultValue&&Mr(i,Z);f.state.next({values:Qr(s)}),f.state.next({...r,...q.keepDirty?{isDirty:O()}:{}}),!q.keepIsValid&&g()},H=({disabled:K,name:q})=>{(vs(K)&&a.mount||K||o.disabled.has(q))&&(K?o.disabled.add(q):o.disabled.delete(q))},Q=(K,q={})=>{let Z=be(n,K);const le=vs(q.disabled)||vs(e.disabled);return Pt(n,K,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:K}},name:K,mount:!0,...q}}),o.mount.add(K),Z?H({disabled:vs(q.disabled)?q.disabled:e.disabled,name:K}):S(K,!0,q.value),{...le?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:ky(q.min),max:ky(q.max),minLength:ky(q.minLength),maxLength:ky(q.maxLength),pattern:ky(q.pattern)}:{},name:K,onChange:P,onBlur:P,ref:ge=>{if(ge){Q(K,q),Z=be(n,K);const fe=Ar(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,_e=Wpe(fe),vt=Z._f.refs||[];if(_e?vt.find(Mt=>Mt===fe):fe===Z._f.ref)return;Pt(n,K,{_f:{...Z._f,..._e?{refs:[...vt.filter(iP),fe,...Array.isArray(be(i,K))?[{}]:[]],ref:{type:fe.type,name:K}}:{ref:fe}}}),S(K,!1,void 0,fe)}else Z=be(n,K,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(s9(o.array,K)&&a.action)&&o.unMount.add(K)}}},ie=()=>e.shouldFocusError&&Ix(n,R,o.mount),ae=K=>{vs(K)&&(f.state.next({disabled:K}),Ix(n,(q,Z)=>{const le=be(n,Z);le&&(q.disabled=le._f.disabled||K,Array.isArray(le._f.refs)&&le._f.refs.forEach(ge=>{ge.disabled=le._f.disabled||K}))},0,!1))},W=(K,q)=>async Z=>{let le;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ge=Qr(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:fe,values:_e}=await E();r.errors=fe,ge=Qr(_e)}else await T(n);if(o.disabled.size)for(const fe of o.disabled)Mr(ge,fe);if(Mr(r.errors,"root"),Ii(r.errors)){f.state.next({errors:{}});try{await K(ge,Z)}catch(fe){le=fe}}else q&&await q({...r.errors},Z),ie(),setTimeout(ie);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ii(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},me=(K,q={})=>{be(n,K)&&(Ar(q.defaultValue)?L(K,Qr(be(i,K))):(L(K,q.defaultValue),Pt(i,K,Qr(q.defaultValue))),q.keepTouched||Mr(r.touchedFields,K),q.keepDirty||(Mr(r.dirtyFields,K),r.isDirty=q.defaultValue?O(K,Qr(be(i,K))):O()),q.keepError||(Mr(r.errors,K),d.isValid&&g()),f.state.next({...r}))},Ae=(K,q={})=>{const Z=K?Qr(K):i,le=Qr(Z),ge=Ii(K),fe=ge?i:le;if(q.keepDefaultValues||(i=Z),!q.keepValues){if(q.keepDirtyValues){const _e=new Set([...o.mount,...Object.keys(Ty(i,s))]);for(const vt of Array.from(_e))be(r.dirtyFields,vt)?Pt(fe,vt,be(s,vt)):L(vt,be(fe,vt))}else{if(vR&&Ar(K))for(const _e of o.mount){const vt=be(n,_e);if(vt&&vt._f){const Mt=Array.isArray(vt._f.refs)?vt._f.refs[0]:vt._f.ref;if(uj(Mt)){const Pi=Mt.closest("form");if(Pi){Pi.reset();break}}}}if(q.keepFieldsRef)for(const _e of o.mount)L(_e,be(fe,_e));else n={}}s=e.shouldUnregister?q.keepDefaultValues?Qr(i):{}:Qr(fe),f.array.next({values:{...fe}}),f.state.next({values:{...fe}})}o={mount:q.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!mc(K,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:q.keepDirtyValues?q.keepDefaultValues&&s?Ty(i,s):r.dirtyFields:q.keepDefaultValues&&K?Ty(i,K):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Oe=(K,q)=>Ae(qa(K)?K(s):K,q),Fe=(K,q={})=>{const Z=be(n,K),le=Z&&Z._f;if(le){const ge=le.refs?le.refs[0]:le.ref;ge.focus&&(ge.focus(),q.shouldSelect&&qa(ge.select)&&ge.select())}},rt=K=>{r={...r,...K}},Yr={control:{register:Q,unregister:V,getFieldState:J,handleSubmit:W,setError:ee,_subscribe:we,_runSchema:E,_focusError:ie,_getWatch:I,_getDirty:O,_setValid:g,_setFieldArray:y,_setDisabledField:H,_setErrors:w,_getFieldArray:F,_reset:Ae,_resetDefaultValues:()=>qa(e.defaultValues)&&e.defaultValues().then(K=>{Oe(K,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:ae,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(K){a=K},get _defaultValues(){return i},get _names(){return o},set _names(K){o=K},get _formState(){return r},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:je,trigger:U,register:Q,handleSubmit:W,watch:ue,setValue:L,getValues:Y,reset:Oe,resetField:me,clearErrors:X,unregister:V,setError:ee,setFocus:Fe,getFieldState:J};return{...Yr,formControl:Yr}}function yk(t={}){const e=z.useRef(void 0),r=z.useRef(void 0),[n,i]=z.useState({isDirty:!1,isValidating:!1,isLoading:qa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:qa(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!qa(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=rme(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,wR(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),z.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),z.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),z.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),z.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),z.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),z.useEffect(()=>{t.values&&!mc(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),z.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=o9(n,s),e.current}const f4=(t,e,r)=>{if(t&&"reportValidity"in t){const n=be(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},xk=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?f4(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>f4(i,r,t))}},p4=(t,e)=>{e.shouldUseNativeValidation&&xk(t,e);const r={};for(const n in t){const i=be(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(nme(e.names||Object.keys(t),n)){const a=Object.assign({},be(r,n));Pt(a,"root",s),Pt(r,n,a)}else Pt(r,n,s)}return r},nme=(t,e)=>{const r=m4(e);return t.some(n=>m4(n).match(`^${r}\\.\\d+`))};function m4(t){return t.replace(/\]|\[/g,"")}function oe(t,e,r){function n(o,c){var u;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(u=o._zod).traits??(u.traits=new Set),o._zod.traits.add(t),e(o,c);for(const d in a.prototype)d in o||Object.defineProperty(o,d,{value:a.prototype[d].bind(o)});o._zod.constr=a,o._zod.def=c}const i=(r==null?void 0:r.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(o){var c;const u=r!=null&&r.Parent?new s:this;n(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var c,u;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(u=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class xb extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const m9={};function qf(t){return m9}function ime(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function bk(t,e){return typeof e=="bigint"?e.toString():e}function g9(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function AR(t){return t==null}function ER(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}const g4=Symbol("evaluating");function Kt(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==g4)return n===void 0&&(n=g4,n=r()),n},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function sme(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function gp(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ry(...t){const e={};for(const r of t){const n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function v4(t){return JSON.stringify(t)}const v9="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function wk(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const ame=g9(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function _k(t){if(wk(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(wk(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const ome=new Set(["string","number","symbol"]);function QE(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vp(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r!=null&&r.parent)&&(n._zod.parent=t),n}function Ve(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function lme(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function cme(t,e){const r=t._zod.def,n=ry(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=r.shape[s])}return gp(this,"shape",i),i},checks:[]});return vp(t,n)}function ume(t,e){const r=t._zod.def,n=ry(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return gp(this,"shape",i),i},checks:[]});return vp(t,n)}function dme(t,e){if(!_k(e))throw new Error("Invalid input to extend: expected a plain object");const r=ry(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e};return gp(this,"shape",n),n},checks:[]});return vp(t,r)}function hme(t,e){const r=ry(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return gp(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return vp(t,r)}function fme(t,e,r){const n=ry(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(r)for(const a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(s[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(const a in i)s[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return gp(this,"shape",s),s},checks:[]});return vp(e,n)}function pme(t,e,r){const n=ry(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(r)for(const a in r){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(s[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(const a in i)s[a]=new t({type:"nonoptional",innerType:i[a]});return gp(this,"shape",s),s},checks:[]});return vp(e,n)}function $x(t,e=0){var r;for(let n=e;n<t.issues.length;n++)if(((r=t.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function y9(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Z_(t){return typeof t=="string"?t:t==null?void 0:t.message}function Gf(t,e,r){var i,s,a,o,c,u;const n={...t,path:t.path??[]};if(!t.message){const d=Z_((a=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,t))??Z_((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Z_((c=r.customError)==null?void 0:c.call(r,t))??Z_((u=r.localeError)==null?void 0:u.call(r,t))??"Invalid input";n.message=d}return delete n.inst,delete n.continue,e!=null&&e.reportInput||delete n.input,n}function CR(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function bb(...t){const[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}const x9=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,bk,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},NR=oe("$ZodError",x9),JE=oe("$ZodError",x9,{Parent:Error});function mme(t,e=r=>r.message){const r={},n=[];for(const i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function gme(t,e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(o=>i({issues:o}));else if(a.code==="invalid_key")i({issues:a.issues});else if(a.code==="invalid_element")i({issues:a.issues});else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(t),n}const b9=t=>(e,r,n,i)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},a=e._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new xb;if(a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(c=>Gf(c,s,qf())));throw v9(o,i==null?void 0:i.callee),o}return a.value},vme=b9(JE),w9=t=>async(e,r,n,i)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let a=e._zod.run({value:r,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(c=>Gf(c,s,qf())));throw v9(o,i==null?void 0:i.callee),o}return a.value},yme=w9(JE),_9=t=>(e,r,n)=>{const i=n?{...n,async:!1}:{async:!1},s=e._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new xb;return s.issues.length?{success:!1,error:new(t??NR)(s.issues.map(a=>Gf(a,i,qf())))}:{success:!0,data:s.value}},xme=_9(JE),S9=t=>async(e,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let s=e._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(a=>Gf(a,i,qf())))}:{success:!0,data:s.value}},bme=S9(JE),wme=/^[cC][^\s-]{8,}$/,_me=/^[0-9a-z]+$/,Sme=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,jme=/^[0-9a-vA-V]{20}$/,Ame=/^[A-Za-z0-9]{27}$/,Eme=/^[a-zA-Z0-9_-]{21}$/,Cme=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Nme=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,y4=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Pme=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Tme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function kme(){return new RegExp(Tme,"u")}const Ome=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mme=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Dme=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Rme=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ime=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,j9=/^[A-Za-z0-9_-]*$/,$me=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Lme=/^\+(?:[0-9]){6,14}[0-9]$/,A9="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Fme=new RegExp(`^${A9}$`);function E9(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zme(t){return new RegExp(`^${E9(t)}$`)}function Bme(t){const e=E9({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${e}(?:${r.join("|")})`;return new RegExp(`^${A9}T(?:${n})$`)}const Ume=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Hme=/true|false/i,Wme=/^[^A-Z]*$/,Vme=/^[^a-z]*$/,ml=oe("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),qme=oe("$ZodCheckMaxLength",(t,e)=>{var r;ml.init(t,e),(r=t._zod.def).when??(r.when=n=>{const i=n.value;return!AR(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const i=n.value;if(i.length<=e.maximum)return;const a=CR(i);n.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Gme=oe("$ZodCheckMinLength",(t,e)=>{var r;ml.init(t,e),(r=t._zod.def).when??(r.when=n=>{const i=n.value;return!AR(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const i=n.value;if(i.length>=e.minimum)return;const a=CR(i);n.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Kme=oe("$ZodCheckLengthEquals",(t,e)=>{var r;ml.init(t,e),(r=t._zod.def).when??(r.when=n=>{const i=n.value;return!AR(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=n=>{const i=n.value,s=i.length;if(s===e.length)return;const a=CR(i),o=s>e.length;n.issues.push({origin:a,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),eC=oe("$ZodCheckStringFormat",(t,e)=>{var r,n;ml.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),Yme=oe("$ZodCheckRegex",(t,e)=>{eC.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Xme=oe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Wme),eC.init(t,e)}),Zme=oe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Vme),eC.init(t,e)}),Qme=oe("$ZodCheckIncludes",(t,e)=>{ml.init(t,e);const r=QE(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),Jme=oe("$ZodCheckStartsWith",(t,e)=>{ml.init(t,e);const r=new RegExp(`^${QE(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),ege=oe("$ZodCheckEndsWith",(t,e)=>{ml.init(t,e);const r=new RegExp(`.*${QE(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),tge=oe("$ZodCheckOverwrite",(t,e)=>{ml.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class rge{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(a=>a),i=Math.min(...n.map(a=>a.length-a.trimStart().length)),s=n.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const e=Function,r=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new e(...r,i.join(`
`))}}const nge={major:4,minor:0,patch:15},Pr=oe("$ZodType",(t,e)=>{var i;var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=nge;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const s of n)for(const a of s._zod.onattach)a(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const s=(a,o,c)=>{let u=$x(a),d;for(const h of o){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(u)continue;const f=a.issues.length,p=h._zod.check(a);if(p instanceof Promise&&(c==null?void 0:c.async)===!1)throw new xb;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,a.issues.length!==f&&(u||(u=$x(a,f)))});else{if(a.issues.length===f)continue;u||(u=$x(a,f))}}return d?d.then(()=>a):a};t._zod.run=(a,o)=>{const c=t._zod.parse(a,o);if(c instanceof Promise){if(o.async===!1)throw new xb;return c.then(u=>s(u,n,o))}return s(c,n,o)}}t["~standard"]={validate:s=>{var a;try{const o=xme(t,s);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return bme(t,s).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),PR=oe("$ZodString",(t,e)=>{var r;Pr.init(t,e),t._zod.pattern=[...((r=t==null?void 0:t._zod.bag)==null?void 0:r.patterns)??[]].pop()??Ume(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),cr=oe("$ZodStringFormat",(t,e)=>{eC.init(t,e),PR.init(t,e)}),ige=oe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Nme),cr.init(t,e)}),sge=oe("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=y4(n))}else e.pattern??(e.pattern=y4());cr.init(t,e)}),age=oe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Pme),cr.init(t,e)}),oge=oe("$ZodURL",(t,e)=>{cr.init(t,e),t._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:$me.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),lge=oe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=kme()),cr.init(t,e)}),cge=oe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Eme),cr.init(t,e)}),uge=oe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=wme),cr.init(t,e)}),dge=oe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=_me),cr.init(t,e)}),hge=oe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Sme),cr.init(t,e)}),fge=oe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=jme),cr.init(t,e)}),pge=oe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Ame),cr.init(t,e)}),mge=oe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Bme(e)),cr.init(t,e)}),gge=oe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Fme),cr.init(t,e)}),vge=oe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=zme(e)),cr.init(t,e)}),yge=oe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Cme),cr.init(t,e)}),xge=oe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Ome),cr.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),bge=oe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Mme),cr.init(t,e),t._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),wge=oe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Dme),cr.init(t,e)}),_ge=oe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Rme),cr.init(t,e),t._zod.check=r=>{const[n,i]=r.value.split("/");try{if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function C9(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Sge=oe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Ime),cr.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{C9(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function jge(t){if(!j9.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return C9(r)}const Age=oe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=j9),cr.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{jge(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Ege=oe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Lme),cr.init(t,e)});function Cge(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const Nge=oe("$ZodJWT",(t,e)=>{cr.init(t,e),t._zod.check=r=>{Cge(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Pge=oe("$ZodBoolean",(t,e)=>{Pr.init(t,e),t._zod.pattern=Hme,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),Tge=oe("$ZodUnknown",(t,e)=>{Pr.init(t,e),t._zod.parse=r=>r}),kge=oe("$ZodNever",(t,e)=>{Pr.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function x4(t,e,r){t.issues.length&&e.issues.push(...y9(r,t.issues)),e.value[r]=t.value}const Oge=oe("$ZodArray",(t,e)=>{Pr.init(t,e),t._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);const s=[];for(let a=0;a<i.length;a++){const o=i[a],c=e.element._zod.run({value:o,issues:[]},n);c instanceof Promise?s.push(c.then(u=>x4(u,r,a))):x4(c,r,a)}return s.length?Promise.all(s).then(()=>r):r}});function Q_(t,e,r,n){t.issues.length&&e.issues.push(...y9(r,t.issues)),t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}const Mge=oe("$ZodObject",(t,e)=>{Pr.init(t,e);const r=g9(()=>{const h=Object.keys(e.shape);for(const p of h)if(!(e.shape[p]instanceof Pr))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const f=lme(e.shape);return{shape:e.shape,keys:h,keySet:new Set(h),numKeys:h.length,optionalKeys:new Set(f)}});Kt(t._zod,"propValues",()=>{const h=e.shape,f={};for(const p in h){const v=h[p]._zod;if(v.values){f[p]??(f[p]=new Set);for(const g of v.values)f[p].add(g)}}return f});const n=h=>{const f=new rge(["shape","payload","ctx"]),p=r.value,v=b=>{const w=v4(b);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};f.write("const input = payload.value;");const g=Object.create(null);let x=0;for(const b of p.keys)g[b]=`key_${x++}`;f.write("const newResult = {}");for(const b of p.keys){const w=g[b],S=v4(b);f.write(`const ${w} = ${v(b)};`),f.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        if (${w}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${w}.value;
        }
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const y=f.compile();return(b,w)=>y(h,b,w)};let i;const s=wk,a=!m9.jitless,c=a&&ame.value,u=e.catchall;let d;t._zod.parse=(h,f)=>{d??(d=r.value);const p=h.value;if(!s(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;const v=[];if(a&&c&&(f==null?void 0:f.async)===!1&&f.jitless!==!0)i||(i=n(e.shape)),h=i(h,f);else{h.value={};const w=d.shape;for(const S of d.keys){const A=w[S]._zod.run({value:p[S],issues:[]},f);A instanceof Promise?v.push(A.then(E=>Q_(E,h,S,p))):Q_(A,h,S,p)}}if(!u)return v.length?Promise.all(v).then(()=>h):h;const g=[],x=d.keySet,y=u._zod,b=y.def.type;for(const w of Object.keys(p)){if(x.has(w))continue;if(b==="never"){g.push(w);continue}const S=y.run({value:p[w],issues:[]},f);S instanceof Promise?v.push(S.then(_=>Q_(_,h,w,p))):Q_(S,h,w,p)}return g.length&&h.issues.push({code:"unrecognized_keys",keys:g,input:p,inst:t}),v.length?Promise.all(v).then(()=>h):h}});function b4(t,e,r,n){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!$x(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(s=>s.issues.map(a=>Gf(a,n,qf())))}),e)}const Dge=oe("$ZodUnion",(t,e)=>{Pr.init(t,e),Kt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Kt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Kt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Kt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>ER(s.source)).join("|")})$`)}});const r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(r)return n(i,s);let a=!1;const o=[];for(const c of e.options){const u=c._zod.run({value:i.value,issues:[]},s);if(u instanceof Promise)o.push(u),a=!0;else{if(u.issues.length===0)return u;o.push(u)}}return a?Promise.all(o).then(c=>b4(c,i,t,s)):b4(o,i,t,s)}}),Rge=oe("$ZodIntersection",(t,e)=>{Pr.init(t,e),t._zod.parse=(r,n)=>{const i=r.value,s=e.left._zod.run({value:i,issues:[]},n),a=e.right._zod.run({value:i,issues:[]},n);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([c,u])=>w4(r,c,u)):w4(r,s,a)}});function Sk(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(_k(t)&&_k(e)){const r=Object.keys(e),n=Object.keys(t).filter(s=>r.indexOf(s)!==-1),i={...t,...e};for(const s of n){const a=Sk(t[s],e[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};i[s]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n],a=Sk(i,s);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function w4(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),$x(t))return t;const n=Sk(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}const Ige=oe("$ZodEnum",(t,e)=>{Pr.init(t,e);const r=ime(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(i=>ome.has(typeof i)).map(i=>typeof i=="string"?QE(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const a=i.value;return n.has(a)||i.issues.push({code:"invalid_value",values:r,input:a,inst:t}),i}}),$ge=oe("$ZodTransform",(t,e)=>{Pr.init(t,e),t._zod.parse=(r,n)=>{const i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(r.value=a,r));if(i instanceof Promise)throw new xb;return r.value=i,r}});function _4(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Lge=oe("$ZodOptional",(t,e)=>{Pr.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Kt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Kt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${ER(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>_4(s,r.value)):_4(i,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),Fge=oe("$ZodNullable",(t,e)=>{Pr.init(t,e),Kt(t._zod,"optin",()=>e.innerType._zod.optin),Kt(t._zod,"optout",()=>e.innerType._zod.optout),Kt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${ER(r.source)}|null)$`):void 0}),Kt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),zge=oe("$ZodDefault",(t,e)=>{Pr.init(t,e),t._zod.optin="optional",Kt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;const i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>S4(s,e)):S4(i,e)}});function S4(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Bge=oe("$ZodPrefault",(t,e)=>{Pr.init(t,e),t._zod.optin="optional",Kt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),Uge=oe("$ZodNonOptional",(t,e)=>{Pr.init(t,e),Kt(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{const i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>j4(s,t)):j4(i,t)}});function j4(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Hge=oe("$ZodCatch",(t,e)=>{Pr.init(t,e),Kt(t._zod,"optin",()=>e.innerType._zod.optin),Kt(t._zod,"optout",()=>e.innerType._zod.optout),Kt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{const i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>(r.value=s.value,s.issues.length&&(r.value=e.catchValue({...r,error:{issues:s.issues.map(a=>Gf(a,n,qf()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(s=>Gf(s,n,qf()))},input:r.value}),r.issues=[]),r)}}),Wge=oe("$ZodPipe",(t,e)=>{Pr.init(t,e),Kt(t._zod,"values",()=>e.in._zod.values),Kt(t._zod,"optin",()=>e.in._zod.optin),Kt(t._zod,"optout",()=>e.out._zod.optout),Kt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{const i=e.in._zod.run(r,n);return i instanceof Promise?i.then(s=>A4(s,e,n)):A4(i,e,n)}});function A4(t,e,r){return t.issues.length?t:e.out._zod.run({value:t.value,issues:t.issues},r)}const Vge=oe("$ZodReadonly",(t,e)=>{Pr.init(t,e),Kt(t._zod,"propValues",()=>e.innerType._zod.propValues),Kt(t._zod,"values",()=>e.innerType._zod.values),Kt(t._zod,"optin",()=>e.innerType._zod.optin),Kt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{const i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(E4):E4(i)}});function E4(t){return t.value=Object.freeze(t.value),t}const qge=oe("$ZodCustom",(t,e)=>{ml.init(t,e),Pr.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{const n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(s=>C4(s,r,n,t));C4(i,r,n,t)}});function C4(t,e,r,n){if(!t){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(bb(i))}}class Gge{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){const n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Kge(){return new Gge}const J_=Kge();function Yge(t,e){return new t({type:"string",...Ve(e)})}function Xge(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ve(e)})}function N4(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(e)})}function Zge(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(e)})}function Qge(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(e)})}function Jge(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(e)})}function eve(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(e)})}function tve(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ve(e)})}function rve(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(e)})}function nve(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(e)})}function ive(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(e)})}function sve(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(e)})}function ave(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(e)})}function ove(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(e)})}function lve(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(e)})}function cve(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(e)})}function uve(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(e)})}function dve(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(e)})}function hve(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(e)})}function fve(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(e)})}function pve(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(e)})}function mve(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(e)})}function gve(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(e)})}function vve(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(e)})}function yve(t,e){return new t({type:"string",format:"date",check:"string_format",...Ve(e)})}function xve(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ve(e)})}function bve(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ve(e)})}function wve(t,e){return new t({type:"boolean",...Ve(e)})}function _ve(t){return new t({type:"unknown"})}function Sve(t,e){return new t({type:"never",...Ve(e)})}function N9(t,e){return new qme({check:"max_length",...Ve(e),maximum:t})}function fj(t,e){return new Gme({check:"min_length",...Ve(e),minimum:t})}function P9(t,e){return new Kme({check:"length_equals",...Ve(e),length:t})}function jve(t,e){return new Yme({check:"string_format",format:"regex",...Ve(e),pattern:t})}function Ave(t){return new Xme({check:"string_format",format:"lowercase",...Ve(t)})}function Eve(t){return new Zme({check:"string_format",format:"uppercase",...Ve(t)})}function Cve(t,e){return new Qme({check:"string_format",format:"includes",...Ve(e),includes:t})}function Nve(t,e){return new Jme({check:"string_format",format:"starts_with",...Ve(e),prefix:t})}function Pve(t,e){return new ege({check:"string_format",format:"ends_with",...Ve(e),suffix:t})}function e_(t){return new tge({check:"overwrite",tx:t})}function Tve(t){return e_(e=>e.normalize(t))}function kve(){return e_(t=>t.trim())}function Ove(){return e_(t=>t.toLowerCase())}function Mve(){return e_(t=>t.toUpperCase())}function Dve(t,e,r){return new t({type:"array",element:e,...Ve(r)})}function Rve(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Ve(r)})}function Ive(t){const e=$ve(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(bb(n,r.value,e._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push(bb(i))}},t(r.value,r)));return e}function $ve(t,e){const r=new ml({check:"custom",...Ve(e)});return r._zod.check=t,r}function P4(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function Lve(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=_R(a,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r}function Fve(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if(n.code==="invalid_union"&&n.errors.length>0){var o=n.errors[0][0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if(n.code==="invalid_union"&&n.errors.forEach(function(d){return d.forEach(function(h){return t.push(h)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=_R(a,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r}function jk(t,e,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,i,s){try{return Promise.resolve(P4(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(a){return s.shouldUseNativeValidation&&xk({},s),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(a))return{values:{},errors:p4(Lve(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,i,s){try{return Promise.resolve(P4(function(){return Promise.resolve((r.mode==="sync"?vme:yme)(t,n,e)).then(function(a){return s.shouldUseNativeValidation&&xk({},s),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if(function(o){return o instanceof NR}(a))return{values:{},errors:p4(Fve(a.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const zve=oe("ZodISODateTime",(t,e)=>{mge.init(t,e),vr.init(t,e)});function Bve(t){return vve(zve,t)}const Uve=oe("ZodISODate",(t,e)=>{gge.init(t,e),vr.init(t,e)});function Hve(t){return yve(Uve,t)}const Wve=oe("ZodISOTime",(t,e)=>{vge.init(t,e),vr.init(t,e)});function Vve(t){return xve(Wve,t)}const qve=oe("ZodISODuration",(t,e)=>{yge.init(t,e),vr.init(t,e)});function Gve(t){return bve(qve,t)}const Kve=(t,e)=>{NR.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>gme(t,r)},flatten:{value:r=>mme(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,bk,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,bk,2)}},isEmpty:{get(){return t.issues.length===0}}})},tC=oe("ZodError",Kve,{Parent:Error}),Yve=b9(tC),Xve=w9(tC),Zve=_9(tC),Qve=S9(tC),dn=oe("ZodType",(t,e)=>(Pr.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>vp(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>Yve(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>Zve(t,r,n),t.parseAsync=async(r,n)=>Xve(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>Qve(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(Hye(r,n)),t.superRefine=r=>t.check(Wye(r)),t.overwrite=r=>t.check(e_(r)),t.optional=()=>O4(t),t.nullable=()=>M4(t),t.nullish=()=>O4(M4(t)),t.nonoptional=r=>Iye(t,r),t.array=()=>_ye(t),t.or=r=>Aye([t,r]),t.and=r=>Cye(t,r),t.transform=r=>D4(t,Tye(r)),t.default=r=>Mye(t,r),t.prefault=r=>Rye(t,r),t.catch=r=>Lye(t,r),t.pipe=r=>D4(t,r),t.readonly=()=>Bye(t),t.describe=r=>{const n=t.clone();return J_.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){var r;return(r=J_.get(t))==null?void 0:r.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return J_.get(t);const n=t.clone();return J_.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),T9=oe("_ZodString",(t,e)=>{PR.init(t,e),dn.init(t,e);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(jve(...n)),t.includes=(...n)=>t.check(Cve(...n)),t.startsWith=(...n)=>t.check(Nve(...n)),t.endsWith=(...n)=>t.check(Pve(...n)),t.min=(...n)=>t.check(fj(...n)),t.max=(...n)=>t.check(N9(...n)),t.length=(...n)=>t.check(P9(...n)),t.nonempty=(...n)=>t.check(fj(1,...n)),t.lowercase=n=>t.check(Ave(n)),t.uppercase=n=>t.check(Eve(n)),t.trim=()=>t.check(kve()),t.normalize=(...n)=>t.check(Tve(...n)),t.toLowerCase=()=>t.check(Ove()),t.toUpperCase=()=>t.check(Mve())}),Jve=oe("ZodString",(t,e)=>{PR.init(t,e),T9.init(t,e),t.email=r=>t.check(Xge(eye,r)),t.url=r=>t.check(tve(tye,r)),t.jwt=r=>t.check(gve(gye,r)),t.emoji=r=>t.check(rve(rye,r)),t.guid=r=>t.check(N4(T4,r)),t.uuid=r=>t.check(Zge(e1,r)),t.uuidv4=r=>t.check(Qge(e1,r)),t.uuidv6=r=>t.check(Jge(e1,r)),t.uuidv7=r=>t.check(eve(e1,r)),t.nanoid=r=>t.check(nve(nye,r)),t.guid=r=>t.check(N4(T4,r)),t.cuid=r=>t.check(ive(iye,r)),t.cuid2=r=>t.check(sve(sye,r)),t.ulid=r=>t.check(ave(aye,r)),t.base64=r=>t.check(fve(fye,r)),t.base64url=r=>t.check(pve(pye,r)),t.xid=r=>t.check(ove(oye,r)),t.ksuid=r=>t.check(lve(lye,r)),t.ipv4=r=>t.check(cve(cye,r)),t.ipv6=r=>t.check(uve(uye,r)),t.cidrv4=r=>t.check(dve(dye,r)),t.cidrv6=r=>t.check(hve(hye,r)),t.e164=r=>t.check(mve(mye,r)),t.datetime=r=>t.check(Bve(r)),t.date=r=>t.check(Hve(r)),t.time=r=>t.check(Vve(r)),t.duration=r=>t.check(Gve(r))});function Bi(t){return Yge(Jve,t)}const vr=oe("ZodStringFormat",(t,e)=>{cr.init(t,e),T9.init(t,e)}),eye=oe("ZodEmail",(t,e)=>{age.init(t,e),vr.init(t,e)}),T4=oe("ZodGUID",(t,e)=>{ige.init(t,e),vr.init(t,e)}),e1=oe("ZodUUID",(t,e)=>{sge.init(t,e),vr.init(t,e)}),tye=oe("ZodURL",(t,e)=>{oge.init(t,e),vr.init(t,e)}),rye=oe("ZodEmoji",(t,e)=>{lge.init(t,e),vr.init(t,e)}),nye=oe("ZodNanoID",(t,e)=>{cge.init(t,e),vr.init(t,e)}),iye=oe("ZodCUID",(t,e)=>{uge.init(t,e),vr.init(t,e)}),sye=oe("ZodCUID2",(t,e)=>{dge.init(t,e),vr.init(t,e)}),aye=oe("ZodULID",(t,e)=>{hge.init(t,e),vr.init(t,e)}),oye=oe("ZodXID",(t,e)=>{fge.init(t,e),vr.init(t,e)}),lye=oe("ZodKSUID",(t,e)=>{pge.init(t,e),vr.init(t,e)}),cye=oe("ZodIPv4",(t,e)=>{xge.init(t,e),vr.init(t,e)}),uye=oe("ZodIPv6",(t,e)=>{bge.init(t,e),vr.init(t,e)}),dye=oe("ZodCIDRv4",(t,e)=>{wge.init(t,e),vr.init(t,e)}),hye=oe("ZodCIDRv6",(t,e)=>{_ge.init(t,e),vr.init(t,e)}),fye=oe("ZodBase64",(t,e)=>{Sge.init(t,e),vr.init(t,e)}),pye=oe("ZodBase64URL",(t,e)=>{Age.init(t,e),vr.init(t,e)}),mye=oe("ZodE164",(t,e)=>{Ege.init(t,e),vr.init(t,e)}),gye=oe("ZodJWT",(t,e)=>{Nge.init(t,e),vr.init(t,e)}),vye=oe("ZodBoolean",(t,e)=>{Pge.init(t,e),dn.init(t,e)});function k9(t){return wve(vye,t)}const yye=oe("ZodUnknown",(t,e)=>{Tge.init(t,e),dn.init(t,e)});function k4(){return _ve(yye)}const xye=oe("ZodNever",(t,e)=>{kge.init(t,e),dn.init(t,e)});function bye(t){return Sve(xye,t)}const wye=oe("ZodArray",(t,e)=>{Oge.init(t,e),dn.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(fj(r,n)),t.nonempty=r=>t.check(fj(1,r)),t.max=(r,n)=>t.check(N9(r,n)),t.length=(r,n)=>t.check(P9(r,n)),t.unwrap=()=>t.element});function _ye(t,e){return Dve(wye,t,e)}const Sye=oe("ZodObject",(t,e)=>{Mge.init(t,e),dn.init(t,e),Kt(t,"shape",()=>e.shape),t.keyof=()=>Nye(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:k4()}),t.loose=()=>t.clone({...t._zod.def,catchall:k4()}),t.strict=()=>t.clone({...t._zod.def,catchall:bye()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>dme(t,r),t.merge=r=>hme(t,r),t.pick=r=>cme(t,r),t.omit=r=>ume(t,r),t.partial=(...r)=>fme(O9,t,r[0]),t.required=(...r)=>pme(M9,t,r[0])});function TR(t,e){const r={type:"object",get shape(){return gp(this,"shape",t?sme(t):{}),this.shape},...Ve(e)};return new Sye(r)}const jye=oe("ZodUnion",(t,e)=>{Dge.init(t,e),dn.init(t,e),t.options=e.options});function Aye(t,e){return new jye({type:"union",options:t,...Ve(e)})}const Eye=oe("ZodIntersection",(t,e)=>{Rge.init(t,e),dn.init(t,e)});function Cye(t,e){return new Eye({type:"intersection",left:t,right:e})}const Ak=oe("ZodEnum",(t,e)=>{Ige.init(t,e),dn.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{const s={};for(const a of n)if(r.has(a))s[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Ak({...e,checks:[],...Ve(i),entries:s})},t.exclude=(n,i)=>{const s={...e.entries};for(const a of n)if(r.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new Ak({...e,checks:[],...Ve(i),entries:s})}});function Nye(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new Ak({type:"enum",entries:r,...Ve(e)})}const Pye=oe("ZodTransform",(t,e)=>{$ge.init(t,e),dn.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=s=>{if(typeof s=="string")r.issues.push(bb(s,r.value,e));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),r.issues.push(bb(a))}};const i=e.transform(r.value,r);return i instanceof Promise?i.then(s=>(r.value=s,r)):(r.value=i,r)}});function Tye(t){return new Pye({type:"transform",transform:t})}const O9=oe("ZodOptional",(t,e)=>{Lge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function O4(t){return new O9({type:"optional",innerType:t})}const kye=oe("ZodNullable",(t,e)=>{Fge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function M4(t){return new kye({type:"nullable",innerType:t})}const Oye=oe("ZodDefault",(t,e)=>{zge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Mye(t,e){return new Oye({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const Dye=oe("ZodPrefault",(t,e)=>{Bge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Rye(t,e){return new Dye({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const M9=oe("ZodNonOptional",(t,e)=>{Uge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Iye(t,e){return new M9({type:"nonoptional",innerType:t,...Ve(e)})}const $ye=oe("ZodCatch",(t,e)=>{Hge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Lye(t,e){return new $ye({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Fye=oe("ZodPipe",(t,e)=>{Wge.init(t,e),dn.init(t,e),t.in=e.in,t.out=e.out});function D4(t,e){return new Fye({type:"pipe",in:t,out:e})}const zye=oe("ZodReadonly",(t,e)=>{Vge.init(t,e),dn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Bye(t){return new zye({type:"readonly",innerType:t})}const Uye=oe("ZodCustom",(t,e)=>{qge.init(t,e),dn.init(t,e)});function Hye(t,e={}){return Rve(Uye,t,e)}function Wye(t){return Ive(t)}const Vye=TR({email:Bi().email("Email inválido"),password:Bi().min(1,"Senha é obrigatória")}),qye=()=>{const[t,e]=j.useState("athlete"),[r,n]=j.useState(!1),i=Rd(),{signIn:s,user:a,profile:o,loading:c}=tr(),u=yk({resolver:jk(Vye),defaultValues:{email:"",password:""}});j.useEffect(()=>{if(a&&o&&!c){console.log("Redirecting user after login:",{userType:o.user_type,userId:a.id});const h=o.user_type==="athlete"?"/athlete-dashboard":"/professional-dashboard";i(h,{replace:!0})}},[a,o,c,i]);const d=async h=>{n(!0);const{error:f}=await s(h.email,h.password);f||u.reset(),n(!1)};return a&&c?l.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Carregando..."})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-6",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(hr,{to:"/",className:"inline-flex items-center gap-2 text-primary hover:text-primary-glow mb-6",children:[l.jsx(yE,{className:"w-4 h-4"}),"Voltar ao Início"]}),l.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Entrar na",l.jsx("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:" ProSport"})]}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Acesse sua conta e continue sua jornada"})]}),l.jsxs(he,{className:"shadow-card-sport",children:[l.jsx(Be,{children:l.jsxs(ao,{value:t,onValueChange:h=>e(h),children:[l.jsxs(da,{className:"grid w-full grid-cols-2",children:[l.jsxs(st,{value:"athlete",className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"w-4 h-4"}),"Atleta"]}),l.jsxs(st,{value:"professional",className:"flex items-center gap-2",children:[l.jsx(sn,{className:"w-4 h-4"}),"Profissional"]})]}),l.jsxs(at,{value:"athlete",className:"mt-6",children:[l.jsx(Le,{className:"mb-2",children:"Login de Atleta"}),l.jsx(Ye,{className:"mb-6",children:"Acesse sua conta para monitorar sua performance"})]}),l.jsxs(at,{value:"professional",className:"mt-6",children:[l.jsx(Le,{className:"mb-2",children:"Login de Profissional"}),l.jsx(Ye,{className:"mb-6",children:"Acesse sua conta para gerenciar seus atletas"})]})]})}),l.jsx(Ie,{children:l.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"email",children:"Email"}),l.jsx(se,{id:"email",type:"email",...u.register("email"),placeholder:"seu@email.com"}),u.formState.errors.email&&l.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.email.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"password",children:"Senha"}),l.jsx(se,{id:"password",type:"password",...u.register("password"),placeholder:"Sua senha"}),u.formState.errors.password&&l.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.password.message})]}),l.jsx("div",{className:"text-right",children:l.jsx(hr,{to:"#",className:"text-sm text-primary hover:underline",children:"Esqueceu a senha?"})}),l.jsx(te,{type:"submit",variant:t==="athlete"?"hero":"performance",className:"w-full",size:"lg",disabled:r,children:r?"Entrando...":"Entrar"})]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-muted-foreground",children:["Não possui uma conta?"," ",l.jsx(hr,{to:"/register",className:"text-primary hover:underline font-medium",children:"Criar conta"})]})})]})})};function Ek(t,[e,r]){return Math.min(r,Math.max(e,t))}var Gye=[" ","Enter","ArrowUp","ArrowDown"],Kye=[" ","Enter"],Kf="Select",[rC,nC,Yye]=pE(Kf),[ny,bWe]=Ci(Kf,[Yye,Zv]),iC=Zv(),[Xye,Ld]=ny(Kf),[Zye,Qye]=ny(Kf),D9=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:v}=t,g=iC(e),[x,y]=j.useState(null),[b,w]=j.useState(null),[S,_]=j.useState(!1),A=Yw(u),[E,N]=Mc({prop:n,defaultProp:i??!1,onChange:s,caller:Kf}),[T,D]=Mc({prop:a,defaultProp:o,onChange:c,caller:Kf}),O=j.useRef(null),I=x?v||!!x.closest("form"):!0,[F,$]=j.useState(new Set),B=Array.from(F).map(L=>L.props.value).join(";");return l.jsx(L8,{...g,children:l.jsxs(Xye,{required:p,scope:e,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:rl(),value:T,onValueChange:D,open:E,onOpenChange:N,dir:A,triggerPointerDownPosRef:O,disabled:f,children:[l.jsx(rC.Provider,{scope:e,children:l.jsx(Zye,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(L=>{$(P=>new Set(P).add(L))},[]),onNativeOptionRemove:j.useCallback(L=>{$(P=>{const R=new Set(P);return R.delete(L),R})},[]),children:r})}),I?l.jsxs(iG,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:L=>D(L.target.value),disabled:f,form:v,children:[T===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},B):null]})})};D9.displayName=Kf;var R9="SelectTrigger",I9=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=iC(r),a=Ld(R9,r),o=a.disabled||n,c=tt(e,a.onTriggerChange),u=nC(r),d=j.useRef("touch"),[h,f,p]=aG(g=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===a.value),b=oG(x,g,y);b!==void 0&&a.onValueChange(b.value)}),v=g=>{o||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(ID,{asChild:!0,...s,children:l.jsx(Me.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":sG(a.value)?"":void 0,...i,ref:c,onClick:ye(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:ye(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ye(i.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&Gye.includes(g.key)&&(v(),g.preventDefault())})})})});I9.displayName=R9;var $9="SelectValue",L9=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,c=Ld($9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=tt(e,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),l.jsx(Me.span,{...o,ref:h,style:{pointerEvents:"none"},children:sG(c.value)?l.jsx(l.Fragment,{children:a}):s})});L9.displayName=$9;var Jye="SelectIcon",F9=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(Me.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});F9.displayName=Jye;var exe="SelectPortal",z9=t=>l.jsx(Bw,{asChild:!0,...t});z9.displayName=exe;var Yf="SelectContent",B9=j.forwardRef((t,e)=>{const r=Ld(Yf,t.__scopeSelect),[n,i]=j.useState();if(Nr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?op.createPortal(l.jsx(U9,{scope:t.__scopeSelect,children:l.jsx(rC.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(H9,{...t,ref:e})});B9.displayName=Yf;var Sa=10,[U9,Fd]=ny(Yf),txe="SelectContentImpl",rxe=Uf("SelectContent.RemoveScroll"),H9=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x,...y}=t,b=Ld(Yf,r),[w,S]=j.useState(null),[_,A]=j.useState(null),E=tt(e,V=>S(V)),[N,T]=j.useState(null),[D,O]=j.useState(null),I=nC(r),[F,$]=j.useState(!1),B=j.useRef(!1);j.useEffect(()=>{if(w)return VD(w)},[w]),WD();const L=j.useCallback(V=>{const[H,...Q]=I().map(W=>W.ref.current),[ie]=Q.slice(-1),ae=document.activeElement;for(const W of V)if(W===ae||(W==null||W.scrollIntoView({block:"nearest"}),W===H&&_&&(_.scrollTop=0),W===ie&&_&&(_.scrollTop=_.scrollHeight),W==null||W.focus(),document.activeElement!==ae))return},[I,_]),P=j.useCallback(()=>L([N,w]),[L,N,w]);j.useEffect(()=>{F&&P()},[F,P]);const{onOpenChange:R,triggerPointerDownPosRef:U}=b;j.useEffect(()=>{if(w){let V={x:0,y:0};const H=ie=>{var ae,W;V={x:Math.abs(Math.round(ie.pageX)-(((ae=U.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((W=U.current)==null?void 0:W.y)??0))}},Q=ie=>{V.x<=10&&V.y<=10?ie.preventDefault():w.contains(ie.target)||R(!1),document.removeEventListener("pointermove",H),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,R,U]),j.useEffect(()=>{const V=()=>R(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[R]);const[Y,J]=aG(V=>{const H=I().filter(ae=>!ae.disabled),Q=H.find(ae=>ae.ref.current===document.activeElement),ie=oG(H,V,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),X=j.useCallback((V,H,Q)=>{const ie=!B.current&&!Q;(b.value!==void 0&&b.value===H||ie)&&(T(V),ie&&(B.current=!0))},[b.value]),ee=j.useCallback(()=>w==null?void 0:w.focus(),[w]),ue=j.useCallback((V,H,Q)=>{const ie=!B.current&&!Q;(b.value!==void 0&&b.value===H||ie)&&O(V)},[b.value]),we=n==="popper"?Ck:W9,je=we===Ck?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(U9,{scope:r,content:w,viewport:_,onViewportChange:A,itemRefCallback:X,selectedItem:N,onItemLeave:ee,itemTextRefCallback:ue,focusSelectedItem:P,selectedItemText:D,position:n,isPositioned:F,searchRef:Y,children:l.jsx(PE,{as:rxe,allowPinchZoom:!0,children:l.jsx(CE,{asChild:!0,trapped:b.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:ye(i,V=>{var H;(H=b.trigger)==null||H.focus({preventScroll:!0}),V.preventDefault()}),children:l.jsx(qv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(we,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:V=>V.preventDefault(),...y,...je,onPlaced:()=>$(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,V=>{const H=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!H&&V.key.length===1&&J(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ie=I().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ae=V.target,W=ie.indexOf(ae);ie=ie.slice(W+1)}setTimeout(()=>L(ie)),V.preventDefault()}})})})})})})});H9.displayName=txe;var nxe="SelectItemAlignedPosition",W9=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Ld(Yf,r),a=Fd(Yf,r),[o,c]=j.useState(null),[u,d]=j.useState(null),h=tt(e,E=>d(E)),f=nC(r),p=j.useRef(!1),v=j.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=a,w=j.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&g&&x&&y){const E=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=s.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(s.dir!=="rtl"){const ae=D.left-N.left,W=T.left-ae,me=E.left-W,Ae=E.width+me,Oe=Math.max(Ae,N.width),Fe=window.innerWidth-Sa,rt=Ek(W,[Sa,Math.max(Sa,Fe-Oe)]);o.style.minWidth=Ae+"px",o.style.left=rt+"px"}else{const ae=N.right-D.right,W=window.innerWidth-T.right-ae,me=window.innerWidth-E.right-W,Ae=E.width+me,Oe=Math.max(Ae,N.width),Fe=window.innerWidth-Sa,rt=Ek(W,[Sa,Math.max(Sa,Fe-Oe)]);o.style.minWidth=Ae+"px",o.style.right=rt+"px"}const O=f(),I=window.innerHeight-Sa*2,F=g.scrollHeight,$=window.getComputedStyle(u),B=parseInt($.borderTopWidth,10),L=parseInt($.paddingTop,10),P=parseInt($.borderBottomWidth,10),R=parseInt($.paddingBottom,10),U=B+L+F+R+P,Y=Math.min(x.offsetHeight*5,U),J=window.getComputedStyle(g),X=parseInt(J.paddingTop,10),ee=parseInt(J.paddingBottom,10),ue=E.top+E.height/2-Sa,we=I-ue,je=x.offsetHeight/2,V=x.offsetTop+je,H=B+L+V,Q=U-H;if(H<=ue){const ae=O.length>0&&x===O[O.length-1].ref.current;o.style.bottom="0px";const W=u.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(we,je+(ae?ee:0)+W+P),Ae=H+me;o.style.height=Ae+"px"}else{const ae=O.length>0&&x===O[0].ref.current;o.style.top="0px";const me=Math.max(ue,B+g.offsetTop+(ae?X:0)+je)+Q;o.style.height=me+"px",g.scrollTop=H-ue+g.offsetTop}o.style.margin=`${Sa}px 0`,o.style.minHeight=Y+"px",o.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,o,u,g,x,y,s.dir,n]);Nr(()=>w(),[w]);const[S,_]=j.useState();Nr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const A=j.useCallback(E=>{E&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return l.jsx(sxe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Me.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});W9.displayName=nxe;var ixe="SelectPopperPosition",Ck=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Sa,...s}=t,a=iC(r);return l.jsx($D,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ck.displayName=ixe;var[sxe,kR]=ny(Yf,{}),Nk="SelectViewport",V9=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Fd(Nk,r),a=kR(Nk,r),o=tt(e,s.onViewportChange),c=j.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(rC.Slot,{scope:r,children:l.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-Sa*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(g,x);if(y<v){const b=y+p,w=Math.min(v,b),S=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});V9.displayName=Nk;var q9="SelectGroup",[axe,oxe]=ny(q9),lxe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=rl();return l.jsx(axe,{scope:r,id:i,children:l.jsx(Me.div,{role:"group","aria-labelledby":i,...n,ref:e})})});lxe.displayName=q9;var G9="SelectLabel",K9=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=oxe(G9,r);return l.jsx(Me.div,{id:i.id,...n,ref:e})});K9.displayName=G9;var pj="SelectItem",[cxe,Y9]=ny(pj),X9=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=Ld(pj,r),c=Fd(pj,r),u=o.value===n,[d,h]=j.useState(s??""),[f,p]=j.useState(!1),v=tt(e,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,i)}),g=rl(),x=j.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(cxe,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:j.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(rC.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:ye(a.onFocus,()=>p(!0)),onBlur:ye(a.onBlur,()=>p(!1)),onClick:ye(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ye(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ye(a.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:ye(a.onPointerMove,b=>{var w;x.current=b.pointerType,i?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ye(a.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Kye.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});X9.displayName=pj;var rx="SelectItemText",Z9=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=Ld(rx,r),o=Fd(rx,r),c=Y9(rx,r),u=Qye(rx,r),[d,h]=j.useState(null),f=tt(e,y=>h(y),c.onItemTextChange,y=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=j.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Nr(()=>(g(v),()=>x(v)),[g,x,v]),l.jsxs(l.Fragment,{children:[l.jsx(Me.span,{id:c.textId,...s,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?op.createPortal(s.children,a.valueNode):null]})});Z9.displayName=rx;var Q9="SelectItemIndicator",J9=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Y9(Q9,r).isSelected?l.jsx(Me.span,{"aria-hidden":!0,...n,ref:e}):null});J9.displayName=Q9;var Pk="SelectScrollUpButton",eG=j.forwardRef((t,e)=>{const r=Fd(Pk,t.__scopeSelect),n=kR(Pk,t.__scopeSelect),[i,s]=j.useState(!1),a=tt(e,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(rG,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});eG.displayName=Pk;var Tk="SelectScrollDownButton",tG=j.forwardRef((t,e)=>{const r=Fd(Tk,t.__scopeSelect),n=kR(Tk,t.__scopeSelect),[i,s]=j.useState(!1),a=tt(e,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(rG,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});tG.displayName=Tk;var rG=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Fd("SelectScrollButton",r),a=j.useRef(null),o=nC(r),c=j.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ye(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{c()})})}),uxe="SelectSeparator",nG=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Me.div,{"aria-hidden":!0,...n,ref:e})});nG.displayName=uxe;var kk="SelectArrow",dxe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=iC(r),s=Ld(kk,r),a=Fd(kk,r);return s.open&&a.position==="popper"?l.jsx(LD,{...i,...n,ref:e}):null});dxe.displayName=kk;var hxe="SelectBubbleInput",iG=j.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=j.useRef(null),s=tt(n,i),a=uR(e);return j.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),l.jsx(Me.select,{...r,style:{...OH,...r.style},ref:s,defaultValue:e})});iG.displayName=hxe;function sG(t){return t===""||t===void 0}function aG(t){const e=_r(t),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(a=>{const o=r.current+a;e(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function oG(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=fxe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function fxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var pxe=D9,lG=I9,mxe=L9,gxe=F9,vxe=z9,cG=B9,yxe=V9,uG=K9,dG=X9,xxe=Z9,bxe=J9,hG=eG,fG=tG,pG=nG;const ft=pxe,pt=mxe,ct=j.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(lG,{ref:n,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(gxe,{asChild:!0,children:l.jsx(t8,{className:"h-4 w-4 opacity-50"})})]}));ct.displayName=lG.displayName;const mG=j.forwardRef(({className:t,...e},r)=>l.jsx(hG,{ref:r,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(jre,{className:"h-4 w-4"})}));mG.displayName=hG.displayName;const gG=j.forwardRef(({className:t,...e},r)=>l.jsx(fG,{ref:r,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(t8,{className:"h-4 w-4"})}));gG.displayName=fG.displayName;const ut=j.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(vxe,{children:l.jsxs(cG,{ref:i,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(mG,{}),l.jsx(yxe,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(gG,{})]})}));ut.displayName=cG.displayName;const wxe=j.forwardRef(({className:t,...e},r)=>l.jsx(uG,{ref:r,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));wxe.displayName=uG.displayName;const ne=j.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(dG,{ref:n,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(bxe,{children:l.jsx(rv,{className:"h-4 w-4"})})}),l.jsx(xxe,{children:e})]}));ne.displayName=dG.displayName;const _xe=j.forwardRef(({className:t,...e},r)=>l.jsx(pG,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));_xe.displayName=pG.displayName;var sC="Checkbox",[Sxe,wWe]=Ci(sC),[jxe,OR]=Sxe(sC);function Axe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[f,p]=Mc({prop:r,defaultProp:i??!1,onChange:c,caller:sC}),[v,g]=j.useState(null),[x,y]=j.useState(null),b=j.useRef(!1),w=v?!!a||!!v.closest("form"):!0,S={checked:f,disabled:s,setChecked:p,control:v,setControl:g,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:wd(i)?!1:i,isFormControl:w,bubbleInput:x,setBubbleInput:y};return l.jsx(jxe,{scope:e,...S,children:Exe(h)?h(S):n})}var vG="CheckboxTrigger",yG=j.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:v}=OR(vG,t),g=tt(i,d),x=j.useRef(c);return j.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>h(x.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,h]),l.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":wd(c)?"mixed":c,"aria-required":u,"data-state":SG(c),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:g,onKeyDown:ye(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ye(r,y=>{h(b=>wd(b)?!0:!b),v&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});yG.displayName=vG;var MR=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...h}=t;return l.jsx(Axe,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(yG,{...h,ref:e,__scopeCheckbox:r}),f&&l.jsx(_G,{__scopeCheckbox:r})]})})});MR.displayName=sC;var xG="CheckboxIndicator",bG=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=OR(xG,r);return l.jsx(ai,{present:n||wd(s.checked)||s.checked===!0,children:l.jsx(Me.span,{"data-state":SG(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});bG.displayName=xG;var wG="CheckboxBubbleInput",_G=j.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=OR(wG,t),v=tt(r,p),g=uR(s),x=MD(n);j.useEffect(()=>{const b=f;if(!b)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,A=!i.current;if(g!==s&&_){const E=new Event("click",{bubbles:A});b.indeterminate=wd(s),_.call(b,wd(s)?!1:s),b.dispatchEvent(E)}},[f,g,s,i]);const y=j.useRef(wd(s)?!1:s);return l.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:o,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:v,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_G.displayName=wG;function Exe(t){return typeof t=="function"}function wd(t){return t==="indeterminate"}function SG(t){return wd(t)?"indeterminate":t?"checked":"unchecked"}const mj=j.forwardRef(({className:t,...e},r)=>l.jsx(MR,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(bG,{className:De("flex items-center justify-center text-current"),children:l.jsx(rv,{className:"h-4 w-4"})})}));mj.displayName=MR.displayName;const Cxe=TR({name:Bi().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Bi().email("Email inválido"),password:Bi().min(6,"Senha deve ter pelo menos 6 caracteres"),birthDate:Bi().min(1,"Data de nascimento é obrigatória"),sport:Bi().min(1,"Modalidade é obrigatória"),level:Bi().min(1,"Nível é obrigatório"),terms:k9().refine(t=>t===!0,"É necessário aceitar os termos")}),Nxe=TR({name:Bi().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Bi().email("Email inválido"),password:Bi().min(6,"Senha deve ter pelo menos 6 caracteres"),profession:Bi().min(1,"Profissão é obrigatória"),specialization:Bi().min(1,"Especialização é obrigatória"),license:Bi().min(1,"Registro profissional é obrigatório"),terms:k9().refine(t=>t===!0,"É necessário aceitar os termos")}),Pxe=()=>{const[t]=doe(),e=t.get("tab"),[r,n]=j.useState(e==="professional"?"professional":"athlete"),[i,s]=j.useState(!1),a=Rd(),{signUp:o,user:c,profile:u}=tr(),d=yk({resolver:jk(Cxe)}),h=yk({resolver:jk(Nxe)});j.useEffect(()=>{c&&u&&(u.user_type==="athlete"?a("/athlete-dashboard"):u.user_type==="professional"&&a("/professional-dashboard"))},[c,u,a]);const f=async y=>{s(!0);const{error:b}=await o(y.email,y.password,y.name,"athlete");s(!1)},p=async y=>{s(!0);const{error:b}=await o(y.email,y.password,y.name,"professional");s(!1)},v=["Futebol","Basquete","Vôlei","Tênis","Natação","Atletismo","Ciclismo","Corrida","Musculação","Crossfit","Outros"],g=["Iniciante","Intermediário","Avançado","Competitivo","Profissional"],x=["Nutricionista","Fisioterapeuta","Educador Físico","Médico do Esporte","Psicólogo do Esporte","Treinador","Preparador Físico"];return l.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-6",children:l.jsxs("div",{className:"w-full max-w-4xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(hr,{to:"/",className:"inline-flex items-center gap-2 text-primary hover:text-primary-glow mb-6",children:[l.jsx(yE,{className:"w-4 h-4"}),"Voltar ao Início"]}),l.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Criar Conta na",l.jsx("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:" ProSport"})]}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Escolha o tipo de conta para começar sua jornada"})]}),l.jsx(he,{className:"shadow-card-sport",children:l.jsx(Be,{children:l.jsxs(ao,{value:r,onValueChange:y=>n(y),children:[l.jsxs(da,{className:"grid w-full grid-cols-2",children:[l.jsxs(st,{value:"athlete",className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"w-4 h-4"}),"Sou Atleta"]}),l.jsxs(st,{value:"professional",className:"flex items-center gap-2",children:[l.jsx(sn,{className:"w-4 h-4"}),"Sou Profissional"]})]}),l.jsxs(at,{value:"athlete",className:"mt-6",children:[l.jsx(Le,{className:"mb-2",children:"Cadastro de Atleta"}),l.jsx(Ye,{className:"mb-6",children:"Crie sua conta para monitorar sua performance e conectar-se com profissionais"}),l.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"athlete-name",children:"Nome Completo"}),l.jsx(se,{id:"athlete-name",...d.register("name"),placeholder:"Seu nome completo"}),d.formState.errors.name&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.name.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"athlete-email",children:"Email"}),l.jsx(se,{id:"athlete-email",type:"email",...d.register("email"),placeholder:"seu@email.com"}),d.formState.errors.email&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.email.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"athlete-password",children:"Senha"}),l.jsx(se,{id:"athlete-password",type:"password",...d.register("password"),placeholder:"Mínimo 6 caracteres"}),d.formState.errors.password&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.password.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"athlete-birthDate",children:"Data de Nascimento"}),l.jsx(se,{id:"athlete-birthDate",type:"date",...d.register("birthDate")}),d.formState.errors.birthDate&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.birthDate.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Modalidade Principal"}),l.jsx(Py,{name:"sport",control:d.control,render:({field:y})=>l.jsxs(ft,{onValueChange:y.onChange,value:y.value,children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione sua modalidade"})}),l.jsx(ut,{children:v.map(b=>l.jsx(ne,{value:b,children:b},b))})]})}),d.formState.errors.sport&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.sport.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Nível"}),l.jsx(Py,{name:"level",control:d.control,render:({field:y})=>l.jsxs(ft,{onValueChange:y.onChange,value:y.value,children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione seu nível"})}),l.jsx(ut,{children:g.map(b=>l.jsx(ne,{value:b,children:b},b))})]})}),d.formState.errors.level&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.level.message})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Py,{name:"terms",control:d.control,render:({field:y})=>l.jsx(mj,{id:"athlete-terms",checked:y.value,onCheckedChange:y.onChange})}),l.jsxs(G,{htmlFor:"athlete-terms",className:"text-sm",children:["Aceito os ",l.jsx(hr,{to:"#",className:"text-primary hover:underline",children:"termos de uso"})," e",l.jsx(hr,{to:"#",className:"text-primary hover:underline",children:" política de privacidade"})]})]}),d.formState.errors.terms&&l.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.terms.message}),l.jsx(te,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:i,children:i?"Criando conta...":"Criar Conta de Atleta"})]})]}),l.jsxs(at,{value:"professional",className:"mt-6",children:[l.jsx(Le,{className:"mb-2",children:"Cadastro de Profissional"}),l.jsx(Ye,{className:"mb-6",children:"Crie sua conta para gerenciar atletas e oferecer seus serviços especializados"}),l.jsxs("form",{onSubmit:h.handleSubmit(p),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"prof-name",children:"Nome Completo"}),l.jsx(se,{id:"prof-name",...h.register("name"),placeholder:"Seu nome completo"}),h.formState.errors.name&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.name.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"prof-email",children:"Email"}),l.jsx(se,{id:"prof-email",type:"email",...h.register("email"),placeholder:"seu@email.com"}),h.formState.errors.email&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.email.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"prof-password",children:"Senha"}),l.jsx(se,{id:"prof-password",type:"password",...h.register("password"),placeholder:"Mínimo 6 caracteres"}),h.formState.errors.password&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.password.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Profissão"}),l.jsx(Py,{name:"profession",control:h.control,render:({field:y})=>l.jsxs(ft,{onValueChange:y.onChange,value:y.value,children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione sua profissão"})}),l.jsx(ut,{children:x.map(b=>l.jsx(ne,{value:b,children:b},b))})]})}),h.formState.errors.profession&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.profession.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"prof-specialization",children:"Especialização"}),l.jsx(se,{id:"prof-specialization",...h.register("specialization"),placeholder:"Ex: Nutrição Esportiva, Reabilitação..."}),h.formState.errors.specialization&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.specialization.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"prof-license",children:"Registro Profissional"}),l.jsx(se,{id:"prof-license",...h.register("license"),placeholder:"CRN, CREF, CRM, etc."}),h.formState.errors.license&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.license.message})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Py,{name:"terms",control:h.control,render:({field:y})=>l.jsx(mj,{id:"prof-terms",checked:y.value,onCheckedChange:y.onChange})}),l.jsxs(G,{htmlFor:"prof-terms",className:"text-sm",children:["Aceito os ",l.jsx(hr,{to:"#",className:"text-primary hover:underline",children:"termos de uso"})," e",l.jsx(hr,{to:"#",className:"text-primary hover:underline",children:" política de privacidade"})]})]}),h.formState.errors.terms&&l.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.terms.message}),l.jsx(te,{type:"submit",variant:"performance",className:"w-full",size:"lg",disabled:i,children:i?"Criando conta...":"Criar Conta de Profissional"})]})]})]})})}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-muted-foreground",children:["Já possui uma conta?"," ",l.jsx(hr,{to:"/login",className:"text-primary hover:underline font-medium",children:"Fazer login"})]})})]})})};var DR="Progress",RR=100,[Txe,_We]=Ci(DR),[kxe,Oxe]=Txe(DR),jG=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Mxe,...a}=t;(i||i===0)&&!R4(i)&&console.error(Dxe(`${i}`,"Progress"));const o=R4(i)?i:RR;n!==null&&!I4(n,o)&&console.error(Rxe(`${n}`,"Progress"));const c=I4(n,o)?n:null,u=gj(c)?s(c,o):void 0;return l.jsx(kxe,{scope:r,value:c,max:o,children:l.jsx(Me.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":gj(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":CG(c,o),"data-value":c??void 0,"data-max":o,...a,ref:e})})});jG.displayName=DR;var AG="ProgressIndicator",EG=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Oxe(AG,r);return l.jsx(Me.div,{"data-state":CG(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});EG.displayName=AG;function Mxe(t,e){return`${Math.round(t/e*100)}%`}function CG(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gj(t){return typeof t=="number"}function R4(t){return gj(t)&&!isNaN(t)&&t>0}function I4(t,e){return gj(t)&&!isNaN(t)&&t<=e&&t>=0}function Dxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RR}\`.`}function Rxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var NG=jG,Ixe=EG;const Xo=j.forwardRef(({className:t,value:e,...r},n)=>l.jsx(NG,{ref:n,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:l.jsx(Ixe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Xo.displayName=NG.displayName;const Se=j.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Se.displayName="Textarea";const fi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ok=[.001,0,0,.001,0,0],sP=1.35,ps={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},uu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},PG="pdfjs_internal_editor_",qe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},yt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},$xe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},V1={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Dr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Up={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},aC={ERRORS:0,WARNINGS:1,INFOS:5},vj={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},t1={moveTo:0,lineTo:1,curveTo:2,closePath:3},Lxe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let oC=aC.WARNINGS;function Fxe(t){Number.isInteger(t)&&(oC=t)}function zxe(){return oC}function lC(t){oC>=aC.INFOS&&console.log(`Info: ${t}`)}function Ge(t){oC>=aC.WARNINGS&&console.log(`Warning: ${t}`)}function Lt(t){throw new Error(t)}function Ur(t,e){t||Lt(e)}function Bxe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function TG(t,e=null,r=null){if(!t)return null;if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=qxe(t)}catch{}}const n=e?URL.parse(t,e):URL.parse(t);return Bxe(n)?n:null}function kG(t,e,r=!1){const n=URL.parse(t);return n?(n.hash=e,n.href):r&&TG(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function dt(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const yp=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class $4 extends yp{constructor(e,r){super(e,"PasswordException"),this.code=r}}class aP extends yp{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class Mk extends yp{constructor(e){super(e,"InvalidPDFException")}}class yj extends yp{constructor(e,r,n){super(e,"ResponseException"),this.status=r,this.missing=n}}class Uxe extends yp{constructor(e){super(e,"FormatError")}}class Cd extends yp{constructor(e){super(e,"AbortException")}}function OG(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Lt("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const s=Math.min(i+r,e),a=t.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function t_(t){typeof t!="string"&&Lt("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function Hxe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Wxe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Vxe(){try{return new Function(""),!0}catch{return!1}}class zn{static get isLittleEndian(){return dt(this,"isLittleEndian",Wxe())}static get isEvalSupported(){return dt(this,"isEvalSupported",Vxe())}static get isOffscreenCanvasSupported(){return dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return dt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:r}=navigator;return dt(this,"platform",{isAndroid:r.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:r.includes("Firefox")})}static get isCSSRoundSupported(){var e,r;return dt(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const oP=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Cc,q1,Dk;class $e{static makeHexColor(e,r,n){return`#${oP[e]}${oP[r]}${oP[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r,n=0){const i=e[n],s=e[n+1];e[n]=i*r[0]+s*r[2]+r[4],e[n+1]=i*r[1]+s*r[3]+r[5]}static applyTransformToBezier(e,r,n=0){const i=r[0],s=r[1],a=r[2],o=r[3],c=r[4],u=r[5];for(let d=0;d<6;d+=2){const h=e[n+d],f=e[n+d+1];e[n+d]=h*i+f*a+c,e[n+d+1]=h*s+f*o+u}}static applyInverseTransform(e,r){const n=e[0],i=e[1],s=r[0]*r[3]-r[1]*r[2];e[0]=(n*r[3]-i*r[2]+r[2]*r[5]-r[4]*r[3])/s,e[1]=(-n*r[1]+i*r[0]+r[4]*r[1]-r[5]*r[0])/s}static axialAlignedBoundingBox(e,r,n){const i=r[0],s=r[1],a=r[2],o=r[3],c=r[4],u=r[5],d=e[0],h=e[1],f=e[2],p=e[3];let v=i*d+c,g=v,x=i*f+c,y=x,b=o*h+u,w=b,S=o*p+u,_=S;if(s!==0||a!==0){const A=s*d,E=s*f,N=a*h,T=a*p;v+=N,y+=N,x+=T,g+=T,b+=A,_+=A,S+=E,w+=E}n[0]=Math.min(n[0],v,x,g,y),n[1]=Math.min(n[1],b,S,w,_),n[2]=Math.max(n[2],v,x,g,y),n[3]=Math.max(n[3],b,S,w,_)}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e,r){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,c=n*s+i*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-c**2));r[0]=Math.sqrt(d+h||1),r[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,r,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],r),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],r)}static rectBoundingBox(e,r,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],r,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],r,i)}static bezierBoundingBox(e,r,n,i,s,a,o,c,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],r,c),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],r,c),M(this,Cc,Dk).call(this,e,n,s,o,r,i,a,c,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),u),M(this,Cc,Dk).call(this,e,n,s,o,r,i,a,c,3*(-r+3*(i-a)+c),6*(r-2*i+a),3*(i-r),u)}}Cc=new WeakSet,q1=function(e,r,n,i,s,a,o,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,v=h*(h*(h*e+3*u*r)+3*f*n)+p*i,g=h*(h*(h*s+3*u*a)+3*f*o)+p*c;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],g)},Dk=function(e,r,n,i,s,a,o,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&M(this,Cc,q1).call(this,e,r,n,i,s,a,o,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const v=Math.sqrt(p),g=2*u;M(this,Cc,q1).call(this,e,r,n,i,s,a,o,c,(-d+v)/g,f),M(this,Cc,q1).call(this,e,r,n,i,s,a,o,c,(-d-v)/g,f)},k($e,Cc);function qxe(t){return decodeURIComponent(escape(t))}let lP=null,L4=null;function Gxe(t){return lP||(lP=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,L4=new Map([["ﬅ","ſt"]])),t.replaceAll(lP,(e,r,n)=>r?r.normalize("NFKC"):L4.get(n))}function MG(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),OG(t)}const IR="pdfjs_internal_id_";function Kxe(t,e,r){if(!Array.isArray(r)||r.length<2)return!1;const[n,i,...s]=r;if(!t(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||o&&c===null))return!1;return!0}function pi(t,e,r){return Math.min(Math.max(t,e),r)}function DG(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(OG(t))}function Yxe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):t_(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(r=>{r(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,r)=>e+r,0)});const El="http://www.w3.org/2000/svg",oh=class oh{};de(oh,"CSS",96),de(oh,"PDF",72),de(oh,"PDF_TO_CSS_UNITS",oh.CSS/oh.PDF);let Nd=oh;async function r_(t,e="text"){if(nx(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class n_{constructor({viewBox:e,userUnit:r,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=r,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=r;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let v,g,x,y;d===0?(v=Math.abs(u-e[1])*n+s,g=Math.abs(c-e[0])*n+a,x=(e[3]-e[1])*n,y=(e[2]-e[0])*n):(v=Math.abs(c-e[0])*n+s,g=Math.abs(u-e[1])*n+a,x=(e[2]-e[0])*n,y=(e[3]-e[1])*n),this.transform=[d*n,h*n,f*n,p*n,v-d*n*c-f*n*u,g-h*n*c-p*n*u],this.width=x,this.height=y}get rawDims(){const e=this.viewBox;return dt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new n_({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,r){const n=[e,r];return $e.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const r=[e[0],e[1]];$e.applyTransform(r,this.transform);const n=[e[2],e[3]];return $e.applyTransform(n,this.transform),[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){const n=[e,r];return $e.applyInverseTransform(n,this.transform),n}}class $R extends yp{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function cC(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function LR(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Xxe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Zxe(t,e="document.pdf"){if(typeof t!="string")return e;if(cC(t))return Ge('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!n)return e;const i=o=>{try{let c=decodeURIComponent(o);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:o):c}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const u of o)if(s.test(u))return i(u);const c=Array.from(n.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return i(u)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return i(c[0])}return e}class F4{constructor(){de(this,"started",Object.create(null));de(this,"times",[])}time(e){e in this.started&&Ge(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ge(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(r)} ${s-i}ms
`);return e.join("")}}function nx(t,e){const r=e?URL.parse(t,e):URL.parse(t);return(r==null?void 0:r.protocol)==="http:"||(r==null?void 0:r.protocol)==="https:"}function ca(t){t.preventDefault()}function Fr(t){t.preventDefault(),t.stopPropagation()}function Qxe(t){console.log("Deprecated API usage: "+t)}var o0;class xj{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;m(this,o0)||C(this,o0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=m(this,o0).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(r[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(r[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(r[6],10);c=c>=0&&c<=59?c:0;const u=r[7]||"Z";let d=parseInt(r[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(r[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(n,i,s,a,o,c))}}o0=new WeakMap,k(xj,o0);function Jxe(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new n_({viewBox:s,userUnit:1,scale:e,rotation:r})}function uC(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ge(`Not a valid color format: "${t}"`),[0,0,0])}function ebe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,uC(n))}e.remove()}function dr(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform();return[e,r,n,i,s,a]}function fo(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,r,n,i,s,a]}function Xf(t,e,r=!1,n=!0){if(e instanceof n_){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=zn.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!r||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}n&&t.setAttribute("data-main-rotation",e.rotation)}class ul{constructor(){const{pixelRatio:e}=ul;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,r,n,i,s=-1){let a=1/0,o=1/0,c=1/0;n=ul.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*r))),i!==-1&&(o=i/e,c=i/r);const u=Math.min(a,o,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,r){if(r>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+r/100));return e>0?Math.min(e,n):n}return e}}const Rk=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var vu,yu,Ls,Il,l0,zm,Bm,c0,OA,RG,$n,IG,$G,Hp,ix;const Ol=class Ol{constructor(e){k(this,$n);k(this,vu,null);k(this,yu,null);k(this,Ls);k(this,Il,null);k(this,l0,null);k(this,zm,null);k(this,Bm,null);C(this,Ls,e),m(Ol,c0)||C(Ol,c0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=C(this,vu,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=m(this,Ls)._uiManager._signal;e.addEventListener("contextmenu",ca,{signal:r}),e.addEventListener("pointerdown",M(Ol,OA,RG),{signal:r});const n=C(this,Il,document.createElement("div"));n.className="buttons",e.append(n);const i=m(this,Ls).toolbarPosition;if(i){const{style:s}=e,a=m(this,Ls)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return m(this,vu)}hide(){var e;m(this,vu).classList.add("hidden"),(e=m(this,yu))==null||e.hideDropdown()}show(){var e,r;m(this,vu).classList.remove("hidden"),(e=m(this,l0))==null||e.shown(),(r=m(this,zm))==null||r.shown()}addDeleteButton(){const{editorType:e,_uiManager:r}=m(this,Ls),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",m(Ol,c0)[e]),M(this,$n,Hp).call(this,n),n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),m(this,Il).append(n)}async addAltText(e){const r=await e.render();M(this,$n,Hp).call(this,r),m(this,Il).append(r,m(this,$n,ix)),C(this,l0,e)}addComment(e){if(m(this,zm))return;const r=e.render();r&&(M(this,$n,Hp).call(this,r),m(this,Il).prepend(r,m(this,$n,ix)),C(this,zm,e),e.toolbar=this)}addColorPicker(e){if(m(this,yu))return;C(this,yu,e);const r=e.renderButton();M(this,$n,Hp).call(this,r),m(this,Il).append(r,m(this,$n,ix))}async addEditSignatureButton(e){const r=C(this,Bm,await e.renderEditButton(m(this,Ls)));M(this,$n,Hp).call(this,r),m(this,Il).append(r,m(this,$n,ix))}async addButton(e,r){switch(e){case"colorPicker":this.addColorPicker(r);break;case"altText":await this.addAltText(r);break;case"editSignature":await this.addEditSignatureButton(r);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(r);break}}updateEditSignatureButton(e){m(this,Bm)&&(m(this,Bm).title=e)}remove(){var e;m(this,vu).remove(),(e=m(this,yu))==null||e.destroy(),C(this,yu,null)}};vu=new WeakMap,yu=new WeakMap,Ls=new WeakMap,Il=new WeakMap,l0=new WeakMap,zm=new WeakMap,Bm=new WeakMap,c0=new WeakMap,OA=new WeakSet,RG=function(e){e.stopPropagation()},$n=new WeakSet,IG=function(e){m(this,Ls)._focusEventsAllowed=!1,Fr(e)},$G=function(e){m(this,Ls)._focusEventsAllowed=!0,Fr(e)},Hp=function(e){const r=m(this,Ls)._uiManager._signal;e.addEventListener("focusin",M(this,$n,IG).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",M(this,$n,$G).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",ca,{signal:r})},ix=function(){const e=document.createElement("div");return e.className="divider",e},k(Ol,OA),k(Ol,c0,null);let Ik=Ol;var u0,Eh,Ch,Pd,LG,FG,zG;class tbe{constructor(e){k(this,Pd);k(this,u0,null);k(this,Eh,null);k(this,Ch);C(this,Ch,e)}show(e,r,n){const[i,s]=M(this,Pd,FG).call(this,r,n),{style:a}=m(this,Eh)||C(this,Eh,M(this,Pd,LG).call(this));e.append(m(this,Eh)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Eh).remove()}}u0=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,Pd=new WeakSet,LG=function(){const e=C(this,Eh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ca,{signal:m(this,Ch)._signal});const r=C(this,u0,document.createElement("div"));return r.className="buttons",e.append(r),M(this,Pd,zG).call(this),e},FG=function(e,r){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(r?s.width:0);if(a>n){i=o,n=a;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},zG=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=m(this,Ch)._signal;e.addEventListener("contextmenu",ca,{signal:n}),e.addEventListener("click",()=>{m(this,Ch).highlightSelection("floating_button")},{signal:n}),m(this,u0).append(e)};function BG(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}var MA;class rbe{constructor(){k(this,MA,0)}get id(){return`${PG}${fn(this,MA)._++}`}}MA=new WeakMap;var Um,d0,Kn,Hm,G1;const m$=class m${constructor(){k(this,Hm);k(this,Um,MG());k(this,d0,0);k(this,Kn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return dt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:s}=e;return M(this,Hm,G1).call(this,`${r}_${n}_${i}_${s}`,e)}async getFromUrl(e){return M(this,Hm,G1).call(this,e,e)}async getFromBlob(e,r){const n=await r;return M(this,Hm,G1).call(this,e,n)}async getFromId(e){m(this,Kn)||C(this,Kn,new Map);const r=m(this,Kn).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){m(this,Kn)||C(this,Kn,new Map);let n=m(this,Kn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${m(this,Um)}_${fn(this,d0)._++}`,refCounter:1,isSvg:!1},m(this,Kn).set(e,n),m(this,Kn).set(n.id,n),n}getSvgUrl(e){const r=m(this,Kn).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;m(this,Kn)||C(this,Kn,new Map);const r=m(this,Kn).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,Um)}_`)}};Um=new WeakMap,d0=new WeakMap,Kn=new WeakMap,Hm=new WeakSet,G1=async function(e,r){m(this,Kn)||C(this,Kn,new Map);let n=m(this,Kn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${m(this,Um)}_${fn(this,d0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await r_(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const s=m$._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((u,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,u()},a.onload=async()=>{const h=n.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await c}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ge(i),n=null}return m(this,Kn).set(e,n),n&&m(this,Kn).set(n.id,n),n};let $k=m$;var Sr,xu,h0,ur;class nbe{constructor(e=128){k(this,Sr,[]);k(this,xu,!1);k(this,h0);k(this,ur,-1);C(this,h0,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),m(this,xu))return;const c={cmd:e,undo:r,post:n,type:s};if(m(this,ur)===-1){m(this,Sr).length>0&&(m(this,Sr).length=0),C(this,ur,0),m(this,Sr).push(c);return}if(a&&m(this,Sr)[m(this,ur)].type===s){o&&(c.undo=m(this,Sr)[m(this,ur)].undo),m(this,Sr)[m(this,ur)]=c;return}const u=m(this,ur)+1;u===m(this,h0)?m(this,Sr).splice(0,1):(C(this,ur,u),u<m(this,Sr).length&&m(this,Sr).splice(u)),m(this,Sr).push(c)}undo(){if(m(this,ur)===-1)return;C(this,xu,!0);const{undo:e,post:r}=m(this,Sr)[m(this,ur)];e(),r==null||r(),C(this,xu,!1),C(this,ur,m(this,ur)-1)}redo(){if(m(this,ur)<m(this,Sr).length-1){C(this,ur,m(this,ur)+1),C(this,xu,!0);const{cmd:e,post:r}=m(this,Sr)[m(this,ur)];e(),r==null||r(),C(this,xu,!1)}}hasSomethingToUndo(){return m(this,ur)!==-1}hasSomethingToRedo(){return m(this,ur)<m(this,Sr).length-1}cleanType(e){if(m(this,ur)!==-1){for(let r=m(this,ur);r>=0;r--)if(m(this,Sr)[r].type!==e){m(this,Sr).splice(r+1,m(this,ur)-r),C(this,ur,r);return}m(this,Sr).length=0,C(this,ur,-1)}}destroy(){C(this,Sr,null)}}Sr=new WeakMap,xu=new WeakMap,h0=new WeakMap,ur=new WeakMap;var DA,UG;class i_{constructor(e){k(this,DA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=zn.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");r&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!r&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(M(this,DA,UG).call(this,r));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...a,r)(),s||Fr(r))}}DA=new WeakSet,UG=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const RA=class RA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return ebe(e),dt(this,"_colors",e)}convert(e){const r=uC(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((s,a)=>s===r[a]))return RA._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?$e.makeHexColor(...r):e}};de(RA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Lk=RA;var Wm,Ji,tn,En,Vm,$l,qm,Fs,Nh,bu,wu,Gm,Ph,wo,Pa,Th,f0,p0,Km,m0,_o,_u,Ym,Su,So,IA,ju,g0,Au,kh,Xm,Eu,v0,pn,Nt,Ll,Cu,Nu,y0,x0,Pu,jo,Fl,b0,w0,zs,xe,K1,Fk,HG,WG,Y1,VG,qG,GG,zk,KG,Bk,Uk,YG,oi,Cl,XG,ZG,Hk,QG,sx,Wk;const hm=class hm{constructor(e,r,n,i,s,a,o,c,u,d,h,f,p,v,g,x){k(this,xe);k(this,Wm,new AbortController);k(this,Ji,null);k(this,tn,new Map);k(this,En,new Map);k(this,Vm,null);k(this,$l,null);k(this,qm,null);k(this,Fs,new nbe);k(this,Nh,null);k(this,bu,null);k(this,wu,null);k(this,Gm,0);k(this,Ph,new Set);k(this,wo,null);k(this,Pa,null);k(this,Th,new Set);de(this,"_editorUndoBar",null);k(this,f0,!1);k(this,p0,!1);k(this,Km,!1);k(this,m0,null);k(this,_o,null);k(this,_u,null);k(this,Ym,null);k(this,Su,!1);k(this,So,null);k(this,IA,new rbe);k(this,ju,!1);k(this,g0,!1);k(this,Au,null);k(this,kh,null);k(this,Xm,null);k(this,Eu,null);k(this,v0,null);k(this,pn,qe.NONE);k(this,Nt,new Set);k(this,Ll,null);k(this,Cu,null);k(this,Nu,null);k(this,y0,null);k(this,x0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,Pu,[0,0]);k(this,jo,null);k(this,Fl,null);k(this,b0,null);k(this,w0,null);k(this,zs,null);const y=this._signal=m(this,Wm).signal;C(this,Fl,e),C(this,b0,r),C(this,w0,n),C(this,Vm,i),C(this,Nh,s),C(this,Cu,a),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:y}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),o._on("setpreference",this.onSetPreference.bind(this),{signal:y}),o._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:y}),M(this,xe,VG).call(this),M(this,xe,YG).call(this),M(this,xe,zk).call(this),C(this,$l,c.annotationStorage),C(this,m0,c.filterFactory),C(this,Nu,u),C(this,Ym,d||null),C(this,f0,h),C(this,p0,f),C(this,Km,p),C(this,v0,v||null),this.viewParameters={realScale:Nd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=x!==!1}static get _keyboardManager(){const e=hm.prototype,r=a=>m(a,Fl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return dt(this,"_keyboardManager",new i_([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,Fl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,Fl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}]]))}destroy(){var e,r,n,i,s,a,o,c,u;(e=m(this,zs))==null||e.resolve(),C(this,zs,null),(r=m(this,Wm))==null||r.abort(),C(this,Wm,null),this._signal=null;for(const d of m(this,En).values())d.destroy();m(this,En).clear(),m(this,tn).clear(),m(this,Th).clear(),(n=m(this,Eu))==null||n.clear(),C(this,Ji,null),m(this,Nt).clear(),m(this,Fs).destroy(),(i=m(this,Vm))==null||i.destroy(),(s=m(this,Nh))==null||s.destroy(),(a=m(this,Cu))==null||a.destroy(),(o=m(this,So))==null||o.hide(),C(this,So,null),(c=m(this,Xm))==null||c.destroy(),C(this,Xm,null),m(this,_o)&&(clearTimeout(m(this,_o)),C(this,_o,null)),m(this,jo)&&(clearTimeout(m(this,jo)),C(this,jo,null)),(u=this._editorUndoBar)==null||u.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,v0)}get useNewAltTextFlow(){return m(this,p0)}get useNewAltTextWhenAddingImage(){return m(this,Km)}get hcmFilter(){return dt(this,"hcmFilter",m(this,Nu)?m(this,m0).addHCMFilter(m(this,Nu).foreground,m(this,Nu).background):"none")}get direction(){return dt(this,"direction",getComputedStyle(m(this,Fl)).direction)}get _highlightColors(){return dt(this,"_highlightColors",m(this,Ym)?new Map(m(this,Ym).split(",").map(e=>(e=e.split("=").map(r=>r.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return dt(this,"highlightColors",null);const r=new Map,n=!!m(this,Nu);for(const[i,s]of e){const a=i.endsWith("_HCM");if(n&&a){r.set(i.replace("_HCM",""),s);continue}!n&&!a&&r.set(i,s)}return dt(this,"highlightColors",r)}get highlightColorNames(){return dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const r=this.highlightColorNames.get(e);return this._highlightColors.get(r)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,wu,e)}setMainHighlightColorPicker(e){C(this,Xm,e)}editAltText(e,r=!1){var n;(n=m(this,Vm))==null||n.editAltText(this,e,r)}hasCommentManager(){return!!m(this,Nh)}editComment(e,r){var n;(n=m(this,Nh))==null||n.open(this,e,r)}getSignature(e){var r;(r=m(this,Cu))==null||r.getSignature({uiManager:this,editor:e})}get signatureManager(){return m(this,Cu)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,Km,r);break}}onPageChanging({pageNumber:e}){C(this,Gm,e-1)}focusMainContainer(){m(this,Fl).focus()}findParent(e,r){for(const n of m(this,En).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&r>=s&&r<=s+o)return n}return null}disableUserSelect(e=!1){m(this,b0).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Th).add(e)}removeShouldRescale(e){m(this,Th).delete(e)}onScaleChanging({scale:e}){var r;this.commitOrRemove(),this.viewParameters.realScale=e*Nd.PDF_TO_CSS_UNITS;for(const n of m(this,Th))n.onScaleChanging();(r=m(this,wu))==null||r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=r,o=r.toString(),u=M(this,xe,K1).call(this,r).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;r.empty();const h=M(this,xe,Fk).call(this,u),f=m(this,pn)===qe.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(qe.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,$l)&&!m(this,$l).has(e.id)&&m(this,$l).setValue(e.id,e)}a11yAlert(e,r=null){const n=m(this,w0);n&&(n.setAttribute("data-l10n-id",e),r?n.setAttribute("data-l10n-args",JSON.stringify(r)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,Su)&&(C(this,Su,!1),M(this,xe,Y1).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of m(this,Nt))if(r.div.contains(e)){C(this,kh,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!m(this,kh))return;const[e,r]=m(this,kh);C(this,kh,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){M(this,xe,zk).call(this),M(this,xe,Bk).call(this)}removeEditListeners(){M(this,xe,KG).call(this),M(this,xe,Uk).call(this)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of m(this,Pa))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of m(this,Pa))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=m(this,Ji))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of m(this,Nt)){const s=i.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const s of r.items)for(const a of m(this,Pa))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Ge(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of n){const u=await i.deserialize(c);if(!u)return;s.push(u)}const a=()=>{for(const c of s)M(this,xe,Hk).call(this,c);M(this,xe,Wk).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ge(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,pn)!==qe.NONE&&!this.isEditorHandlingKeyboard&&hm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Su)&&(C(this,Su,!1),M(this,xe,Y1).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(M(this,xe,qG).call(this),M(this,xe,Bk).call(this),M(this,xe,oi).call(this,{isEditing:m(this,pn)!==qe.NONE,isEmpty:M(this,xe,sx).call(this),hasSomethingToUndo:m(this,Fs).hasSomethingToUndo(),hasSomethingToRedo:m(this,Fs).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,xe,GG).call(this),M(this,xe,Uk).call(this),M(this,xe,oi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Pa)){C(this,Pa,e);for(const r of m(this,Pa))M(this,xe,Cl).call(this,r.defaultPropertiesToUpdate)}}getId(){return m(this,IA).id}get currentLayer(){return m(this,En).get(m(this,Gm))}getLayer(e){return m(this,En).get(e)}get currentPageIndex(){return m(this,Gm)}addLayer(e){m(this,En).set(e.pageIndex,e),m(this,ju)?e.enable():e.disable()}removeLayer(e){m(this,En).delete(e.pageIndex)}async updateMode(e,r=null,n=!1,i=!1,s=!1){var a,o,c;if(m(this,pn)!==e&&!(m(this,zs)&&(await m(this,zs).promise,!m(this,zs)))){if(C(this,zs,Promise.withResolvers()),(a=m(this,wu))==null||a.commitOrRemove(),C(this,pn,e),e===qe.NONE){this.setEditingState(!1),M(this,xe,ZG).call(this),(o=this._editorUndoBar)==null||o.hide(),m(this,zs).resolve();return}e===qe.SIGNATURE&&await((c=m(this,Cu))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await M(this,xe,XG).call(this),this.unselectAll();for(const u of m(this,En).values())u.updateMode(e);if(!r){n&&this.addNewEditorFromKeyboard(),m(this,zs).resolve();return}for(const u of m(this,tn).values())u.annotationElementId===r||u.id===r?(this.setSelected(u),s?u.editComment():i&&u.enterInEditMode()):u.unselect();m(this,zs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==m(this,pn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,r){if(m(this,Pa)){switch(e){case yt.CREATE:this.currentLayer.addNewEditor(r);return;case yt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,y0)||C(this,y0,new Map)).set(e,r),this.showAllEditors("highlight",r);break}if(this.hasSelection)for(const n of m(this,Nt))n.updateParams(e,r);else for(const n of m(this,Pa))n.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var s;for(const a of m(this,tn).values())a.editorType===e&&a.show(r);(((s=m(this,y0))==null?void 0:s.get(yt.HIGHLIGHT_SHOW_ALL))??!0)!==r&&M(this,xe,Cl).call(this,[[yt.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(m(this,g0)!==e){C(this,g0,e);for(const r of m(this,En).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}getEditors(e){const r=[];for(const n of m(this,tn).values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return m(this,tn).get(e)}addEditor(e){m(this,tn).set(e.id,e)}removeEditor(e){var r,n;e.div.contains(document.activeElement)&&(m(this,_o)&&clearTimeout(m(this,_o)),C(this,_o,setTimeout(()=>{this.focusMainContainer(),C(this,_o,null)},0))),m(this,tn).delete(e.id),e.annotationElementId&&((r=m(this,Eu))==null||r.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!m(this,Ph).has(e.annotationElementId))&&((n=m(this,$l))==null||n.remove(e.id))}addDeletedAnnotationElement(e){m(this,Ph).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Ph).has(e)}removeDeletedAnnotationElement(e){m(this,Ph).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Ji)!==e&&(C(this,Ji,e),e&&M(this,xe,Cl).call(this,e.propertiesToUpdate))}updateUI(e){m(this,xe,QG)===e&&M(this,xe,Cl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){M(this,xe,Cl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,Nt).has(e)){m(this,Nt).delete(e),e.unselect(),M(this,xe,oi).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Nt).add(e),e.select(),M(this,xe,Cl).call(this,e.propertiesToUpdate),M(this,xe,oi).call(this,{hasSelectedEditor:!0})}setSelected(e){var r;this.updateToolbar({mode:e.mode,editId:e.id}),(r=m(this,wu))==null||r.commitOrRemove();for(const n of m(this,Nt))n!==e&&n.unselect();m(this,Nt).clear(),m(this,Nt).add(e),e.select(),M(this,xe,Cl).call(this,e.propertiesToUpdate),M(this,xe,oi).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Nt).has(e)}get firstSelectedEditor(){return m(this,Nt).values().next().value}unselect(e){e.unselect(),m(this,Nt).delete(e),M(this,xe,oi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Nt).size!==0}get isEnterHandled(){return m(this,Nt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,Fs).undo(),M(this,xe,oi).call(this,{hasSomethingToUndo:m(this,Fs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,xe,sx).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,Fs).redo(),M(this,xe,oi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Fs).hasSomethingToRedo(),isEmpty:M(this,xe,sx).call(this)})}addCommands(e){m(this,Fs).add(e),M(this,xe,oi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,xe,sx).call(this)})}cleanUndoStack(e){m(this,Fs).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const r=e?[e]:[...m(this,Nt)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,r.length===1?r[0].editorType:r.length);for(const o of r)o.remove()},i=()=>{for(const a of r)M(this,xe,Hk).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Ji))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Ji)||this.hasSelection}selectAll(){for(const e of m(this,Nt))e.commit();M(this,xe,Wk).call(this,m(this,tn).values())}unselectAll(){var e;if(!(m(this,Ji)&&(m(this,Ji).commitOrRemove(),m(this,pn)!==qe.NONE))&&!((e=m(this,wu))!=null&&e.commitOrRemove())&&this.hasSelection){for(const r of m(this,Nt))r.unselect();m(this,Nt).clear(),M(this,xe,oi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;m(this,Pu)[0]+=e,m(this,Pu)[1]+=r;const[i,s]=m(this,Pu),a=[...m(this,Nt)],o=1e3;m(this,jo)&&clearTimeout(m(this,jo)),C(this,jo,setTimeout(()=>{C(this,jo,null),m(this,Pu)[0]=m(this,Pu)[1]=0,this.addCommands({cmd:()=>{for(const c of a)m(this,tn).has(c.id)&&(c.translateInPage(i,s),c.translationDone())},undo:()=>{for(const c of a)m(this,tn).has(c.id)&&(c.translateInPage(-i,-s),c.translationDone())},mustExec:!1})},o));for(const c of a)c.translateInPage(e,r),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,wo,new Map);for(const e of m(this,Nt))m(this,wo).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,wo))return!1;this.disableUserSelect(!1);const e=m(this,wo);C(this,wo,null);let r=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,r||(r=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!r)return!1;const n=(i,s,a,o)=>{if(m(this,tn).has(i.id)){const c=m(this,En).get(o);c?i._setParentAndPosition(c,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(m(this,wo))for(const n of m(this,wo).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Nt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Ji)===e}getActive(){return m(this,Ji)}getMode(){return m(this,pn)}get imageManager(){return dt(this,"imageManager",new $k)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let u=0,d=r.rangeCount;u<d;u++)if(!e.contains(r.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,f)=>({x:(d-i)/a,y:1-(u+h-n)/s,width:f/a,height:h/s});break;case"180":o=(u,d,h,f)=>({x:1-(u+h-n)/s,y:1-(d+f-i)/a,width:h/s,height:f/a});break;case"270":o=(u,d,h,f)=>({x:1-(d+f-i)/a,y:(u-n)/s,width:f/a,height:h/s});break;default:o=(u,d,h,f)=>({x:(u-n)/s,y:(d-i)/a,width:h/s,height:f/a});break}const c=[];for(let u=0,d=r.rangeCount;u<d;u++){const h=r.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:v,height:g}of h.getClientRects())v===0||g===0||c.push(o(f,p,v,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:r}){(m(this,qm)||C(this,qm,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=m(this,qm))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=m(this,qm))==null?void 0:i.get(e.data.id);if(!r)return;const n=m(this,$l).getRawValue(r);n&&(m(this,pn)===qe.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,r,n){var s;const i=(s=m(this,Eu))==null?void 0:s.get(e);i&&(i.setCanvas(r,n),m(this,Eu).delete(e))}addMissingCanvas(e,r){(m(this,Eu)||C(this,Eu,new Map)).set(e,r)}};Wm=new WeakMap,Ji=new WeakMap,tn=new WeakMap,En=new WeakMap,Vm=new WeakMap,$l=new WeakMap,qm=new WeakMap,Fs=new WeakMap,Nh=new WeakMap,bu=new WeakMap,wu=new WeakMap,Gm=new WeakMap,Ph=new WeakMap,wo=new WeakMap,Pa=new WeakMap,Th=new WeakMap,f0=new WeakMap,p0=new WeakMap,Km=new WeakMap,m0=new WeakMap,_o=new WeakMap,_u=new WeakMap,Ym=new WeakMap,Su=new WeakMap,So=new WeakMap,IA=new WeakMap,ju=new WeakMap,g0=new WeakMap,Au=new WeakMap,kh=new WeakMap,Xm=new WeakMap,Eu=new WeakMap,v0=new WeakMap,pn=new WeakMap,Nt=new WeakMap,Ll=new WeakMap,Cu=new WeakMap,Nu=new WeakMap,y0=new WeakMap,x0=new WeakMap,Pu=new WeakMap,jo=new WeakMap,Fl=new WeakMap,b0=new WeakMap,w0=new WeakMap,zs=new WeakMap,xe=new WeakSet,K1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Fk=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of m(this,En).values())if(n.hasTextLayer(e))return n;return null},HG=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=M(this,xe,K1).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(m(this,So)||C(this,So,new tbe(this)),m(this,So).show(n,i,this.direction==="ltr"))},WG=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Ll)&&((s=m(this,So))==null||s.hide(),C(this,Ll,null),M(this,xe,oi).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===m(this,Ll))return;const i=M(this,xe,K1).call(this,e).closest(".textLayer");if(!i){m(this,Ll)&&((a=m(this,So))==null||a.hide(),C(this,Ll,null),M(this,xe,oi).call(this,{hasSelectedText:!1}));return}if((o=m(this,So))==null||o.hide(),C(this,Ll,r),M(this,xe,oi).call(this,{hasSelectedText:!0}),!(m(this,pn)!==qe.HIGHLIGHT&&m(this,pn)!==qe.NONE)&&(m(this,pn)===qe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Su,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=m(this,pn)===qe.HIGHLIGHT?M(this,xe,Fk).call(this,i):null;c==null||c.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&M(this,xe,Y1).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Y1=function(e=""){m(this,pn)===qe.HIGHLIGHT?this.highlightSelection(e):m(this,f0)&&M(this,xe,HG).call(this)},VG=function(){document.addEventListener("selectionchange",M(this,xe,WG).bind(this),{signal:this._signal})},qG=function(){if(m(this,_u))return;C(this,_u,new AbortController);const e=this.combinedSignal(m(this,_u));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},GG=function(){var e;(e=m(this,_u))==null||e.abort(),C(this,_u,null)},zk=function(){if(m(this,Au))return;C(this,Au,new AbortController);const e=this.combinedSignal(m(this,Au));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},KG=function(){var e;(e=m(this,Au))==null||e.abort(),C(this,Au,null)},Bk=function(){if(m(this,bu))return;C(this,bu,new AbortController);const e=this.combinedSignal(m(this,bu));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Uk=function(){var e;(e=m(this,bu))==null||e.abort(),C(this,bu,null)},YG=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},oi=function(e){Object.entries(e).some(([n,i])=>m(this,x0)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,x0),e)}),m(this,pn)===qe.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,xe,Cl).call(this,[[yt.HIGHLIGHT_FREE,!0]]))},Cl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},XG=async function(){if(!m(this,ju)){C(this,ju,!0);const e=[];for(const r of m(this,En).values())e.push(r.enable());await Promise.all(e);for(const r of m(this,tn).values())r.enable()}},ZG=function(){if(this.unselectAll(),m(this,ju)){C(this,ju,!1);for(const e of m(this,En).values())e.disable();for(const e of m(this,tn).values())e.disable()}},Hk=function(e){const r=m(this,En).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},QG=function(){let e=null;for(e of m(this,Nt));return e},sx=function(){if(m(this,tn).size===0)return!0;if(m(this,tn).size===1)for(const e of m(this,tn).values())return e.isEmpty();return!1},Wk=function(e){for(const r of m(this,Nt))r.unselect();m(this,Nt).clear();for(const r of e)r.isEmpty()||(m(this,Nt).add(r),r.select());M(this,xe,oi).call(this,{hasSelectedEditor:this.hasSelection})},de(hm,"TRANSLATE_SMALL",1),de(hm,"TRANSLATE_BIG",10);let Zf=hm;var mn,Ao,Ta,Zm,Eo,es,Qm,Co,Mi,zl,Oh,No,Tu,Ya,ax,X1;const li=class li{constructor(e){k(this,Ya);k(this,mn,null);k(this,Ao,!1);k(this,Ta,null);k(this,Zm,null);k(this,Eo,null);k(this,es,null);k(this,Qm,!1);k(this,Co,null);k(this,Mi,null);k(this,zl,null);k(this,Oh,null);k(this,No,!1);C(this,Mi,e),C(this,No,e._uiManager.useNewAltTextFlow),m(li,Tu)||C(li,Tu,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){li._l10n??(li._l10n=e)}async render(){const e=C(this,Ta,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=C(this,Zm,document.createElement("span"));e.append(r),m(this,No)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(li,Tu).missing),r.setAttribute("data-l10n-id",m(li,Tu)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=m(this,Mi)._uiManager._signal;e.addEventListener("contextmenu",ca,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),m(this,Mi)._uiManager.editAltText(m(this,Mi)),m(this,No)&&m(this,Mi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Ya,ax)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(C(this,Qm,!0),i(s))},{signal:n}),await M(this,Ya,X1).call(this),e}finish(){m(this,Ta)&&(m(this,Ta).focus({focusVisible:m(this,Qm)}),C(this,Qm,!1))}isEmpty(){return m(this,No)?m(this,mn)===null:!m(this,mn)&&!m(this,Ao)}hasData(){return m(this,No)?m(this,mn)!==null||!!m(this,zl):this.isEmpty()}get guessedText(){return m(this,zl)}async setGuessedText(e){m(this,mn)===null&&(C(this,zl,e),C(this,Oh,await li._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),M(this,Ya,X1).call(this))}toggleAltTextBadge(e=!1){var r;if(!m(this,No)||m(this,mn)){(r=m(this,Co))==null||r.remove(),C(this,Co,null);return}if(!m(this,Co)){const n=C(this,Co,document.createElement("div"));n.className="noAltTextBadge",m(this,Mi).div.append(n)}m(this,Co).classList.toggle("hidden",!e)}serialize(e){let r=m(this,mn);return!e&&m(this,zl)===r&&(r=m(this,Oh)),{altText:r,decorative:m(this,Ao),guessedText:m(this,zl),textWithDisclaimer:m(this,Oh)}}get data(){return{altText:m(this,mn),decorative:m(this,Ao)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(C(this,zl,n),C(this,Oh,i)),!(m(this,mn)===e&&m(this,Ao)===r)&&(s||(C(this,mn,e),C(this,Ao,r)),M(this,Ya,X1).call(this))}toggle(e=!1){m(this,Ta)&&(!e&&m(this,es)&&(clearTimeout(m(this,es)),C(this,es,null)),m(this,Ta).disabled=!e)}shown(){m(this,Mi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Ya,ax)}})}destroy(){var e,r;(e=m(this,Ta))==null||e.remove(),C(this,Ta,null),C(this,Zm,null),C(this,Eo,null),(r=m(this,Co))==null||r.remove(),C(this,Co,null)}};mn=new WeakMap,Ao=new WeakMap,Ta=new WeakMap,Zm=new WeakMap,Eo=new WeakMap,es=new WeakMap,Qm=new WeakMap,Co=new WeakMap,Mi=new WeakMap,zl=new WeakMap,Oh=new WeakMap,No=new WeakMap,Tu=new WeakMap,Ya=new WeakSet,ax=function(){return m(this,mn)&&"added"||m(this,mn)===null&&this.guessedText&&"review"||"missing"},X1=async function(){var i,s,a;const e=m(this,Ta);if(!e)return;if(m(this,No)){if(e.classList.toggle("done",!!m(this,mn)),e.setAttribute("data-l10n-id",m(li,Tu)[m(this,Ya,ax)]),(i=m(this,Zm))==null||i.setAttribute("data-l10n-id",m(li,Tu)[`${m(this,Ya,ax)}-label`]),!m(this,mn)){(s=m(this,Eo))==null||s.remove();return}}else{if(!m(this,mn)&&!m(this,Ao)){e.classList.remove("done"),(a=m(this,Eo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=m(this,Eo);if(!r){C(this,Eo,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${m(this,Mi).id}`;const o=100,c=m(this,Mi)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(m(this,es)),C(this,es,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,es,setTimeout(()=>{C(this,es,null),m(this,Eo).classList.add("show"),m(this,Mi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;m(this,es)&&(clearTimeout(m(this,es)),C(this,es,null)),(u=m(this,Eo))==null||u.classList.remove("show")},{signal:c})}m(this,Ao)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=m(this,mn)),r.parentNode||e.append(r);const n=m(this,Mi).getElementForAltText();n==null||n.setAttribute("aria-describedby",r.id)},k(li,Tu,null),de(li,"_l10n",null);let bj=li;var Po,Mh,ka,_0,Bl,Jm,ku;class r1{constructor(e){k(this,Po,null);k(this,Mh,!1);k(this,ka,null);k(this,_0,null);k(this,Bl,null);k(this,Jm,null);k(this,ku,!1);C(this,ka,e),this.toolbar=null}render(){if(!m(this,ka)._uiManager.hasCommentManager())return null;const e=C(this,Po,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const r=m(this,ka)._uiManager._signal;e.addEventListener("contextmenu",ca,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const n=i=>{i.preventDefault(),this.edit()};return e.addEventListener("click",n,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(C(this,Mh,!0),n(i))},{signal:r}),e}edit(){const{bottom:e,left:r,right:n}=m(this,ka).getClientDimensions(),i={top:e};m(this,ka)._uiManager.direction==="ltr"?i.right=n:i.left=r,m(this,ka)._uiManager.editComment(m(this,ka),i)}finish(){m(this,Po)&&(m(this,Po).focus({focusVisible:m(this,Mh)}),C(this,Mh,!1))}isDeleted(){return m(this,ku)||m(this,Bl)===""}hasBeenEdited(){return this.isDeleted()||m(this,Bl)!==m(this,_0)}serialize(){return this.data}get data(){return{text:m(this,Bl),date:m(this,Jm),deleted:m(this,ku)}}set data(e){if(e===null){C(this,Bl,""),C(this,ku,!0);return}C(this,Bl,e),C(this,Jm,new Date),C(this,ku,!1)}setInitialText(e){C(this,_0,e),this.data=e}toggle(e=!1){m(this,Po)&&(m(this,Po).disabled=!e)}shown(){}destroy(){var e;(e=m(this,Po))==null||e.remove(),C(this,Po,null),C(this,Bl,""),C(this,Jm,null),C(this,ka,null),C(this,Mh,!1),C(this,ku,!1)}}Po=new WeakMap,Mh=new WeakMap,ka=new WeakMap,_0=new WeakMap,Bl=new WeakMap,Jm=new WeakMap,ku=new WeakMap;var eg,Dh,S0,j0,A0,E0,C0,Ul,Rh,Hl,Ih,Wl,Td,JG,e7,t7;const g$=class g${constructor({container:e,isPinchingDisabled:r=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){k(this,Td);k(this,eg);k(this,Dh,!1);k(this,S0,null);k(this,j0);k(this,A0);k(this,E0);k(this,C0);k(this,Ul,null);k(this,Rh);k(this,Hl,null);k(this,Ih);k(this,Wl,null);C(this,eg,e),C(this,S0,n),C(this,j0,r),C(this,A0,i),C(this,E0,s),C(this,C0,a),C(this,Ih,new AbortController),C(this,Rh,AbortSignal.any([o,m(this,Ih).signal])),e.addEventListener("touchstart",M(this,Td,JG).bind(this),{passive:!1,signal:m(this,Rh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ul.pixelRatio}destroy(){var e,r;(e=m(this,Ih))==null||e.abort(),C(this,Ih,null),(r=m(this,Ul))==null||r.abort(),C(this,Ul,null)}};eg=new WeakMap,Dh=new WeakMap,S0=new WeakMap,j0=new WeakMap,A0=new WeakMap,E0=new WeakMap,C0=new WeakMap,Ul=new WeakMap,Rh=new WeakMap,Hl=new WeakMap,Ih=new WeakMap,Wl=new WeakMap,Td=new WeakSet,JG=function(e){var i,s,a;if((i=m(this,j0))!=null&&i.call(this))return;if(e.touches.length===1){if(m(this,Ul))return;const o=C(this,Ul,new AbortController),c=AbortSignal.any([m(this,Rh),o.signal]),u=m(this,eg),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=m(this,Ul))==null||p.abort(),C(this,Ul,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Fr(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!m(this,Wl)){C(this,Wl,new AbortController);const o=AbortSignal.any([m(this,Rh),m(this,Wl).signal]),c=m(this,eg),u={signal:o,capture:!1,passive:!1};c.addEventListener("touchmove",M(this,Td,e7).bind(this),u);const d=M(this,Td,t7).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",Fr,u),c.addEventListener("pointermove",Fr,u),c.addEventListener("pointercancel",Fr,u),c.addEventListener("pointerup",Fr,u),(s=m(this,A0))==null||s.call(this)}if(Fr(e),e.touches.length!==2||(a=m(this,S0))!=null&&a.call(this)){C(this,Hl,null);return}let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]),C(this,Hl,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:n.screenX,touch1Y:n.screenY})},e7=function(e){var S;if(!m(this,Hl)||e.touches.length!==2)return;Fr(e);let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]);const{screenX:i,screenY:s}=r,{screenX:a,screenY:o}=n,c=m(this,Hl),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,v=f-d,g=a-i,x=o-s,y=Math.hypot(g,x)||1,b=Math.hypot(p,v)||1;if(!m(this,Dh)&&Math.abs(b-y)<=g$.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=s,c.touch1X=a,c.touch1Y=o,!m(this,Dh)){C(this,Dh,!0);return}const w=[(i+a)/2,(s+o)/2];(S=m(this,E0))==null||S.call(this,w,b,y)},t7=function(e){var r;e.touches.length>=2||(m(this,Wl)&&(m(this,Wl).abort(),C(this,Wl,null),(r=m(this,C0))==null||r.call(this)),m(this,Hl)&&(Fr(e),C(this,Hl,null),C(this,Dh,!1)))};let wj=g$;var $h,Oa,ir,Cn,tg,Ou,N0,Lh,Nn,Fh,Vl,Mu,P0,zh,ts,T0,Bh,ql,To,rg,ng,Bs,Uh,k0,$A,Ue,Vk,O0,qk,Z1,r7,n7,Gk,Q1,Kk,i7,s7,a7,Yk,o7,Xk,l7,c7,u7,Zk,ox;const nt=class nt{constructor(e){k(this,Ue);k(this,$h,null);k(this,Oa,null);k(this,ir,null);k(this,Cn,null);k(this,tg,!1);k(this,Ou,null);k(this,N0,"");k(this,Lh,!1);k(this,Nn,null);k(this,Fh,null);k(this,Vl,null);k(this,Mu,null);k(this,P0,"");k(this,zh,!1);k(this,ts,null);k(this,T0,!1);k(this,Bh,!1);k(this,ql,!1);k(this,To,null);k(this,rg,0);k(this,ng,0);k(this,Bs,null);k(this,Uh,null);de(this,"isSelected",!1);de(this,"_isCopy",!1);de(this,"_editToolbar",null);de(this,"_initialOptions",Object.create(null));de(this,"_initialData",null);de(this,"_isVisible",!0);de(this,"_uiManager",null);de(this,"_focusEventsAllowed",!0);k(this,k0,!1);k(this,$A,nt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=nt.prototype._resizeWithKeyboard,r=Zf.TRANSLATE_SMALL,n=Zf.TRANSLATE_BIG;return dt(this,"_resizerKeyboardManager",new i_([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],nt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new ibe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(nt._l10n??(nt._l10n=e),nt._l10nResizer||(nt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),nt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);nt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Lt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,k0)}set _isDraggable(e){var r;C(this,k0,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,$A)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):M(this,Ue,ox).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,zh)?C(this,zh,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(r+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,r){const[n,i]=this.parentDimensions;this.setAt(e*n,r*i,this.width*n,this.height*i),this._onTranslated()}translate(e,r){M(this,Ue,Vk).call(this,this.parentDimensions,e,r)}translateInPage(e,r){m(this,ts)||C(this,ts,[this.x,this.y,this.width,this.height]),M(this,Ue,Vk).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,r){m(this,ts)||C(this,ts,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=r/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[c,u]=this.getBaseTranslation();a+=c,o+=u;const{style:d}=n;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,r){}_onTranslated(e,r){}get _hasBeenMoved(){return!!m(this,ts)&&(m(this,ts)[0]!==this.x||m(this,ts)[1]!==this.y)}get _hasBeenResized(){return!!m(this,ts)&&(m(this,ts)[2]!==this.width||m(this,ts)[3]!==this.height)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=nt,i=n/e,s=n/r;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:r},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:c}=this;if(o*=n,c*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=pi(s,0,n-o),a=pi(a,0,i-c);break;case 90:s=pi(s,0,n-c),a=pi(a,o,i);break;case 180:s=pi(s,o,n),a=pi(a,c,i);break;case 270:s=pi(s,c,n),a=pi(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[u,d]=this.getBaseTranslation();s+=u,a+=d,r.left=`${(100*s).toFixed(2)}%`,r.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return M(n=nt,O0,qk).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return M(n=nt,O0,qk).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(e,r){const[n,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/n).toFixed(2)}%`,m(this,Lh)||(s.height=`${(100*r/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,i=n.endsWith("%"),s=!m(this,Lh)&&r.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!m(this,Lh)&&!s&&(e.height=`${(100*parseFloat(r)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,ir))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,Bh))return this._editToolbar;this._editToolbar=new Ik(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:e}=this;if(e)for(const[r,n]of e)await this._editToolbar.addButton(r,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,ir))==null||e.destroy())}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,ir)||(bj.initialize(nt._l10n),C(this,ir,new bj(this)),m(this,$h)&&(m(this,ir).data=m(this,$h),C(this,$h,null))),m(this,ir)}get altTextData(){var e;return(e=m(this,ir))==null?void 0:e.data}set altTextData(e){m(this,ir)&&(m(this,ir).data=e)}get guessedAltText(){var e;return(e=m(this,ir))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=m(this,ir))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=m(this,ir))==null?void 0:r.serialize(e)}hasAltText(){return!!m(this,ir)&&!m(this,ir).isEmpty()}hasAltTextData(){var e;return((e=m(this,ir))==null?void 0:e.hasData())??!1}addCommentButton(){return m(this,Cn)?m(this,Cn):C(this,Cn,new r1(this))}get commentColor(){return null}get comment(){const e=m(this,Cn);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){m(this,Cn)||C(this,Cn,new r1(this)),m(this,Cn).data=e}setCommentData(e){m(this,Cn)||C(this,Cn,new r1(this)),m(this,Cn).setInitialText(e)}get hasEditedComment(){var e;return(e=m(this,Cn))==null?void 0:e.hasBeenEdited()}async editComment(){m(this,Cn)||C(this,Cn,new r1(this)),m(this,Cn).edit()}addComment(e){this.hasEditedComment&&(e.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=m(this,tg)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),M(this,Ue,Xk).call(this);const[r,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/r).toFixed(2)}%`,e.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),BG(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,Uh)||C(this,Uh,new wj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:M(this,Ue,i7).bind(this),onPinching:M(this,Ue,s7).bind(this),onPinchEnd:M(this,Ue,a7).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:r}=zn.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(C(this,zh,!0),this._isDraggable){M(this,Ue,o7).call(this,e);return}M(this,Ue,Yk).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,To)&&clearTimeout(m(this,To)),C(this,To,setTimeout(()=>{var e;C(this,To,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,r,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,u=e/i,d=r/i,h=this.x*s,f=this.y*a,p=this.width*s,v=this.height*a;switch(n){case 0:return[h+u+o,a-f-d-v+c,h+u+p+o,a-f-d+c];case 90:return[h+d+o,a-f+u+c,h+d+v+o,a-f+u+p+c];case 180:return[h-u-p+o,a-f+d+c,h-u+o,a-f+d+v+c];case 270:return[h-d-v+o,a-f-u-p+c,h-d+o,a-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,s,a]=e,o=s-n,c=a-i;switch(this.rotation){case 0:return[n,r-a,o,c];case 90:return[n,r-i,c,o];case 180:return[s,r-i,o,c];case 270:return[s,r-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,Bh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,Bh,!1),!0):!1}isInEditMode(){return m(this,Bh)}shouldGetKeyboardEvents(){return m(this,ql)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:r,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return r<a&&i>0&&e<s&&n>0}rebuild(){M(this,Ue,Xk).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){Lt("An editor must be serializable")}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,C(i,$h,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,c,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=c/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,r;if((e=m(this,Mu))==null||e.abort(),C(this,Mu,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,To)&&(clearTimeout(m(this,To)),C(this,To,null)),M(this,Ue,ox).call(this),this.removeEditToolbar(),m(this,Bs)){for(const n of m(this,Bs).values())clearTimeout(n);C(this,Bs,null)}this.parent=null,(r=m(this,Uh))==null||r.destroy(),C(this,Uh,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,Ue,r7).call(this),m(this,Nn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,Vl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=m(this,Nn).children;if(!m(this,Oa)){C(this,Oa,Array.from(r));const a=M(this,Ue,l7).bind(this),o=M(this,Ue,c7).bind(this),c=this._uiManager._signal;for(const u of m(this,Oa)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",M(this,Ue,u7).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",nt._l10nResizer[d])}}const n=m(this,Oa)[0];let i=0;for(const a of r){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Oa).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)m(this,Nn).append(m(this,Nn).firstChild);else if(s>i)for(let o=0;o<s-i;o++)m(this,Nn).firstChild.before(m(this,Nn).lastChild);let a=0;for(const o of r){const u=m(this,Oa)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",nt._l10nResizer[u])}}M(this,Ue,Zk).call(this,0),C(this,ql,!0),m(this,Nn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){m(this,ql)&&M(this,Ue,Kk).call(this,m(this,P0),{deltaX:e,deltaY:r,fromKeyboard:!0})}_stopResizingWithKeyboard(){M(this,Ue,ox).call(this),this.div.focus()}select(){var e,r,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(r=this._editToolbar)==null||r.show(),(n=m(this,ir))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,r,n,i,s;this.isSelected&&(this.isSelected=!1,(e=m(this,Nn))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,ir))==null||s.toggleAltTextBadge(!0))}updateParams(e,r){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,T0)}set isEditing(e){C(this,T0,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){C(this,Lh,!0);const n=e/r,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){m(this,Bs)||C(this,Bs,new Map);const{action:n}=e;let i=m(this,Bs).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,Bs).delete(n),m(this,Bs).size===0&&C(this,Bs,null)},nt._telemetryTimeout),m(this,Bs).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,tg,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,tg,!0)}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};$h=new WeakMap,Oa=new WeakMap,ir=new WeakMap,Cn=new WeakMap,tg=new WeakMap,Ou=new WeakMap,N0=new WeakMap,Lh=new WeakMap,Nn=new WeakMap,Fh=new WeakMap,Vl=new WeakMap,Mu=new WeakMap,P0=new WeakMap,zh=new WeakMap,ts=new WeakMap,T0=new WeakMap,Bh=new WeakMap,ql=new WeakMap,To=new WeakMap,rg=new WeakMap,ng=new WeakMap,Bs=new WeakMap,Uh=new WeakMap,k0=new WeakMap,$A=new WeakMap,Ue=new WeakSet,Vk=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},O0=new WeakSet,qk=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},Z1=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},r7=function(){if(m(this,Nn))return;C(this,Nn,document.createElement("div")),m(this,Nn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");m(this,Nn).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",M(this,Ue,n7).bind(this,n),{signal:r}),i.addEventListener("contextmenu",ca,{signal:r}),i.tabIndex=-1}this.div.prepend(m(this,Nn))},n7=function(e,r){var d;r.preventDefault();const{isMac:n}=zn.platform;if(r.button!==0||r.ctrlKey&&n)return;(d=m(this,ir))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,C(this,Fh,[r.screenX,r.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,Ue,Kk).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Fr,{passive:!1,signal:a}),window.addEventListener("contextmenu",ca,{signal:a}),C(this,Vl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=m(this,ir))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=c,M(this,Ue,Q1).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},Gk=function(e,r,n,i){this.width=n,this.height=i,this.x=e,this.y=r;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition(),this._onResized()},Q1=function(){if(!m(this,Vl))return;const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=m(this,Vl);C(this,Vl,null);const s=this.x,a=this.y,o=this.width,c=this.height;s===e&&a===r&&o===n&&c===i||this.addCommands({cmd:M(this,Ue,Gk).bind(this,s,a,o,c),undo:M(this,Ue,Gk).bind(this,e,r,n,i),mustExec:!0})},Kk=function(e,r){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,u=nt.MIN_SIZE/n,d=nt.MIN_SIZE/i,h=M(this,Ue,Z1).call(this,this.rotation),f=(L,P)=>[h[0]*L+h[2]*P,h[1]*L+h[3]*P],p=M(this,Ue,Z1).call(this,360-this.rotation),v=(L,P)=>[p[0]*L+p[2]*P,p[1]*L+p[3]*P];let g,x,y=!1,b=!1;switch(e){case"topLeft":y=!0,g=(L,P)=>[0,0],x=(L,P)=>[L,P];break;case"topMiddle":g=(L,P)=>[L/2,0],x=(L,P)=>[L/2,P];break;case"topRight":y=!0,g=(L,P)=>[L,0],x=(L,P)=>[0,P];break;case"middleRight":b=!0,g=(L,P)=>[L,P/2],x=(L,P)=>[0,P/2];break;case"bottomRight":y=!0,g=(L,P)=>[L,P],x=(L,P)=>[0,0];break;case"bottomMiddle":g=(L,P)=>[L/2,P],x=(L,P)=>[L/2,0];break;case"bottomLeft":y=!0,g=(L,P)=>[0,P],x=(L,P)=>[L,0];break;case"middleLeft":b=!0,g=(L,P)=>[0,P/2],x=(L,P)=>[L,P/2];break}const w=g(o,c),S=x(o,c);let _=f(...S);const A=nt._round(s+_[0]),E=nt._round(a+_[1]);let N=1,T=1,D,O;if(r.fromKeyboard)({deltaX:D,deltaY:O}=r);else{const{screenX:L,screenY:P}=r,[R,U]=m(this,Fh);[D,O]=this.screenToPageTranslation(L-R,P-U),m(this,Fh)[0]=L,m(this,Fh)[1]=P}if([D,O]=v(D/n,O/i),y){const L=Math.hypot(o,c);N=T=Math.max(Math.min(Math.hypot(S[0]-w[0]-D,S[1]-w[1]-O)/L,1/o,1/c),u/o,d/c)}else b?N=pi(Math.abs(S[0]-w[0]-D),u,1)/o:T=pi(Math.abs(S[1]-w[1]-O),d,1)/c;const I=nt._round(o*N),F=nt._round(c*T);_=f(...x(I,F));const $=A-_[0],B=E-_[1];m(this,ts)||C(this,ts,[this.x,this.y,this.width,this.height]),this.width=I,this.height=F,this.x=$,this.y=B,this.setDims(n*I,i*F),this.fixAndSetPosition(),this._onResizing()},i7=function(){var e;C(this,Vl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,ir))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},s7=function(e,r,n){let s=.7*(n/r)+1-.7;if(s===1)return;const a=M(this,Ue,Z1).call(this,this.rotation),o=(A,E)=>[a[0]*A+a[2]*E,a[1]*A+a[3]*E],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,v=nt.MIN_SIZE/c,g=nt.MIN_SIZE/u;s=Math.max(Math.min(s,1/f,1/p),v/f,g/p);const x=nt._round(f*s),y=nt._round(p*s);if(x===f&&y===p)return;m(this,ts)||C(this,ts,[d,h,f,p]);const b=o(f/2,p/2),w=nt._round(d+b[0]),S=nt._round(h+b[1]),_=o(x/2,y/2);this.x=w-_[0],this.y=S-_[1],this.width=x,this.height=y,this.setDims(c*x,u*y),this.fixAndSetPosition(),this._onResizing()},a7=function(){var e;(e=m(this,ir))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),M(this,Ue,Q1).call(this)},Yk=function(e){const{isMac:r}=zn.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},o7=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),C(this,Ou,null),C(this,zh,!1),this._uiManager.endDragSession()||M(this,Ue,Yk).call(this,u),n&&this._onStopDragging()};r&&(C(this,rg,e.clientX),C(this,ng,e.clientY),C(this,Ou,e.pointerId),C(this,N0,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==m(this,Ou)){Fr(u);return}const[p,v]=this.screenToPageTranslation(d-m(this,rg),h-m(this,ng));C(this,rg,d),C(this,ng,h),this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",Fr,a),window.addEventListener("pointerdown",u=>{u.pointerType===m(this,N0)&&(m(this,Uh)||u.isPrimary)&&o(u),Fr(u)},a));const c=u=>{if(!m(this,Ou)||m(this,Ou)===u.pointerId){o(u);return}Fr(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},Xk=function(){if(m(this,Mu)||!this.div)return;C(this,Mu,new AbortController);const e=this._uiManager.combinedSignal(m(this,Mu));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},l7=function(e){nt._resizerKeyboardManager.exec(this,e)},c7=function(e){var r;m(this,ql)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==m(this,Nn)&&M(this,Ue,ox).call(this)},u7=function(e){C(this,P0,m(this,ql)?e:"")},Zk=function(e){if(m(this,Oa))for(const r of m(this,Oa))r.tabIndex=e},ox=function(){C(this,ql,!1),M(this,Ue,Zk).call(this,-1),M(this,Ue,Q1).call(this)},k(nt,O0),de(nt,"_l10n",null),de(nt,"_l10nResizer",null),de(nt,"_borderLineWidth",-1),de(nt,"_colorManager",new Lk),de(nt,"_zIndex",1),de(nt,"_telemetryTimeout",1e3);let Vt=nt;class ibe extends Vt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const z4=3285377520,Ms=4294901760,po=65535;class d7{constructor(e){this.h1=e?e&4294967295:z4,this.h2=e?e&4294967295:z4}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let g=0,x=e.length;g<x;g++){const y=e.charCodeAt(g);y<=255?r[n++]=y:(r[n++]=y>>>8,r[n++]=y&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(r.buffer,0,i);let o=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&po,v=f&po;for(let g=0;g<i;g++)g&1?(o=a[g],o=o*h&Ms|o*p&po,o=o<<15|o>>>17,o=o*f&Ms|o*v&po,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[g],c=c*h&Ms|c*p&po,c=c<<15|c>>>17,c=c*f&Ms|c*v&po,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*h&Ms|o*p&po,o=o<<15|o>>>17,o=o*f&Ms|o*v&po,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&Ms|e*36045&po,r=r*4283543511&Ms|((r<<16|e>>>16)*2950163797&Ms)>>>16,e^=r>>>1,e=e*444984403&Ms|e*60499&po,r=r*3301882366&Ms|((r<<16|e>>>16)*3120437893&Ms)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const Qk=Object.freeze({map:null,hash:"",transfer:void 0});var Hh,Wh,Pn,LA,h7;class FR{constructor(){k(this,LA);k(this,Hh,!1);k(this,Wh,null);k(this,Pn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=m(this,Pn).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return m(this,Pn).get(e)}remove(e){if(m(this,Pn).delete(e),m(this,Pn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of m(this,Pn).values())if(r instanceof Vt)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=m(this,Pn).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(r))n[s]!==a&&(i=!0,n[s]=a);else i=!0,m(this,Pn).set(e,r);i&&M(this,LA,h7).call(this),r instanceof Vt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return m(this,Pn).has(e)}get size(){return m(this,Pn).size}resetModified(){m(this,Hh)&&(C(this,Hh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f7(this)}get serializable(){if(m(this,Pn).size===0)return Qk;const e=new Map,r=new d7,n=[],i=Object.create(null);let s=!1;for(const[a,o]of m(this,Pn)){const c=o instanceof Vt?o.serialize(!1,i):o;c&&(e.set(a,c),r.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:Qk}get editorStats(){let e=null;const r=new Map;for(const n of m(this,Pn).values()){if(!(n instanceof Vt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;r.has(s)||r.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,c]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[n,i]of r)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){C(this,Wh,null)}get modifiedIds(){if(m(this,Wh))return m(this,Wh);const e=[];for(const r of m(this,Pn).values())!(r instanceof Vt)||!r.annotationElementId||!r.serialize()||e.push(r.annotationElementId);return C(this,Wh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return m(this,Pn).entries()}}Hh=new WeakMap,Wh=new WeakMap,Pn=new WeakMap,LA=new WeakSet,h7=function(){m(this,Hh)||(C(this,Hh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var M0;class f7 extends FR{constructor(r){super();k(this,M0);const{map:n,hash:i,transfer:s}=r.serializable,a=structuredClone(n,s?{transfer:s}:null);C(this,M0,{map:a,hash:i,transfer:s})}get print(){Lt("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,M0)}get modifiedIds(){return dt(this,"modifiedIds",{ids:new Set,hash:""})}}M0=new WeakMap;var ig;class sbe{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){k(this,ig,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,ig).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:r,_inspectFont:n}){if(!(!e||m(this,ig).has(e.loadedName))){if(Ur(!r,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),m(this,ig).add(i),n==null||n(e)}catch{Ge(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Lt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ge(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return dt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return dt(this,"isSyncFontLoadingSupported",fi||zn.platform.isFirefox)}_queueLoadingCallback(e){function r(){for(Ur(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return dt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(S,_){return S.charCodeAt(_)<<24|S.charCodeAt(_+1)<<16|S.charCodeAt(_+2)<<8|S.charCodeAt(_+3)&255}function i(S,_,A,E){const N=S.substring(0,_),T=S.substring(_+A);return N+E+T}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function d(S,_){if(++u>30){Ge("Load test font never loaded."),_();return}if(c.font="30px "+S,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(d.bind(null,S,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const v=16,g=1482184792;let x=n(f,v);for(s=0,a=h.length-3;s<a;s+=4)x=x-g+n(h,s)|0;s<h.length&&(x=x-g+n(h+"XXX",s)|0),f=i(f,v,4,Hxe(x));const y=`url(data:font/opentype;base64,${btoa(f)});`,b=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(b);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const S of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=S,w.append(_)}this._document.body.append(w),d(h,()=>{w.remove(),r.complete()})}}ig=new WeakMap;class abe{constructor(e,r=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=r}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${DG(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];const n=this.loadedName+"_path_"+r;let i;try{i=e.get(n)}catch(a){Ge(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[r]=s}}function obe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(fi)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lbe(t){if(fi&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return t_(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function n1(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const Jk=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,cbe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",ube=Kxe.bind(null,Jk,cbe);var Gl,FA;class dbe{constructor(){k(this,Gl,new Map);k(this,FA,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};m(this,FA).then(()=>{for(const[i]of m(this,Gl))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Ge("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,r);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}m(this,Gl).set(r,i)}removeEventListener(e,r){const n=m(this,Gl).get(r);n==null||n(),m(this,Gl).delete(r)}terminate(){for(const[,e]of m(this,Gl))e==null||e();m(this,Gl).clear()}}Gl=new WeakMap,FA=new WeakMap;const i1={DATA:1,ERROR:2},Or={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function B4(){}function ki(t){if(t instanceof Cd||t instanceof Mk||t instanceof $4||t instanceof yj||t instanceof aP)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Lt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Cd(t.message);case"InvalidPDFException":return new Mk(t.message);case"PasswordException":return new $4(t.message,t.code);case"ResponseException":return new yj(t.message,t.status,t.missing);case"UnknownErrorException":return new aP(t.message,t.details)}return new aP(t.message,t.toString())}var sg,aa,p7,m7,g7,J1;class lx{constructor(e,r,n){k(this,aa);k(this,sg,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",M(this,aa,p7).bind(this),{signal:m(this,sg).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,r,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:r,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:a,targetName:o,stream:Or.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ur(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Or.CANCEL,streamId:s,reason:ki(u)}),d.promise}},n)}destroy(){var e;(e=m(this,sg))==null||e.abort(),C(this,sg,null)}}sg=new WeakMap,aa=new WeakSet,p7=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,aa,g7).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===i1.DATA)i.resolve(e.data);else if(e.callback===i1.ERROR)i.reject(ki(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(r,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:i1.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:i1.ERROR,callbackId:e.callbackId,reason:ki(a)})});return}if(e.streamId){M(this,aa,m7).call(this,e);return}r(e.data)},m7=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Or.ENQUEUE,streamId:r,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Or.CLOSE,streamId:r}),delete a.streamSinks[r])},error(u){Ur(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Or.ERROR,streamId:r,reason:ki(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[r]=c,Promise.try(o,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Or.START_COMPLETE,streamId:r,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Or.START_COMPLETE,streamId:r,reason:ki(u)})})},g7=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case Or.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(ki(e.reason));break;case Or.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(ki(e.reason));break;case Or.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:Or.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||B4).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Or.PULL_COMPLETE,streamId:r,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Or.PULL_COMPLETE,streamId:r,reason:ki(u)})});break;case Or.ENQUEUE:if(Ur(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Or.CLOSE:if(Ur(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),M(this,aa,J1).call(this,a,r);break;case Or.ERROR:Ur(a,"error should have stream controller"),a.controller.error(ki(e.reason)),M(this,aa,J1).call(this,a,r);break;case Or.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(ki(e.reason)),M(this,aa,J1).call(this,a,r);break;case Or.CANCEL:if(!o)break;const c=ki(e.reason);Promise.try(o.onCancel||B4,c).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Or.CANCEL_COMPLETE,streamId:r,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Or.CANCEL_COMPLETE,streamId:r,reason:ki(u)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},J1=async function(e,r){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[r]};var D0;class v7{constructor({enableHWA:e=!1}){k(this,D0,!1);C(this,D0,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!m(this,D0)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Lt("Abstract method `_createCanvas` called.")}}D0=new WeakMap;class hbe extends v7{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class y7{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class U4 extends y7{async _fetch(e){const r=await r_(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):t_(r)}}class x7{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,s){return"none"}destroy(e=!1){}}var Vh,ag,Kl,Yl,Yn,qh,Gh,Ee,Vn,cx,Wp,eS,Vp,b7,eO,qp,ux,dx,tO,hx;class fbe extends x7{constructor({docId:r,ownerDocument:n=globalThis.document}){super();k(this,Ee);k(this,Vh);k(this,ag);k(this,Kl);k(this,Yl);k(this,Yn);k(this,qh);k(this,Gh,0);C(this,Yl,r),C(this,Yn,n)}addFilter(r){if(!r)return"none";let n=m(this,Ee,Vn).get(r);if(n)return n;const[i,s,a]=M(this,Ee,eS).call(this,r),o=r.length===1?i:`${i}${s}${a}`;if(n=m(this,Ee,Vn).get(o),n)return m(this,Ee,Vn).set(r,n),n;const c=`g_${m(this,Yl)}_transfer_map_${fn(this,Gh)._++}`,u=M(this,Ee,Vp).call(this,c);m(this,Ee,Vn).set(r,u),m(this,Ee,Vn).set(o,u);const d=M(this,Ee,qp).call(this,c);return M(this,Ee,dx).call(this,i,s,a,d),u}addHCMFilter(r,n){var v;const i=`${r}-${n}`,s="base";let a=m(this,Ee,cx).get(s);if((a==null?void 0:a.key)===i||(a?((v=a.filter)==null||v.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},m(this,Ee,cx).set(s,a)),!r||!n))return a.url;const o=M(this,Ee,hx).call(this,r);r=$e.makeHexColor(...o);const c=M(this,Ee,hx).call(this,n);if(n=$e.makeHexColor(...c),m(this,Ee,Wp).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return a.url;const u=new Array(256);for(let g=0;g<=255;g++){const x=g/255;u[g]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=u.join(","),h=`g_${m(this,Yl)}_hcm_filter`,f=a.filter=M(this,Ee,qp).call(this,h);M(this,Ee,dx).call(this,d,d,d,f),M(this,Ee,eO).call(this,f);const p=(g,x)=>{const y=o[g]/255,b=c[g]/255,w=new Array(x+1);for(let S=0;S<=x;S++)w[S]=y+S/x*(b-y);return w.join(",")};return M(this,Ee,dx).call(this,p(0,5),p(1,5),p(2,5),f),a.url=M(this,Ee,Vp).call(this,h),a.url}addAlphaFilter(r){let n=m(this,Ee,Vn).get(r);if(n)return n;const[i]=M(this,Ee,eS).call(this,[r]),s=`alpha_${i}`;if(n=m(this,Ee,Vn).get(s),n)return m(this,Ee,Vn).set(r,n),n;const a=`g_${m(this,Yl)}_alpha_map_${fn(this,Gh)._++}`,o=M(this,Ee,Vp).call(this,a);m(this,Ee,Vn).set(r,o),m(this,Ee,Vn).set(s,o);const c=M(this,Ee,qp).call(this,a);return M(this,Ee,tO).call(this,i,c),o}addLuminosityFilter(r){let n=m(this,Ee,Vn).get(r||"luminosity");if(n)return n;let i,s;if(r?([i]=M(this,Ee,eS).call(this,[r]),s=`luminosity_${i}`):s="luminosity",n=m(this,Ee,Vn).get(s),n)return m(this,Ee,Vn).set(r,n),n;const a=`g_${m(this,Yl)}_luminosity_map_${fn(this,Gh)._++}`,o=M(this,Ee,Vp).call(this,a);m(this,Ee,Vn).set(r,o),m(this,Ee,Vn).set(s,o);const c=M(this,Ee,qp).call(this,a);return M(this,Ee,b7).call(this,c),r&&M(this,Ee,tO).call(this,i,c),o}addHighlightHCMFilter(r,n,i,s,a){var b;const o=`${n}-${i}-${s}-${a}`;let c=m(this,Ee,cx).get(r);if((c==null?void 0:c.key)===o||(c?((b=c.filter)==null||b.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},m(this,Ee,cx).set(r,c)),!n||!i))return c.url;const[u,d]=[n,i].map(M(this,Ee,hx).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,v]=[s,a].map(M(this,Ee,hx).bind(this));f<h&&([h,f,p,v]=[f,h,v,p]),m(this,Ee,Wp).style.color="";const g=(w,S,_)=>{const A=new Array(256),E=(f-h)/_,N=w/255,T=(S-w)/(255*_);let D=0;for(let O=0;O<=_;O++){const I=Math.round(h+O*E),F=N+O*T;for(let $=D;$<=I;$++)A[$]=F;D=I+1}for(let O=D;O<256;O++)A[O]=A[D-1];return A.join(",")},x=`g_${m(this,Yl)}_hcm_${r}_filter`,y=c.filter=M(this,Ee,qp).call(this,x);return M(this,Ee,eO).call(this,y),M(this,Ee,dx).call(this,g(p[0],v[0],5),g(p[1],v[1],5),g(p[2],v[2],5),y),c.url=M(this,Ee,Vp).call(this,x),c.url}destroy(r=!1){var n,i,s,a;r&&((n=m(this,qh))!=null&&n.size)||((i=m(this,Kl))==null||i.parentNode.parentNode.remove(),C(this,Kl,null),(s=m(this,ag))==null||s.clear(),C(this,ag,null),(a=m(this,qh))==null||a.clear(),C(this,qh,null),C(this,Gh,0))}}Vh=new WeakMap,ag=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,Yn=new WeakMap,qh=new WeakMap,Gh=new WeakMap,Ee=new WeakSet,Vn=function(){return m(this,ag)||C(this,ag,new Map)},cx=function(){return m(this,qh)||C(this,qh,new Map)},Wp=function(){if(!m(this,Kl)){const r=m(this,Yn).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=m(this,Yn).createElementNS(El,"svg");i.setAttribute("width",0),i.setAttribute("height",0),C(this,Kl,m(this,Yn).createElementNS(El,"defs")),r.append(i),i.append(m(this,Kl)),m(this,Yn).body.append(r)}return m(this,Kl)},eS=function(r){if(r.length===1){const u=r[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[n,i,s]=r,a=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=n[u]/255,o[u]=i[u]/255,c[u]=s[u]/255;return[a.join(","),o.join(","),c.join(",")]},Vp=function(r){if(m(this,Vh)===void 0){C(this,Vh,"");const n=m(this,Yn).URL;n!==m(this,Yn).baseURI&&(cC(n)?Ge('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,Vh,kG(n,"")))}return`url(${m(this,Vh)}#${r})`},b7=function(r){const n=m(this,Yn).createElementNS(El,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},eO=function(r){const n=m(this,Yn).createElementNS(El,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},qp=function(r){const n=m(this,Yn).createElementNS(El,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),m(this,Ee,Wp).append(n),n},ux=function(r,n,i){const s=m(this,Yn).createElementNS(El,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),r.append(s)},dx=function(r,n,i,s){const a=m(this,Yn).createElementNS(El,"feComponentTransfer");s.append(a),M(this,Ee,ux).call(this,a,"feFuncR",r),M(this,Ee,ux).call(this,a,"feFuncG",n),M(this,Ee,ux).call(this,a,"feFuncB",i)},tO=function(r,n){const i=m(this,Yn).createElementNS(El,"feComponentTransfer");n.append(i),M(this,Ee,ux).call(this,i,"feFuncA",r)},hx=function(r){return m(this,Ee,Wp).style.color=r,uC(getComputedStyle(m(this,Ee,Wp)).getPropertyValue("color"))};class w7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class H4 extends w7{async _fetch(e){const r=await r_(e,"arraybuffer");return new Uint8Array(r)}}class _7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load wasm data at: ${r}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class W4 extends _7{async _fetch(e){const r=await r_(e,"arraybuffer");return new Uint8Array(r)}}fi&&Ge("Please use the `legacy` build in Node.js environments.");async function zR(t){const r=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(r)}class pbe extends x7{}class mbe extends v7{_createCanvas(e,r){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,r)}}class gbe extends y7{async _fetch(e){return zR(e)}}class vbe extends w7{async _fetch(e){return zR(e)}}class ybe extends _7{async _fetch(e){return zR(e)}}const Dn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rO(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class BR{isModifyingCurrentTransform(){return!1}getPattern(){Lt("Abstract method `getPattern` called.")}}class xbe extends BR{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,i){let s;if(i===Dn.STROKE||i===Dn.FILL){const a=r.current.getClippedPathBoundingBox(i,dr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=r.cachedCanvases.getCanvas("pattern",o,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=$e.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...r.baseTransform),this.matrix&&d.transform(...this.matrix),rO(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(n);s.setTransform(h)}else rO(e,this._bbox),s=this._createGradient(e);return s}}function cP(t,e,r,n,i,s,a,o){const c=e.coords,u=e.colors,d=t.data,h=t.width*4;let f;c[r+1]>c[n+1]&&(f=r,r=n,n=f,f=s,s=a,a=f),c[n+1]>c[i+1]&&(f=n,n=i,i=f,f=a,a=o,o=f),c[r+1]>c[n+1]&&(f=r,r=n,n=f,f=s,s=a,a=f);const p=(c[r]+e.offsetX)*e.scaleX,v=(c[r+1]+e.offsetY)*e.scaleY,g=(c[n]+e.offsetX)*e.scaleX,x=(c[n+1]+e.offsetY)*e.scaleY,y=(c[i]+e.offsetX)*e.scaleX,b=(c[i+1]+e.offsetY)*e.scaleY;if(v>=b)return;const w=u[s],S=u[s+1],_=u[s+2],A=u[a],E=u[a+1],N=u[a+2],T=u[o],D=u[o+1],O=u[o+2],I=Math.round(v),F=Math.round(b);let $,B,L,P,R,U,Y,J;for(let X=I;X<=F;X++){if(X<x){const V=X<v?0:(v-X)/(v-x);$=p-(p-g)*V,B=w-(w-A)*V,L=S-(S-E)*V,P=_-(_-N)*V}else{let V;X>b?V=1:x===b?V=0:V=(x-X)/(x-b),$=g-(g-y)*V,B=A-(A-T)*V,L=E-(E-D)*V,P=N-(N-O)*V}let ee;X<v?ee=0:X>b?ee=1:ee=(v-X)/(v-b),R=p-(p-y)*ee,U=w-(w-T)*ee,Y=S-(S-D)*ee,J=_-(_-O)*ee;const ue=Math.round(Math.min($,R)),we=Math.round(Math.max($,R));let je=h*X+ue*4;for(let V=ue;V<=we;V++)ee=($-V)/($-R),ee<0?ee=0:ee>1&&(ee=1),d[je++]=B-(B-U)*ee|0,d[je++]=L-(L-Y)*ee|0,d[je++]=P-(P-J)*ee|0,d[je++]=255}}function bbe(t,e,r){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(n.length/o)-1,u=o-1;for(s=0;s<c;s++){let d=s*o;for(let h=0;h<u;h++,d++)cP(t,r,n[d],n[d+1],n[d+o],i[d],i[d+1],i[d+o]),cP(t,r,n[d+o+1],n[d+1],n[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)cP(t,r,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class wbe extends BR{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,v=d/f,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/v},x=h+2*2,y=f+2*2,b=n.getCanvas("mesh",x,y),w=b.context,S=w.createImageData(h,f);if(r){const A=S.data;for(let E=0,N=A.length;E<N;E+=4)A[E]=r[0],A[E+1]=r[1],A[E+2]=r[2],A[E+3]=255}for(const A of this._figures)bbe(S,A,g);return w.putImageData(S,2,2),{canvas:b.canvas,offsetX:o-2*p,offsetY:c-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,r,n,i){rO(e,this._bbox);const s=new Float32Array(2);if(i===Dn.SHADING)$e.singularValueDecompose2dScale(dr(e),s);else if(this.matrix){$e.singularValueDecompose2dScale(this.matrix,s);const[o,c]=s;$e.singularValueDecompose2dScale(r.baseTransform,s),s[0]*=o,s[1]*=c}else $e.singularValueDecompose2dScale(r.baseTransform,s);const a=this._createMeshCanvas(s,i===Dn.SHADING?null:this._background,r.cachedCanvases);return i!==Dn.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class _be extends BR{getPattern(){return"hotpink"}}function Sbe(t){switch(t[0]){case"RadialAxial":return new xbe(t);case"Mesh":return new wbe(t);case"Dummy":return new _be}throw new Error(`Unknown IR type: ${t[0]}`)}const V4={COLORED:1,UNCOLORED:2},zA=class zA{constructor(e,r,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=r,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:r,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),lC("TilingType: "+s);const d=r[0],h=r[1],f=r[2],p=r[3],v=f-d,g=p-h,x=new Float32Array(2);$e.singularValueDecompose2dScale(this.matrix,x);const[y,b]=x;$e.singularValueDecompose2dScale(this.baseTransform,x);const w=y*x[0],S=b*x[1];let _=v,A=g,E=!1,N=!1;const T=Math.ceil(c*w),D=Math.ceil(u*S),O=Math.ceil(v*w),I=Math.ceil(g*S);T>=O?_=c:E=!0,D>=I?A=u:N=!0;const F=this.getSizeAndScale(_,this.ctx.canvas.width,w),$=this.getSizeAndScale(A,this.ctx.canvas.height,S),B=e.cachedCanvases.getCanvas("pattern",F.size,$.size),L=B.context,P=o.createCanvasGraphics(L);if(P.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(P,i,a),L.translate(-F.scale*d,-$.scale*h),P.transform(F.scale,0,0,$.scale,0,0),L.save(),this.clipBbox(P,d,h,f,p),P.baseTransform=dr(P.ctx),P.executeOperatorList(n),P.endDrawing(),L.restore(),E||N){const R=B.canvas;E&&(_=c),N&&(A=u);const U=this.getSizeAndScale(_,this.ctx.canvas.width,w),Y=this.getSizeAndScale(A,this.ctx.canvas.height,S),J=U.size,X=Y.size,ee=e.cachedCanvases.getCanvas("pattern-workaround",J,X),ue=ee.context,we=E?Math.floor(v/c):0,je=N?Math.floor(g/u):0;for(let V=0;V<=we;V++)for(let H=0;H<=je;H++)ue.drawImage(R,J*V,X*H,J,X,0,0,J,X);return{canvas:ee.canvas,scaleX:U.scale,scaleY:Y.scale,offsetX:d,offsetY:h}}return{canvas:B.canvas,scaleX:F.scale,scaleY:$.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,r,n){const i=Math.max(zA.MAX_PATTERN_SIZE,r);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,r,n,i,s){const a=i-r,o=s-n;e.ctx.rect(r,n,a,o),$e.axialAlignedBoundingBox([r,n,i,s],dr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,s=e.current;switch(r){case V4.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case V4.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new Uxe(`Unsupported paint type: ${r}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,r,n,i){let s=n;i!==Dn.SHADING&&(s=$e.transform(s,r.baseTransform),this.matrix&&(s=$e.transform(s,this.matrix)));const a=this.createPatternCanvas(r);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};de(zA,"MAX_PATTERN_SIZE",3e3);let nO=zA;function jbe({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=zn.isLittleEndian?4278190080:255,[c,u]=a?[s,o]:[o,s],d=n>>3,h=n&7,f=t.length;r=new Uint32Array(r.buffer);let p=0;for(let v=0;v<i;v++){for(const x=e+d;e<x;e++){const y=e<f?t[e]:255;r[p++]=y&128?u:c,r[p++]=y&64?u:c,r[p++]=y&32?u:c,r[p++]=y&16?u:c,r[p++]=y&8?u:c,r[p++]=y&4?u:c,r[p++]=y&2?u:c,r[p++]=y&1?u:c}if(h===0)continue;const g=e<f?t[e++]:255;for(let x=0;x<h;x++)r[p++]=g&1<<7-x?u:c}return{srcPos:e,destPos:p}}const q4=16,G4=100,Abe=15,K4=10,Li=16,uP=new DOMMatrix,ys=new Float32Array(2),lm=new Float32Array([1/0,1/0,-1/0,-1/0]);function Ebe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,n){e.translate(r,n),this.__originalTranslate(r,n)},t.scale=function(r,n){e.scale(r,n),this.__originalScale(r,n)},t.transform=function(r,n,i,s,a,o){e.transform(r,n,i,s,a,o),this.__originalTransform(r,n,i,s,a,o)},t.setTransform=function(r,n,i,s,a,o){e.setTransform(r,n,i,s,a,o),this.__originalSetTransform(r,n,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,s,a,o){e.bezierCurveTo(r,n,i,s,a,o),this.__originalBezierCurveTo(r,n,i,s,a,o)},t.rect=function(r,n,i,s){e.rect(r,n,i,s),this.__originalRect(r,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Cbe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function s1(t,e,r,n,i,s,a,o,c,u){const[d,h,f,p,v,g]=dr(t);if(h===0&&f===0){const b=a*d+v,w=Math.round(b),S=o*p+g,_=Math.round(S),A=(a+c)*d+v,E=Math.abs(Math.round(A)-w)||1,N=(o+u)*p+g,T=Math.abs(Math.round(N)-_)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(p),w,_),t.drawImage(e,r,n,i,s,0,0,E,T),t.setTransform(d,h,f,p,v,g),[E,T]}if(d===0&&p===0){const b=o*f+v,w=Math.round(b),S=a*h+g,_=Math.round(S),A=(o+u)*f+v,E=Math.abs(Math.round(A)-w)||1,N=(a+c)*h+g,T=Math.abs(Math.round(N)-_)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,w,_),t.drawImage(e,r,n,i,s,0,0,T,E),t.setTransform(d,h,f,p,v,g),[T,E]}t.drawImage(e,r,n,i,s,a,o,c,u);const x=Math.hypot(d,h),y=Math.hypot(f,p);return[x*c,y*u]}class Y4{constructor(e,r){de(this,"alphaIsShape",!1);de(this,"fontSize",0);de(this,"fontSizeScale",1);de(this,"textMatrix",null);de(this,"textMatrixScale",1);de(this,"fontMatrix",Ok);de(this,"leading",0);de(this,"x",0);de(this,"y",0);de(this,"lineX",0);de(this,"lineY",0);de(this,"charSpacing",0);de(this,"wordSpacing",0);de(this,"textHScale",1);de(this,"textRenderingMode",Wn.FILL);de(this,"textRise",0);de(this,"fillColor","#000000");de(this,"strokeColor","#000000");de(this,"patternFill",!1);de(this,"patternStroke",!1);de(this,"fillAlpha",1);de(this,"strokeAlpha",1);de(this,"lineWidth",1);de(this,"activeSMask",null);de(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,r]),this.minMax=lm.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Dn.FILL,r=null){const n=this.minMax.slice();if(e===Dn.STROKE){r||Lt("Stroke bounding box must include transform."),$e.singularValueDecompose2dScale(r,ys);const i=ys[0]*this.lineWidth/2,s=ys[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=$e.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(lm,0)}getClippedPathBoundingBox(e=Dn.FILL,r=null){return $e.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function X4(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%Li,s=(r-i)/Li,a=i===0?s:s+1,o=t.createImageData(n,Li);let c=0,u;const d=e.data,h=o.data;let f,p,v,g;if(e.kind===V1.GRAYSCALE_1BPP){const x=d.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),b=y.length,w=n+7>>3,S=4294967295,_=zn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(v=f<s?Li:i,u=0,p=0;p<v;p++){const A=x-c;let E=0;const N=A>w?n:A*8-7,T=N&-8;let D=0,O=0;for(;E<T;E+=8)O=d[c++],y[u++]=O&128?S:_,y[u++]=O&64?S:_,y[u++]=O&32?S:_,y[u++]=O&16?S:_,y[u++]=O&8?S:_,y[u++]=O&4?S:_,y[u++]=O&2?S:_,y[u++]=O&1?S:_;for(;E<N;E++)D===0&&(O=d[c++],D=128),y[u++]=O&D?S:_,D>>=1}for(;u<b;)y[u++]=0;t.putImageData(o,0,f*Li)}}else if(e.kind===V1.RGBA_32BPP){for(p=0,g=n*Li*4,f=0;f<s;f++)h.set(d.subarray(c,c+g)),c+=g,t.putImageData(o,0,p),p+=Li;f<a&&(g=n*i*4,h.set(d.subarray(c,c+g)),t.putImageData(o,0,p))}else if(e.kind===V1.RGB_24BPP)for(v=Li,g=n*v,f=0;f<a;f++){for(f>=s&&(v=i,g=n*v),u=0,p=g;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;t.putImageData(o,0,f*Li)}else throw new Error(`bad image kind: ${e.kind}`)}function Z4(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%Li,s=(r-i)/Li,a=i===0?s:s+1,o=t.createImageData(n,Li);let c=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const f=h<s?Li:i;({srcPos:c}=jbe({src:u,srcPos:c,dest:d,width:n,height:f,nonBlackColor:0})),t.putImageData(o,0,h*Li)}}function Oy(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function a1(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function Q4(t,e){if(e)return!0;$e.singularValueDecompose2dScale(t,ys);const r=Math.fround(ul.pixelRatio*Nd.PDF_TO_CSS_UNITS);return ys[0]<=r&&ys[1]<=r}const Nbe=["butt","round","square"],Pbe=["miter","round","bevel"],Tbe={},J4={};var io,iO,sO,aO;const v$=class v${constructor(e,r,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},c,u){k(this,io);this.ctx=e,this.current=new Y4(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Cbe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...dr(this.compositeCtx))}this.ctx.save(),a1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=dr(this.ctx)}executeOperatorList(e,r,n,i){const s=e.argsArray,a=e.fnArray;let o=r||0;const c=s.length;if(c===o)return o;const u=c-o>K4&&typeof n=="function",d=u?Date.now()+Abe:0;let h=0;const f=this.commonObjs,p=this.objs;let v;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(v=a[o],v!==vj.dependency)this[v].apply(this,s[o]);else for(const g of s[o]){const x=g.startsWith("g_")?f:p;if(!x.has(g))return x.get(g,n),o}if(o++,o===c)return o;if(u&&++h>K4){if(Date.now()>d)return n(),o;h=0}}}endDrawing(){M(this,io,iO).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,io,sO).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(r[0],r[1]),1),a=Math.max(Math.hypot(r[2],r[3]),1),o=n,c=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&c>1;){let f=o,p=c;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,o,c,0,0,f,p),e=d.canvas,o=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=dr(r);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const T=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),c=this._cachedBitmapsMap.get(T),c||(c=new Map,this._cachedBitmapsMap.set(T,c));const D=c.get(u);if(D&&!a){const O=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:D,offsetX:O,offsetY:I}}d=D}d||(h=this.cachedCanvases.getCanvas("maskCanvas",n,i),Z4(h.context,e));let f=$e.transform(o,[1/n,0,0,-1/i,0,0]);f=$e.transform(f,[1,0,0,1,0,-i]);const p=lm.slice();$e.axialAlignedBoundingBox([0,0,n,i],f,p);const[v,g,x,y]=p,b=Math.round(x-v)||1,w=Math.round(y-g)||1,S=this.cachedCanvases.getCanvas("fillCanvas",b,w),_=S.context,A=v,E=g;_.translate(-A,-E),_.transform(...f),d||(d=this._scaleImage(h.canvas,fo(_)),d=d.img,c&&a&&c.set(u,d)),_.imageSmoothingEnabled=Q4(dr(_),e.interpolate),s1(_,d,0,0,d.width,d.height,0,0,n,i),_.globalCompositeOperation="source-in";const N=$e.transform(fo(_),[1,0,0,1,-A,-E]);return _.fillStyle=a?s.getPattern(r,this,N,Dn.FILL):s,_.fillRect(0,0,n,i),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(A),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Nbe[e]}setLineJoin(e){this.ctx.lineJoin=Pbe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),Oy(this.suspendedCtx,s),Ebe(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Oy(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const s=i[0],a=i[1],o=i[2]-s,c=i[3]-a;o===0||c===0||(this.genericComposeSMask(r.context,n,o,c,r.subtype,r.backdrop,r.transferMap,s,a,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,s,a,o,c,u,d,h){let f=e.canvas,p=c-d,v=u-h;if(a)if(p<0||v<0||p+n>f.width||v+i>f.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,i),y=x.context;y.drawImage(f,-p,-v),y.globalCompositeOperation="destination-atop",y.fillStyle=a,y.fillRect(0,0,n,i),y.globalCompositeOperation="source-over",f=x.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(p,v,n,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,v,n,i),e.restore()}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(c,u,n,i),r.clip(g),r.globalCompositeOperation="destination-in",r.drawImage(f,p,v,n,i,c,u,n,i),r.restore()}save(){this.inSMaskMode&&Oy(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Oy(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,r,n,i,s,a){this.ctx.transform(e,r,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){let[i]=r;if(!n){i||(i=r[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=r[0]=new Path2D;for(let a=0,o=i.length;a<o;)switch(i[a++]){case t1.moveTo:s.moveTo(i[a++],i[a++]);break;case t1.lineTo:s.lineTo(i[a++],i[a++]);break;case t1.curveTo:s.bezierCurveTo(i[a++],i[a++],i[a++],i[a++],i[a++],i[a++]);break;case t1.closePath:s.closePath();break;default:Ge(`Unrecognized drawing path operator: ${i[a-1]}`);break}i=s}$e.axialAlignedBoundingBox(n,dr(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,r=!0){const n=this.ctx,i=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=i.getPattern(n,this,fo(n),Dn.STROKE),s){const a=new Path2D;a.addPath(e,n.getTransform().invertSelf().multiplySelf(s)),e=a}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);r&&this.consumePath(e,this.current.getClippedPathBoundingBox(Dn.STROKE,dr(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,r=!0){const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let a=!1;if(s){const c=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=i.getPattern(n,this,fo(n),Dn.FILL),c){const u=new Path2D;u.addPath(e,n.getTransform().invertSelf().multiplySelf(c)),e=u}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),a&&n.restore(),r&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=Tbe}eoClip(){this.pendingClip=J4}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0)return;const n=new Path2D,i=r.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:c,path:u}of e)u&&n.addPath(u,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(c,-c));r.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){var d;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||Ok,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ge("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((d=n.systemFontInfo)==null?void 0:d.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const c=n.italic?"italic":"normal";let u=r;r<q4?u=q4:r>G4&&(u=G4),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e){const{current:r}=this;r.textMatrix=e,r.textMatrixScale=Math.hypot(e[0],e[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,i,s){const a=this.ctx,o=this.current,c=o.font,u=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=u&Wn.FILL_STROKE_MASK,f=!!(u&Wn.ADD_TO_PATH_FLAG),p=o.patternFill&&!c.missingFile,v=o.patternStroke&&!c.missingFile;let g;if((c.disableFontFace||f||p||v)&&!c.missingFile&&(g=c.getPathGenerator(this.commonObjs,e)),g&&(c.disableFontFace||p||v)){a.save(),a.translate(r,n),a.scale(d,-d);let x;if((h===Wn.FILL||h===Wn.FILL_STROKE)&&(i?(x=a.getTransform(),a.setTransform(...i),a.fill(M(this,io,aO).call(this,g,x,i))):a.fill(g)),h===Wn.STROKE||h===Wn.FILL_STROKE)if(s){x||(x=a.getTransform()),a.setTransform(...s);const{a:y,b,c:w,d:S}=x,_=$e.inverseTransform(s),A=$e.transform([y,b,w,S,0,0],_);$e.singularValueDecompose2dScale(A,ys),a.lineWidth*=Math.max(ys[0],ys[1])/d,a.stroke(M(this,io,aO).call(this,g,x,s))}else a.lineWidth/=d,a.stroke(g);a.restore()}else(h===Wn.FILL||h===Wn.FILL_STROKE)&&a.fillText(e,r,n),(h===Wn.STROKE||h===Wn.FILL_STROKE)&&a.strokeText(e,r,n);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dr(a),x:r,y:n,fontSize:d,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return dt(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const i=r.fontSize;if(i===0)return;const s=this.ctx,a=r.fontSizeScale,o=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,d=r.textHScale*u,h=e.length,f=n.vertical,p=f?1:-1,v=n.defaultVMetrics,g=i*r.fontMatrix[0],x=r.textRenderingMode===Wn.FILL&&!n.disableFontFace&&!r.patternFill;s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),u>0?s.scale(d,-1):s.scale(d,1);let y,b;if(r.patternFill){s.save();const E=r.fillColor.getPattern(s,this,fo(s),Dn.FILL);y=dr(s),s.restore(),s.fillStyle=E}if(r.patternStroke){s.save();const E=r.strokeColor.getPattern(s,this,fo(s),Dn.STROKE);b=dr(s),s.restore(),s.strokeStyle=E}let w=r.lineWidth;const S=r.textMatrixScale;if(S===0||w===0){const E=r.textRenderingMode&Wn.FILL_STROKE_MASK;(E===Wn.STROKE||E===Wn.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=S;if(a!==1&&(s.scale(a,a),w/=a),s.lineWidth=w,n.isInvalidPDFjsFont){const E=[];let N=0;for(const T of e)E.push(T.unicode),N+=T.width;s.fillText(E.join(""),0,0),r.x+=N*g*d,s.restore(),this.compose();return}let _=0,A;for(A=0;A<h;++A){const E=e[A];if(typeof E=="number"){_+=p*E*i/1e3;continue}let N=!1;const T=(E.isSpace?c:0)+o,D=E.fontChar,O=E.accent;let I,F,$=E.width;if(f){const L=E.vmetric||v,P=-(E.vmetric?L[1]:$*.5)*g,R=L[2]*g;$=L?-L[0]:$,I=P/a,F=(_+R)/a}else I=_/a,F=0;if(n.remeasure&&$>0){const L=s.measureText(D).width*1e3/i*a;if($<L&&this.isFontSubpixelAAEnabled){const P=$/L;N=!0,s.save(),s.scale(P,1),I/=P}else $!==L&&(I+=($-L)/2e3*i/a)}if(this.contentVisible&&(E.isInFont||n.missingFile)){if(x&&!O)s.fillText(D,I,F);else if(this.paintChar(D,I,F,y,b),O){const L=I+i*O.offset.x/a,P=F-i*O.offset.y/a;this.paintChar(O.fontChar,L,P,y,b)}}const B=f?$*g-T*u:$*g+T*u;_+=B,N&&s.restore()}f?r.y-=_:r.x+=_*d,s.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,c=n.charSpacing,u=n.wordSpacing,d=n.textHScale*a,h=n.fontMatrix||Ok,f=e.length,p=n.textRenderingMode===Wn.INVISIBLE;let v,g,x,y;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),r.scale(d,a),v=0;v<f;++v){if(g=e[v],typeof g=="number"){y=o*g*s/1e3,this.ctx.translate(y,0),n.x+=y*d;continue}const b=(g.isSpace?u:0)+c,w=i.charProcOperatorList[g.operatorListId];w?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...h),this.executeOperatorList(w),this.restore()):Ge(`Type3 character "${g.operatorListId}" is not available.`);const S=[g.width,0];$e.applyTransform(S,h),x=S[0]*s+b,r.translate(x,0),n.x+=x*d}r.restore()}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,i,s,a){const o=new Path2D;o.rect(n,i,s-n,a-i),this.ctx.clip(o),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=this.baseTransform||dr(this.ctx),i={createCanvasGraphics:s=>new v$(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new nO(e,this.ctx,i,n)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=Sbe(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,fo(r),Dn.SHADING);const i=fo(r);if(i){const{width:s,height:a}=r.canvas,o=lm.slice();$e.axialAlignedBoundingBox([0,0,s,a],i,o);const[c,u,d,h]=o;this.ctx.fillRect(c,u,d-c,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Lt("Should not call beginInlineImage")}beginImageData(){Lt("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dr(this.ctx),r)){$e.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[n,i,s,a]=r,o=new Path2D;o.rect(n,i,s-n,a-i),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||lC("TODO: Support non-isolated groups."),e.knockout&&Ge("Knockout groups not supported.");const n=dr(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=lm.slice();$e.axialAlignedBoundingBox(e.bbox,dr(r),i);const s=[0,0,r.canvas.width,r.canvas.height];i=$e.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-a,-o),f.transform(...n);let p=new Path2D;const[v,g,x,y]=e.bbox;if(p.rect(v,g,x-v,y-g),e.matrix){const b=new Path2D;b.addPath(p,new DOMMatrix(e.matrix)),p=b}f.clip(p),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(a,o),r.save()),Oy(r,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=dr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=lm.slice();$e.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i,s),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,r,n,i,s){if(M(this,io,iO).call(this),a1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],o=r[3]-r[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=a,r[3]=o,$e.singularValueDecompose2dScale(dr(this.ctx),ys);const{viewportScale:c}=this,u=Math.ceil(a*this.outputScaleX*c),d=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(ys[0],0,0,-ys[1],0,o*ys[1]),a1(this.ctx)}else{a1(this.ctx),this.endPath();const c=new Path2D;c.rect(r[0],r[1],a,o),this.ctx.clip(c)}}this.current=new Y4(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,io,sO).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=dr(o);o.transform(r,n,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=a.length;d<h;d+=2){const f=$e.transform(c,[r,n,i,s,a[d],a[d+1]]);o.drawImage(u.canvas,f[4],f[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:c,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",o,c),h=d.context;h.save();const f=this.getObject(a,s);Z4(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,fo(r),Dn.FILL):n,h.fillRect(0,0,o,c),h.restore(),r.save(),r.transform(...u),r.scale(1,-1),s1(r,d.canvas,0,0,o,c,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Ge("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ge("Dependent image isn't ready yet");return}const a=s.width,o=s.height,c=[];for(let u=0,d=i.length;u<d;u+=2)c.push({transform:[r,0,0,n,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(r,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/r,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",r,n).context;X4(u,e),a=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(a,fo(i));i.imageSmoothingEnabled=Q4(dr(i),e.interpolate),s1(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;X4(c,e),i=this.applyTransferMapsToCanvas(c)}for(const s of r)n.save(),n.transform(...s.transform),n.scale(1,-1),s1(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,r){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===J4?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const c=Math.abs(r),u=Math.abs(s);if(c===u)if(e===0)a=o=1/c;else{const d=c*e;a=o=d<1?1/d:1}else if(e===0)a=1/c,o=1/u;else{const d=c*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const c=Math.abs(r*s-n*i),u=Math.hypot(r,n),d=Math.hypot(i,s);if(e===0)a=d/c,o=u/c;else{const h=e*c;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,r){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();r&&n.save(),n.scale(s,a),uP.a=1/s,uP.d=1/a;const c=new Path2D;if(c.addPath(e,uP),o.length>0){const u=Math.max(s,a);n.setLineDash(o.map(d=>d/u)),n.lineDashOffset/=u}n.lineWidth=i||1,n.stroke(c),r&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};io=new WeakSet,iO=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},sO=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}},aO=function(e,r,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(r)),i};let Am=v$;for(const t in vj)Am.prototype[t]!==void 0&&(Am.prototype[vj[t]]=Am.prototype[t]);var R0,I0;class qo{static get workerPort(){return m(this,R0)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,R0,e)}static get workerSrc(){return m(this,I0)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,I0,e)}}R0=new WeakMap,I0=new WeakMap,k(qo,R0,null),k(qo,I0,"");var og,$0;class kbe{constructor({parsedData:e,rawData:r}){k(this,og);k(this,$0);C(this,og,e),C(this,$0,r)}getRaw(){return m(this,$0)}get(e){return m(this,og).get(e)??null}[Symbol.iterator](){return m(this,og).entries()}}og=new WeakMap,$0=new WeakMap;const Gp=Symbol("INTERNAL");var L0,F0,z0,lg;class Obe{constructor(e,{name:r,intent:n,usage:i,rbGroups:s}){k(this,L0,!1);k(this,F0,!1);k(this,z0,!1);k(this,lg,!0);C(this,L0,!!(e&ps.DISPLAY)),C(this,F0,!!(e&ps.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(m(this,z0))return m(this,lg);if(!m(this,lg))return!1;const{print:e,view:r}=this.usage;return m(this,L0)?(r==null?void 0:r.viewState)!=="OFF":m(this,F0)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==Gp&&Lt("Internal method `_setVisible` called."),C(this,z0,n),C(this,lg,r)}}L0=new WeakMap,F0=new WeakMap,z0=new WeakMap,lg=new WeakMap;var Du,Rt,cg,ug,B0,oO;class Mbe{constructor(e,r=ps.DISPLAY){k(this,B0);k(this,Du,null);k(this,Rt,new Map);k(this,cg,null);k(this,ug,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,ug,e.order);for(const n of e.groups)m(this,Rt).set(n.id,new Obe(r,n));if(e.baseState==="OFF")for(const n of m(this,Rt).values())n._setVisible(Gp,!1);for(const n of e.on)m(this,Rt).get(n)._setVisible(Gp,!0);for(const n of e.off)m(this,Rt).get(n)._setVisible(Gp,!1);C(this,cg,this.getHash())}}isVisible(e){if(m(this,Rt).size===0)return!0;if(!e)return lC("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,Rt).has(e.id)?m(this,Rt).get(e.id).visible:(Ge(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,B0,oO).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!m(this,Rt).has(r))return Ge(`Optional content group not found: ${r}`),!0;if(m(this,Rt).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!m(this,Rt).has(r))return Ge(`Optional content group not found: ${r}`),!0;if(!m(this,Rt).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!m(this,Rt).has(r))return Ge(`Optional content group not found: ${r}`),!0;if(!m(this,Rt).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!m(this,Rt).has(r))return Ge(`Optional content group not found: ${r}`),!0;if(m(this,Rt).get(r).visible)return!1}return!0}return Ge(`Unknown optional content policy ${e.policy}.`),!0}return Ge(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var s;const i=m(this,Rt).get(e);if(!i){Ge(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=m(this,Rt).get(o))==null||s._setVisible(Gp,!1,!0));i._setVisible(Gp,!!r,!0),C(this,Du,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=m(this,Rt).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!s.visible,r);break}}C(this,Du,null)}get hasInitialVisibility(){return m(this,cg)===null||this.getHash()===m(this,cg)}getOrder(){return m(this,Rt).size?m(this,ug)?m(this,ug).slice():[...m(this,Rt).keys()]:null}getGroup(e){return m(this,Rt).get(e)||null}getHash(){if(m(this,Du)!==null)return m(this,Du);const e=new d7;for(const[r,n]of m(this,Rt))e.update(`${r}:${n.visible}`);return C(this,Du,e.hexdigest())}[Symbol.iterator](){return m(this,Rt).entries()}}Du=new WeakMap,Rt=new WeakMap,cg=new WeakMap,ug=new WeakMap,B0=new WeakSet,oO=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const s=e[i];let a;if(Array.isArray(s))a=M(this,B0,oO).call(this,s);else if(m(this,Rt).has(s))a=m(this,Rt).get(s).visible;else return Ge(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class Dbe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){Ur(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ur(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,s;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Ur(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Rbe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new Ibe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Rbe{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=LR(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ibe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function $be(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let d=o(r);return d=unescape(d),d=c(d),d=u(d),s(d)}if(r=a(t),r){const d=u(r);return s(d)}if(r=n("filename","i").exec(t),r){r=r[1];let d=o(r);return d=u(d),s(d)}function n(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=t_(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,g,x,y]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[x,y]}const v=[];for(let g=0;g<h.length&&g in h;++g){let[x,y]=h[g];y=o(y),x&&(y=unescape(y),g===0&&(y=c(y))),v.push(y)}return v.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return i(f,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,x){return String.fromCharCode(parseInt(x,16))}),i(f,v);try{v=atob(v)}catch{}return i(f,v)})}return""}function S7(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function dC(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function j7({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function A7(t){const e=t.get("Content-Disposition");if(e){let r=$be(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(LR(r))return r}return null}function s_(t,e){return new yj(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function E7(t){return t===200||t===206}function C7(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function N7(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ge(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Lbe{constructor(e){de(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=S7(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ur(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Fbe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new zbe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Fbe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),i=r.url;fetch(i,C7(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=dC(s.url),!E7(s.status))throw s_(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=j7({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=A7(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Cd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:N7(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class zbe{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${r}-${n-1}`);const a=i.url;fetch(a,C7(s,this._withCredentials,this._abortController)).then(o=>{const c=dC(o.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!E7(o.status))throw s_(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:N7(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const dP=200,hP=206;function Bbe(t){const e=t.response;return typeof e!="string"?e:t_(e).buffer}class Ube{constructor({url:e,httpHeaders:r,withCredentials:n}){de(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=S7(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[s,a]of this.headers)r.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=hP):i.expectedStatus=dP,r.responseType="arraybuffer",Ur(e.onError,"Expected `onError` callback to be provided."),r.onerror=()=>{e.onError(r.status)},r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||dP;if(!(s===dP&&n.expectedStatus===hP)&&s!==n.expectedStatus){n.onError(i.status);return}const o=Bbe(i);if(s===hP){const c=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?n.onDone({begin:parseInt(u[1],10),chunk:o}):(Ge('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class Hbe{constructor(e){this._source=e,this._manager=new Ube(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Ur(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Wbe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new Vbe(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Wbe{constructor(e,r){this._manager=e,this._url=r.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e);this._manager._responseOrigin=dC(r.responseURL);const n=r.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...u]=o.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=j7({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=A7(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=s_(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Vbe{constructor(e,r,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:r,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var r;const e=dC((r=this._manager.getRequestXhr(this._requestId))==null?void 0:r.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=s_(e,this._url));for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const qbe=/^[a-z][a-z0-9\-+.]+:/i;function Gbe(t){if(qbe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Kbe{constructor(e){this.source=e,this.url=Gbe(e.url),Ur(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ur(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Ybe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new Xbe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Ybe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=s_(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Cd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xbe{constructor(e,r,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:r,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const My=Symbol("INITIAL_DATA");var rs,U0,lO;class P7{constructor(){k(this,U0);k(this,rs,Object.create(null))}get(e,r=null){if(r){const i=M(this,U0,lO).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=m(this,rs)[e];if(!n||n.data===My)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=m(this,rs)[e];return!!r&&r.data!==My}delete(e){const r=m(this,rs)[e];return!r||r.data===My?!1:(delete m(this,rs)[e],!0)}resolve(e,r=null){const n=M(this,U0,lO).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in m(this,rs)){const{data:n}=m(this,rs)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}C(this,rs,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,rs)){const{data:r}=m(this,rs)[e];r!==My&&(yield[e,r])}}}rs=new WeakMap,U0=new WeakSet,lO=function(e){var r;return(r=m(this,rs))[e]||(r[e]={...Promise.withResolvers(),data:My})};const Zbe=1e5,e3=30;var f6,Ru,Di,H0,W0,Kh,Xl,V0,q0,Yh,dg,hg,Iu,fg,G0,pg,Xh,K0,Y0,mg,Zh,X0,$u,gg,zc,T7,k7,cO,Ns,tS,uO,O7,M7;const Jr=class Jr{constructor({textContentSource:e,container:r,viewport:n}){k(this,zc);k(this,Ru,Promise.withResolvers());k(this,Di,null);k(this,H0,!1);k(this,W0,!!((f6=globalThis.FontInspector)!=null&&f6.enabled));k(this,Kh,null);k(this,Xl,null);k(this,V0,0);k(this,q0,0);k(this,Yh,null);k(this,dg,null);k(this,hg,0);k(this,Iu,0);k(this,fg,Object.create(null));k(this,G0,[]);k(this,pg,null);k(this,Xh,[]);k(this,K0,new WeakMap);k(this,Y0,null);var c;if(e instanceof ReadableStream)C(this,pg,e);else if(typeof e=="object")C(this,pg,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,Di,C(this,dg,r)),C(this,Iu,n.scale*ul.pixelRatio),C(this,hg,n.rotation),C(this,Xl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;C(this,Y0,[1,0,0,-1,-a,o+s]),C(this,q0,i),C(this,V0,s),M(c=Jr,Ns,O7).call(c),Xf(r,n),m(this,Ru).promise.finally(()=>{m(Jr,gg).delete(this),C(this,Xl,null),C(this,fg,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=zn.platform;return dt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,Yh).read().then(({value:r,done:n})=>{if(n){m(this,Ru).resolve();return}m(this,Kh)??C(this,Kh,r.lang),Object.assign(m(this,fg),r.styles),M(this,zc,T7).call(this,r.items),e()},m(this,Ru).reject)};return C(this,Yh,m(this,pg).getReader()),m(Jr,gg).add(this),e(),m(this,Ru).promise}update({viewport:e,onBefore:r=null}){var s;const n=e.scale*ul.pixelRatio,i=e.rotation;if(i!==m(this,hg)&&(r==null||r(),C(this,hg,i),Xf(m(this,dg),{rotation:i})),n!==m(this,Iu)){r==null||r(),C(this,Iu,n);const a={div:null,properties:null,ctx:M(s=Jr,Ns,tS).call(s,m(this,Kh))};for(const o of m(this,Xh))a.properties=m(this,K0).get(o),a.div=o,M(this,zc,cO).call(this,a)}}cancel(){var r;const e=new Cd("TextLayer task cancelled.");(r=m(this,Yh))==null||r.cancel(e).catch(()=>{}),C(this,Yh,null),m(this,Ru).reject(e)}get textDivs(){return m(this,Xh)}get textContentItemsStr(){return m(this,G0)}static cleanup(){if(!(m(this,gg).size>0)){m(this,mg).clear();for(const{canvas:e}of m(this,Zh).values())e.remove();m(this,Zh).clear()}}};Ru=new WeakMap,Di=new WeakMap,H0=new WeakMap,W0=new WeakMap,Kh=new WeakMap,Xl=new WeakMap,V0=new WeakMap,q0=new WeakMap,Yh=new WeakMap,dg=new WeakMap,hg=new WeakMap,Iu=new WeakMap,fg=new WeakMap,G0=new WeakMap,pg=new WeakMap,Xh=new WeakMap,K0=new WeakMap,Y0=new WeakMap,mg=new WeakMap,Zh=new WeakMap,X0=new WeakMap,$u=new WeakMap,gg=new WeakMap,zc=new WeakSet,T7=function(e){var i,s;if(m(this,H0))return;(s=m(this,Xl)).ctx??(s.ctx=M(i=Jr,Ns,tS).call(i,m(this,Kh)));const r=m(this,Xh),n=m(this,G0);for(const a of e){if(r.length>Zbe){Ge("Ignoring additional textDivs for performance reasons."),C(this,H0,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=m(this,Di);C(this,Di,document.createElement("span")),m(this,Di).classList.add("markedContent"),a.id&&m(this,Di).setAttribute("id",`${a.id}`),o.append(m(this,Di))}else a.type==="endMarkedContent"&&C(this,Di,m(this,Di).parentNode);continue}n.push(a.str),M(this,zc,k7).call(this,a)}},k7=function(e){var g;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,Xh).push(r);const i=$e.transform(m(this,Y0),e.transform);let s=Math.atan2(i[1],i[0]);const a=m(this,fg)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=m(this,W0)&&a.fontSubstitution||a.fontFamily;o=Jr.fontFamilyMap.get(o)||o;const c=Math.hypot(i[2],i[3]),u=c*M(g=Jr,Ns,M7).call(g,o,a,m(this,Kh));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=r.style;m(this,Di)===m(this,dg)?(p.left=`${(100*d/m(this,q0)).toFixed(2)}%`,p.top=`${(100*h/m(this,V0)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(m(Jr,$u)*c).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=c,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,m(this,W0)&&(r.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);x!==y&&Math.max(x,y)/Math.min(x,y)>1.5&&(v=!0)}if(v&&(n.canvasWidth=a.vertical?e.height:e.width),m(this,K0).set(r,n),m(this,Xl).div=r,m(this,Xl).properties=n,M(this,zc,cO).call(this,m(this,Xl)),n.hasText&&m(this,Di).append(r),n.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),m(this,Di).append(x)}},cO=function(e){var o;const{div:r,properties:n,ctx:i}=e,{style:s}=r;let a="";if(m(Jr,$u)>1&&(a=`scale(${1/m(Jr,$u)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:d}=n;M(o=Jr,Ns,uO).call(o,i,d*m(this,Iu),c);const{width:h}=i.measureText(r.textContent);h>0&&(a=`scaleX(${u*m(this,Iu)/h}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ns=new WeakSet,tS=function(e=null){let r=m(this,Zh).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Zh).set(e,r),m(this,X0).set(r,{size:0,family:""})}return r},uO=function(e,r,n){const i=m(this,X0).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},O7=function(){if(m(this,$u)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,$u,e.getBoundingClientRect().height),e.remove()},M7=function(e,r,n){const i=m(this,mg).get(e);if(i)return i;const s=M(this,Ns,tS).call(this,n);s.canvas.width=s.canvas.height=e3,M(this,Ns,uO).call(this,s,e3,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+c):(zn.platform.isFirefox&&Ge("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),r.ascent?u=r.ascent:r.descent&&(u=1+r.descent)),m(this,mg).set(e,u),u},k(Jr,Ns),k(Jr,mg,new Map),k(Jr,Zh,new Map),k(Jr,X0,new WeakMap),k(Jr,$u,null),k(Jr,gg,new Set);let wb=Jr;class _b{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(_b.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&r.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Qbe=100;function Jbe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new dO,{docId:r}=e,n=t.url?obe(t.url):null,i=t.data?lbe(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,c=t.range instanceof D7?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let d=t.worker instanceof Sb?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!cC(t.docBaseUrl)?t.docBaseUrl:null,p=n1(t.cMapUrl),v=t.cMapPacked!==!1,g=t.CMapReaderFactory||(fi?gbe:U4),x=n1(t.iccUrl),y=n1(t.standardFontDataUrl),b=t.StandardFontDataFactory||(fi?vbe:H4),w=n1(t.wasmUrl),S=t.WasmFactory||(fi?ybe:W4),_=t.stopAtErrors!==!0,A=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,E=t.isEvalSupported!==!1,N=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!fi,T=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!fi&&(zn.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,O=typeof t.disableFontFace=="boolean"?t.disableFontFace:fi,I=t.fontExtraProperties===!0,F=t.enableXfa===!0,$=t.ownerDocument||globalThis.document,B=t.disableRange===!0,L=t.disableStream===!0,P=t.disableAutoFetch===!0,R=t.pdfBug===!0,U=t.CanvasFactory||(fi?mbe:hbe),Y=t.FilterFactory||(fi?pbe:fbe),J=t.enableHWA===!0,X=t.useWasm!==!1,ee=c?c.length:t.length??NaN,ue=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!fi&&!O,we=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(g===U4&&b===H4&&S===W4&&p&&y&&w&&nx(p,document.baseURI)&&nx(y,document.baseURI)&&nx(w,document.baseURI)),je=null;Fxe(h);const V={canvasFactory:new U({ownerDocument:$,enableHWA:J}),filterFactory:new Y({docId:r,ownerDocument:$}),cMapReaderFactory:we?null:new g({baseUrl:p,isCompressed:v}),standardFontDataFactory:we?null:new b({baseUrl:y}),wasmFactory:we?null:new S({baseUrl:w})};d||(d=Sb.create({verbosity:h,port:qo.workerPort}),e._worker=d);const H={docId:r,apiVersion:"5.4.54",data:i,password:o,disableAutoFetch:P,rangeChunkSize:u,length:ee,docBaseUrl:f,enableXfa:F,evaluatorOptions:{maxImageSize:A,disableFontFace:O,ignoreErrors:_,isEvalSupported:E,isOffscreenCanvasSupported:N,isImageDecoderSupported:T,canvasMaxAreaInBytes:D,fontExtraProperties:I,useSystemFonts:ue,useWasm:X,useWorkerFetch:we,cMapUrl:p,iccUrl:x,standardFontDataUrl:y,wasmUrl:w}},Q={ownerDocument:$,pdfBug:R,styleElement:je,loadingParams:{disableAutoFetch:P,enableXfa:F}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ie=d.messageHandler.sendWithPromise("GetDocRequest",H,i?[i.buffer]:null);let ae;if(c)ae=new Dbe(c,{disableRange:B,disableStream:L});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const W=nx(n)?Lbe:fi?Kbe:Hbe;ae=new W({url:n,length:ee,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:B,disableStream:L})}return ie.then(W=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const me=new lx(r,W,d.port),Ae=new r0e(me,e,ae,Q,V,J);e._transport=Ae,me.send("Ready",null)})}).catch(e._capability.reject),e}var BA;const UA=class UA{constructor(){de(this,"_capability",Promise.withResolvers());de(this,"_transport",null);de(this,"_worker",null);de(this,"docId",`d${fn(UA,BA)._++}`);de(this,"destroyed",!1);de(this,"onPassword",null);de(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,r,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};BA=new WeakMap,k(UA,BA,0);let dO=UA;var Qh,Z0,Q0,J0,ew;class D7{constructor(e,r,n=!1,i=null){k(this,Qh,Promise.withResolvers());k(this,Z0,[]);k(this,Q0,[]);k(this,J0,[]);k(this,ew,[]);this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){m(this,ew).push(e)}addProgressListener(e){m(this,J0).push(e)}addProgressiveReadListener(e){m(this,Q0).push(e)}addProgressiveDoneListener(e){m(this,Z0).push(e)}onDataRange(e,r){for(const n of m(this,ew))n(e,r)}onDataProgress(e,r){m(this,Qh).promise.then(()=>{for(const n of m(this,J0))n(e,r)})}onDataProgressiveRead(e){m(this,Qh).promise.then(()=>{for(const r of m(this,Q0))r(e)})}onDataProgressiveDone(){m(this,Qh).promise.then(()=>{for(const e of m(this,Z0))e()})}transportReady(){m(this,Qh).resolve()}requestDataRange(e,r){Lt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Qh=new WeakMap,Z0=new WeakMap,Q0=new WeakMap,J0=new WeakMap,ew=new WeakMap;class e0e{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Zl,Jh,fx;class t0e{constructor(e,r,n,i=!1){k(this,Jh);k(this,Zl,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new F4:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new P7,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new n_({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:r=e.canvas,viewport:n,intent:i="display",annotationMode:s=uu.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1}){var _,A;(_=this._stats)==null||_.time("Overall");const p=this._transport.getRenderingIntent(i,s,h,f),{renderingIntent:v,cacheKey:g}=p;C(this,Zl,!1),c||(c=this._transport.getOptionalContentConfig(v));let x=this._intentStates.get(g);x||(x=Object.create(null),this._intentStates.set(g,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const y=!!(v&ps.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(p));const b=E=>{var N;x.renderTasks.delete(w),y&&C(this,Zl,!0),M(this,Jh,fx).call(this),E?(w.capability.reject(E),this._abortOperatorList({intentState:x,reason:E instanceof Error?E:new Error(E)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new hO({callback:b,params:{canvas:r,canvasContext:e,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA});(x.renderTasks||(x.renderTasks=new Set)).add(w);const S=w.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([E,N])=>{var T;if(this.destroyed){b();return}if((T=this._stats)==null||T.time("Rendering"),!(N.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:E,optionalContentConfig:N}),w.operatorListChanged()}).catch(b),S}getOperatorList({intent:e="display",annotationMode:r=uu.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,r,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_b.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:c,done:u}){if(u){n(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},i)}const a=r.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),C(this,Zl,!1),Promise.all(e)}cleanup(e=!1){C(this,Zl,!0);const r=M(this,Jh,fx).call(this);return e&&r&&this._stats&&(this._stats=new F4),r}_startRenderPage(e,r){var i,s;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&M(this,Jh,fx).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(r);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();M(this,Jh,fx).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof $R){let i=Qbe;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new Cd(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Zl=new WeakMap,Jh=new WeakSet,fx=function(){if(!m(this,Zl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:r}of this._intentStates.values())if(e.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,Zl,!1),!0};var Lu,Ma,Ql,ef,HA,tf,rf,bi,rS,R7,I7,px,vg,nS;const nr=class nr{constructor({name:e=null,port:r=null,verbosity:n=zxe()}={}){k(this,bi);k(this,Lu,Promise.withResolvers());k(this,Ma,null);k(this,Ql,null);k(this,ef,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,r){if(m(nr,rf).has(r))throw new Error("Cannot use more than one PDFWorker per port.");m(nr,rf).set(r,this),M(this,bi,R7).call(this,r)}else M(this,bi,I7).call(this)}get promise(){return m(this,Lu).promise}get port(){return m(this,Ql)}get messageHandler(){return m(this,Ma)}destroy(){var e,r;this.destroyed=!0,(e=m(this,ef))==null||e.terminate(),C(this,ef,null),m(nr,rf).delete(m(this,Ql)),C(this,Ql,null),(r=m(this,Ma))==null||r.destroy(),C(this,Ma,null)}static create(e){const r=m(this,rf).get(e==null?void 0:e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new nr(e)}static get workerSrc(){if(qo.workerSrc)return qo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return dt(this,"_setupFakeWorkerGlobal",(async()=>m(this,vg,nS)?m(this,vg,nS):(await import(this.workerSrc)).WorkerMessageHandler)())}};Lu=new WeakMap,Ma=new WeakMap,Ql=new WeakMap,ef=new WeakMap,HA=new WeakMap,tf=new WeakMap,rf=new WeakMap,bi=new WeakSet,rS=function(){m(this,Lu).resolve(),m(this,Ma).send("configure",{verbosity:this.verbosity})},R7=function(e){C(this,Ql,e),C(this,Ma,new lx("main","worker",e)),m(this,Ma).on("ready",()=>{}),M(this,bi,rS).call(this)},I7=function(){if(m(nr,tf)||m(nr,vg,nS)){M(this,bi,px).call(this);return}let{workerSrc:e}=nr;try{nr._isSameOrigin(window.location,e)||(e=nr._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new lx("main","worker",r),i=()=>{s.abort(),n.destroy(),r.terminate(),this.destroyed?m(this,Lu).reject(new Error("Worker was destroyed")):M(this,bi,px).call(this)},s=new AbortController;r.addEventListener("error",()=>{m(this,ef)||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}C(this,Ma,n),C(this,Ql,r),C(this,ef,r),M(this,bi,rS).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{M(this,bi,px).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{lC("The worker has been disabled.")}M(this,bi,px).call(this)},px=function(){m(nr,tf)||(Ge("Setting up fake worker."),C(nr,tf,!0)),nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){m(this,Lu).reject(new Error("Worker was destroyed"));return}const r=new dbe;C(this,Ql,r);const n=`fake${fn(nr,HA)._++}`,i=new lx(n+"_worker",n,r);e.setup(i,r),C(this,Ma,new lx(n,n+"_worker",r)),M(this,bi,rS).call(this)}).catch(e=>{m(this,Lu).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},vg=new WeakSet,nS=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(nr,vg),k(nr,HA,0),k(nr,tf,!1),k(nr,rf,new WeakMap),fi&&(C(nr,tf,!0),qo.workerSrc||(qo.workerSrc="./pdf.worker.mjs")),nr._isSameOrigin=(e,r)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(r,n);return n.origin===i.origin},nr._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))},nr.fromPort=e=>{if(Qxe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return nr.create(e)};let Sb=nr;var Jl,ko,yg,xg,ec,nf,mx;class r0e{constructor(e,r,n,i,s,a){k(this,nf);k(this,Jl,new Map);k(this,ko,new Map);k(this,yg,new Map);k(this,xg,new Map);k(this,ec,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new P7,this.fontLoader=new sbe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return dt(this,"annotationStorage",new FR)}getRenderingIntent(e,r=uu.ENABLE,n=null,i=!1,s=!1){let a=ps.DISPLAY,o=Qk;switch(e){case"any":a=ps.ANY;break;case"display":break;case"print":a=ps.PRINT;break;default:Ge(`getRenderingIntent - invalid intent: ${e}`)}const c=a&ps.PRINT&&n instanceof f7?n:this.annotationStorage;switch(r){case uu.DISABLE:a+=ps.ANNOTATIONS_DISABLE;break;case uu.ENABLE:break;case uu.ENABLE_FORMS:a+=ps.ANNOTATIONS_FORMS;break;case uu.ENABLE_STORAGE:a+=ps.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Ge(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(a+=ps.IS_EDITING),s&&(a+=ps.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=m(this,ec))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,ko).values())e.push(i._destroy());m(this,ko).clear(),m(this,yg).clear(),m(this,xg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Jl).clear(),this.filterFactory.destroy(),wb.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Cd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{Ur(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ur(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=r.onProgress)==null||o.call(r,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=r.onProgress)==null||u.call(r,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Ur(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ur(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new e0e(n,this))}),e.on("DocException",n=>{r._capability.reject(ki(n))}),e.on("PasswordRequest",n=>{C(this,ec,Promise.withResolvers());try{if(!r.onPassword)throw ki(n);const i=s=>{s instanceof Error?m(this,ec).reject(s):m(this,ec).resolve({password:s})};r.onPassword(i,n.code)}catch(i){m(this,ec).reject(i)}return m(this,ec).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;m(this,ko).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const d=s.error;Ge(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,c=new abe(s,o);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Ur(u,"The imageRef must be defined.");for(const d of m(this,ko).values())for(const[,h]of d.objs)if((h==null?void 0:h.ref)===u)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var c;if(this.destroyed)return;const o=m(this,ko).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ge("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=m(this,yg).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,xg).set(s.refStr,e);const a=new t0e(r,s,this,this._params.pdfBug);return m(this,ko).set(r,a),a});return m(this,yg).set(r,i),i}getPageIndex(e){return Jk(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return M(this,nf,mx).call(this,"GetFieldObjects")}hasJSActions(){return M(this,nf,mx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,nf,mx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,nf,mx).call(this,"GetOptionalContentConfig").then(r=>new Mbe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=m(this,Jl).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new kbe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return m(this,Jl).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of m(this,ko).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Jl).clear(),this.filterFactory.destroy(!0),wb.cleanup()}}cachedPageNumber(e){if(!Jk(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,xg).get(r)??null}}Jl=new WeakMap,ko=new WeakMap,yg=new WeakMap,xg=new WeakMap,ec=new WeakMap,nf=new WeakSet,mx=function(e,r=null){const n=m(this,Jl).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return m(this,Jl).set(e,i),i};var Fu;class n0e{constructor(e){k(this,Fu,null);de(this,"onContinue",null);de(this,"onError",null);C(this,Fu,e)}get promise(){return m(this,Fu).capability.promise}cancel(e=0){m(this,Fu).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Fu).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=m(this,Fu);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}Fu=new WeakMap;var zu,sf;const lh=class lh{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1}){k(this,zu,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new n0e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvas,this._canvasContext=r.canvas?null:r.canvasContext,this._enableHWA=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var o,c;if(this.cancelled)return;if(this._canvas){if(m(lh,sf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(lh,sf).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Am(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,r=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),m(this,zu)&&(window.cancelAnimationFrame(m(this,zu)),C(this,zu,null)),m(lh,sf).delete(this._canvas),e||(e=new $R(`Rendering cancelled, page ${this._pageIndex+1}`,r)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,zu,window.requestAnimationFrame(()=>{C(this,zu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(lh,sf).delete(this._canvas),this.callback())))}};zu=new WeakMap,sf=new WeakMap,k(lh,sf,new WeakSet);let hO=lh;const $7="5.4.54",i0e="295fb3ec4";var ns,af,bg,rn,tw,wg,tc,rw,Bu,Da,nw,$t,fO,pO,mO,eh,L7,ru;const Oi=class Oi{constructor({editor:e=null,uiManager:r=null}){k(this,$t);k(this,ns,null);k(this,af,null);k(this,bg);k(this,rn,null);k(this,tw,!1);k(this,wg,!1);k(this,tc,null);k(this,rw);k(this,Bu,null);k(this,Da,null);var n,i;e?(C(this,wg,!1),C(this,tc,e)):C(this,wg,!0),C(this,Da,(e==null?void 0:e._uiManager)||r),C(this,rw,m(this,Da)._eventBus),C(this,bg,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=m(this,Da))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),m(Oi,nw)||C(Oi,nw,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return dt(this,"_keyboardManager",new i_([[["Escape","mac+Escape"],Oi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Oi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Oi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Oi.prototype._moveToPrevious],[["Home","mac+Home"],Oi.prototype._moveToBeginning],[["End","mac+End"],Oi.prototype._moveToEnd]]))}renderButton(){const e=C(this,ns,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",m(this,tc)&&(e.ariaControls=`${m(this,tc).id}_colorpicker_dropdown`);const r=m(this,Da)._signal;e.addEventListener("click",M(this,$t,eh).bind(this),{signal:r}),e.addEventListener("keydown",M(this,$t,mO).bind(this),{signal:r});const n=C(this,af,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=m(this,bg),e.append(n),e}renderMainDropdown(){const e=C(this,rn,M(this,$t,fO).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===m(this,ns)){M(this,$t,eh).call(this,e);return}const r=e.target.getAttribute("data-color");r&&M(this,$t,pO).call(this,r,e)}_moveToNext(e){var r,n;if(!m(this,$t,ru)){M(this,$t,eh).call(this,e);return}if(e.target===m(this,ns)){(r=m(this,rn).firstChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=m(this,rn))==null?void 0:r.firstChild)||e.target===m(this,ns)){m(this,$t,ru)&&this._hideDropdownFromKeyboard();return}m(this,$t,ru)||M(this,$t,eh).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!m(this,$t,ru)){M(this,$t,eh).call(this,e);return}(r=m(this,rn).firstChild)==null||r.focus()}_moveToEnd(e){var r;if(!m(this,$t,ru)){M(this,$t,eh).call(this,e);return}(r=m(this,rn).lastChild)==null||r.focus()}hideDropdown(){var e,r;(e=m(this,rn))==null||e.classList.add("hidden"),m(this,ns).ariaExpanded="false",(r=m(this,Bu))==null||r.abort(),C(this,Bu,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,wg)){if(!m(this,$t,ru)){(e=m(this,tc))==null||e.unselect();return}this.hideDropdown(),m(this,ns).focus({preventScroll:!0,focusVisible:m(this,tw)})}}updateColor(e){if(m(this,af)&&(m(this,af).style.backgroundColor=e),!m(this,rn))return;const r=m(this,Da).highlightColors.values();for(const n of m(this,rn).children)n.ariaSelected=r.next().value===e.toUpperCase()}destroy(){var e,r;(e=m(this,ns))==null||e.remove(),C(this,ns,null),C(this,af,null),(r=m(this,rn))==null||r.remove(),C(this,rn,null)}};ns=new WeakMap,af=new WeakMap,bg=new WeakMap,rn=new WeakMap,tw=new WeakMap,wg=new WeakMap,tc=new WeakMap,rw=new WeakMap,Bu=new WeakMap,Da=new WeakMap,nw=new WeakMap,$t=new WeakSet,fO=function(){const e=document.createElement("div"),r=m(this,Da)._signal;e.addEventListener("contextmenu",ca,{signal:r}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,tc)&&(e.id=`${m(this,tc).id}_colorpicker_dropdown`);for(const[n,i]of m(this,Da).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",m(Oi,nw)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===m(this,bg),s.addEventListener("click",M(this,$t,pO).bind(this,i),{signal:r}),e.append(s)}return e.addEventListener("keydown",M(this,$t,mO).bind(this),{signal:r}),e},pO=function(e,r){r.stopPropagation(),m(this,rw).dispatch("switchannotationeditorparams",{source:this,type:yt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},mO=function(e){Oi._keyboardManager.exec(this,e)},eh=function(e){if(m(this,$t,ru)){this.hideDropdown();return}if(C(this,tw,e.detail===0),m(this,Bu)||(C(this,Bu,new AbortController),window.addEventListener("pointerdown",M(this,$t,L7).bind(this),{signal:m(this,Da).combinedSignal(m(this,Bu))})),m(this,ns).ariaExpanded="true",m(this,rn)){m(this,rn).classList.remove("hidden");return}const r=C(this,rn,M(this,$t,fO).call(this));m(this,ns).append(r)},L7=function(e){var r;(r=m(this,rn))!=null&&r.contains(e.target)||this.hideDropdown()},ru=function(){return m(this,rn)&&!m(this,rn).classList.contains("hidden")},k(Oi,nw,null);let _j=Oi;var Oo,iw,_g,sw;const ch=class ch{constructor(e){k(this,Oo,null);k(this,iw,null);k(this,_g,null);C(this,iw,e),C(this,_g,e._uiManager),m(ch,sw)||C(ch,sw,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(m(this,Oo))return m(this,Oo);const{editorType:e,colorType:r,colorValue:n}=m(this,iw),i=C(this,Oo,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",m(ch,sw)[e]),i.addEventListener("input",()=>{m(this,_g).updateParams(r,i.value)},{signal:m(this,_g)._signal}),i}update(e){m(this,Oo)&&(m(this,Oo).value=e)}destroy(){var e;(e=m(this,Oo))==null||e.remove(),C(this,Oo,null)}hideDropdown(){}};Oo=new WeakMap,iw=new WeakMap,_g=new WeakMap,sw=new WeakMap,k(ch,sw,null);let Sj=ch;function t3(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Dy(t){return Math.max(0,Math.min(255,255*t))}class r3{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Dy(e),[e,e,e]}static G_HTML([e]){const r=t3(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(Dy)}static RGB_HTML(e){return`#${e.map(t3).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[Dy(1-Math.min(1,e+i)),Dy(1-Math.min(1,n+i)),Dy(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,s=1-r,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class s0e{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Lt("Abstract method `_createSVG` called.")}}class jj extends s0e{_createSVG(e){return document.createElementNS(El,e)}}class F7{static setupStorage(e,r,n,i,s){const a=i.getValue(r,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(r,{value:u})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:s}){const{attributes:a}=r,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,r,n)}static render(e){var h,f;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",c=e.div;if(c.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&_b.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[p,v,g]=d.at(-1);if(v+1===p.children.length){d.pop();continue}const x=p.children[++d.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const w=document.createTextNode(x.value);u.push(w),g.append(w);continue}const b=(h=x==null?void 0:x.attributes)!=null&&h.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(g.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:r,intent:s,linkService:n}),((f=x.children)==null?void 0:f.length)>0)d.push([x,-1,b]);else if(x.value){const w=document.createTextNode(x.value);o&&_b.shouldBuildText(y)&&u.push(w),b.append(w)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const a0e=9,Qf=new WeakSet,o0e=new Date().getTimezoneOffset()*60*1e3;class n3{static create(e){switch(e.data.annotationType){case Dr.LINK:return new UR(e);case Dr.TEXT:return new l0e(e);case Dr.WIDGET:switch(e.data.fieldType){case"Tx":return new c0e(e);case"Btn":return e.data.radioButton?new U7(e):e.data.checkBox?new d0e(e):new h0e(e);case"Ch":return new f0e(e);case"Sig":return new u0e(e)}return new xp(e);case Dr.POPUP:return new vO(e);case Dr.FREETEXT:return new G7(e);case Dr.LINE:return new m0e(e);case Dr.SQUARE:return new g0e(e);case Dr.CIRCLE:return new v0e(e);case Dr.POLYLINE:return new K7(e);case Dr.CARET:return new x0e(e);case Dr.INK:return new HR(e);case Dr.POLYGON:return new y0e(e);case Dr.HIGHLIGHT:return new Y7(e);case Dr.UNDERLINE:return new b0e(e);case Dr.SQUIGGLY:return new w0e(e);case Dr.STRIKEOUT:return new _0e(e);case Dr.STAMP:return new X7(e);case Dr.FILEATTACHMENT:return new S0e(e);default:return new Tr(e)}}}var of,Sg,rc,aw,gO;const y$=class y${constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){k(this,aw);k(this,of,null);k(this,Sg,!1);k(this,rc,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:r}){return!!(e!=null&&e.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return y$._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;e.rect&&(m(this,of)||C(this,of,{rect:this.data.rect.slice(0)}));const{rect:r,popup:n}=e;r&&M(this,aw,gO).call(this,r);let i=((s=m(this,rc))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=m(this,rc).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),C(this,rc,null),this.popup=null))}resetEdited(){var e;m(this,of)&&(M(this,aw,gO).call(this,m(this,of).rect),(e=m(this,rc))==null||e.popup.resetEdited(),C(this,of,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",r.id),!(this instanceof xp)&&!(this instanceof UR)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,r.alternativeText&&(s.title=r.alternativeText),r.noRotate&&s.classList.add("norotate"),!r.rect||this instanceof vO){const{rotation:g}=r;return!r.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:o,height:c}=this;if(!e&&r.borderStyle.width>0){a.borderWidth=`${r.borderStyle.width}px`;const g=r.borderStyle.horizontalCornerRadius,x=r.borderStyle.verticalCornerRadius;if(g>0||x>0){const b=`calc(${g}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;a.borderRadius=b}else if(this instanceof U7){const b=`calc(${o}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;a.borderRadius=b}switch(r.borderStyle.style){case Up.SOLID:a.borderStyle="solid";break;case Up.DASHED:a.borderStyle="dashed";break;case Up.BEVELED:Ge("Unimplemented border style: beveled");break;case Up.INSET:Ge("Unimplemented border style: inset");break;case Up.UNDERLINE:a.borderBottomStyle="solid";break}const y=r.borderColor||null;y?(C(this,Sg,!0),a.borderColor=$e.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):a.borderWidth=0}const u=$e.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(u[0]-f)/d}%`,a.top=`${100*(u[1]-p)/h}%`;const{rotation:v}=r;return r.hasOwnCanvas||v===0?(a.width=`${100*o/d}%`,a.height=`${100*c/h}%`):this.setRotation(v,s),s}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),r.style.width=`${100*s/n}%`,r.style.height=`${100*a/i}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const s=i.detail[r],a=s[0],o=s.slice(1);i.target.style[n]=r3[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:r3[`${a}_rgb`](o)})};return dt(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const s=e[i]||n[i];s==null||s(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,s]of Object.entries(r)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,x,y,b]=e.subarray(2,6);if(i===g&&s===x&&r===y&&n===b)return}const{style:a}=this.container;let o;if(m(this,Sg)){const{borderColor:g,borderWidth:x}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const c=i-r,u=s-n,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,x=e.length;g<x;g+=8){const y=e[g],b=e[g+1],w=e[g+2],S=e[g+3],_=d.createElement("rect"),A=(w-r)/c,E=(s-b)/u,N=(y-w)/c,T=(b-S)/u;_.setAttribute("x",A),_.setAttribute("y",E),_.setAttribute("width",N),_.setAttribute("height",T),p.append(_),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${A}" y="${E}" width="${N}" height="${T}"/>`)}m(this,Sg)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:r}=this;let n,i;e?(n={str:e.text},i=e.date):(n=r.contentsObj,i=r.modificationDate);const s=C(this,rc,new vO({data:{color:r.color,titleObj:r.titleObj,modificationDate:i,contentsObj:n,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}get hasPopupElement(){return!!(m(this,rc)||this.popup||this.data.popupRef)}render(){Lt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===r)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Qf.has(u)){Ge(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:c,domElement:u})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==r&&Qf.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};of=new WeakMap,Sg=new WeakMap,rc=new WeakMap,aw=new WeakSet,gO=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;n==null||n.splice(0,4,...e),r.left=`${100*(e[0]-o)/s}%`,r.top=`${100*(a-e[3]+c)/a}%`,i===0?(r.width=`${100*(e[2]-e[0])/s}%`,r.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Tr=y$;var ws,th,z7,B7;class UR extends Tr{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});k(this,ws);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let s=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),s=!0):r.action?(this._bindNamedAction(i,r.action,r.overlaidText),s=!0):r.attachment?(M(this,ws,z7).call(this,i,r.attachment,r.overlaidText,r.attachmentDest),s=!0):r.setOCGState?(M(this,ws,B7).call(this,i,r.setOCGState,r.overlaidText),s=!0):r.dest?(this._bindLink(i,r.dest,r.overlaidText),s=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),s=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(r,n,i=""){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&M(this,ws,th).call(this),i&&(r.title=i)}_bindNamedAction(r,n,i=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(r.title=i),M(this,ws,th).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(r[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(r.title=n.overlaidText),r.onclick||(r.onclick=()=>!1),M(this,ws,th).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),M(this,ws,th).call(this),!this._fieldObjects){Ge('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=n,c=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const v=this._fieldObjects[p]||[];for(const{id:g}of v)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===o&&c.push(v)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!Qf.has(v)){Ge(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ws=new WeakSet,th=function(){this.container.setAttribute("data-internal-link","")},z7=function(r,n,i="",s=null){r.href=this.linkService.getAnchorUrl(""),n.description?r.title=n.description:i&&(r.title=i),r.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},M(this,ws,th).call(this)},B7=function(r,n,i=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(r.title=i),M(this,ws,th).call(this)};class l0e extends Tr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class xp extends Tr{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!r.focused||!a.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,r,n,i){var s,a,o;for(const[c,u]of n)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,c,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,r,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":$e.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||a0e,s=e.style;let a;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(sP*i))||1,h=u/d;a=Math.min(i,c(h/sP))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,c(u/sP))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=$e.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class c0e extends xp{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[r]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(r,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Qf.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;h&&(n.title=h),this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",x=>{e.setValue(r,{value:x.target.value}),this.setPropertyOnSiblings(n,"value",x.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",x=>{const y=this.data.defaultFieldValue??"";n.value=d.userValue=y,d.formattedValue=null});let g=x=>{const{formattedValue:y}=d;y!=null&&(x.target.value=y),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{var w;if(d.focused)return;const{target:b}=y;if(v&&(b.type=f,p&&(b.step=p)),d.userValue){const S=d.userValue;if(v)if(f==="time"){const _=new Date(S),A=[_.getHours(),_.getMinutes(),_.getSeconds()];b.value=A.map(E=>E.toString().padStart(2,"0")).join(":")}else b.value=new Date(S-o0e).toISOString().split(f==="date"?"T":".",1)[0];else b.value=S}d.lastCommittedValue=b.value,d.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){d.userValue=w.detail.value??"",v||e.setValue(r,{value:d.userValue.toString()}),w.target.value=d.userValue},formattedValue(w){const{formattedValue:S}=w.detail;d.formattedValue=S,S!=null&&w.target!==document.activeElement&&(w.target.value=S);const _={formattedValue:S};v&&(_.value=S),e.setValue(r,_)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var E;const{charLimit:S}=w.detail,{target:_}=w;if(S===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",S);let A=d.userValue;!A||A.length<=S||(A=A.slice(0,S),_.value=d.userValue=A,e.setValue(r,{value:A}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),n.addEventListener("keydown",y=>{var S;d.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(d.commitKey=3),b===-1)return;const{value:w}=y.target;d.lastCommittedValue!==w&&(d.lastCommittedValue=w,d.userValue=w,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const x=g;g=null,n.addEventListener("blur",y=>{var S,_;if(!d.focused||!y.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(d.focused=!1);const{target:b}=y;let{value:w}=b;if(v){if(w&&f==="time"){const A=w.split(":").map(E=>parseInt(E,10));w=new Date(2e3,0,1,A[0],A[1],A[2]||0).valueOf(),b.step=""}else w=new Date(w).valueOf();b.type="text"}d.userValue=w,d.lastCommittedValue!==w&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:w,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),x(y)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",y=>{var T;d.lastCommittedValue=null;const{data:b,target:w}=y,{value:S,selectionStart:_,selectionEnd:A}=w;let E=_,N=A;switch(y.inputType){case"deleteWordBackward":{const D=S.substring(0,_).match(/\w*[^\w]*$/);D&&(E-=D[0].length);break}case"deleteWordForward":{const D=S.substring(_).match(/^[^\w]*\w*/);D&&(N+=D[0].length);break}case"deleteContentBackward":_===A&&(E-=1);break;case"deleteContentForward":_===A&&(N+=1);break}y.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:S,change:b||"",willCommit:!1,selStart:E,selEnd:N}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class u0e extends xp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class d0e extends xp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Qf.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",r.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,n)){const d=c&&u.exportValue===r.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(n,{value:c})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue||"Off";a.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class U7 extends xp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(r.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Qf.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue;a.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const a=r.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===n;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class h0e extends UR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class f0e extends xp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");Qf.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,n.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){a==null||a();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const g of i.options)g.selected=v.has(g.value);e.setValue(r,{value:o(!0)}),c=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,v=f.detail.remove;p[v].selected=!1,i.remove(v),p.length>0&&Array.prototype.findIndex.call(p,x=>x.selected)===-1&&(p[0].selected=!0),e.setValue(r,{value:o(!0),items:u(f)}),c=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),c=o(!1)},insert(f){const{index:p,displayValue:v,exportValue:g}=f.detail.insert,x=i.children[p],y=document.createElement("option");y.textContent=v,y.value=g,x?x.before(y):i.append(y),e.setValue(r,{value:o(!0),items:u(f)}),c=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const v of p){const{displayValue:g,exportValue:x}=v,y=document.createElement("option");y.textContent=g,y.value=x,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:u(f)}),c=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(r,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=o(!0),f=o(!1);e.setValue(r,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class vO extends Tr{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:Tr._hasPopupData(r)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const r=this.popup=new p0e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=r,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${IR}${i}`).join(",")),this.container}}var jg,WA,VA,Ag,Eg,xr,nc,Uu,Cg,ow,Ng,Mo,is,Hu,ic,lw,sc,Pg,lf,Wu,St,iS,sS,yO,H7,W7,V7,q7,aS,oS,xO;class p0e{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:u,parentRect:d,open:h}){k(this,St);k(this,jg,M(this,St,V7).bind(this));k(this,WA,M(this,St,xO).bind(this));k(this,VA,M(this,St,oS).bind(this));k(this,Ag,M(this,St,aS).bind(this));k(this,Eg,null);k(this,xr,null);k(this,nc,null);k(this,Uu,null);k(this,Cg,null);k(this,ow,null);k(this,Ng,null);k(this,Mo,!1);k(this,is,null);k(this,Hu,null);k(this,ic,null);k(this,lw,null);k(this,sc,null);k(this,Pg,null);k(this,lf,null);k(this,Wu,!1);C(this,xr,e),C(this,Pg,i),C(this,nc,a),C(this,sc,o),C(this,ow,c),C(this,Eg,r),C(this,lw,u),C(this,Ng,d),C(this,Cg,n),C(this,Uu,xj.toDateObject(s)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),M(this,St,iS).call(this),m(this,xr).hidden=!0,h&&M(this,St,aS).call(this)}render(){var i;if(m(this,is))return;const e=C(this,is,document.createElement("div"));if(e.className="popup",m(this,Eg)){const s=e.style.outlineColor=$e.makeHexColor(...m(this,Eg));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const r=document.createElement("span");if(r.className="header",(i=m(this,Pg))!=null&&i.str){const s=document.createElement("span");s.className="title",r.append(s),{dir:s.dir,str:s.textContent}=m(this,Pg)}if(e.append(r),m(this,Uu)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Uu).valueOf()})),s.dateTime=m(this,Uu).toISOString(),r.append(s)}const n=m(this,St,sS);if(n)F7.render({xfaHtml:n,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,nc));e.append(s)}m(this,xr).append(e)}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popup:r,deleted:n}){var i;if(n||r!=null&&r.deleted){this.remove();return}M(this,St,iS).call(this),m(this,lf)||C(this,lf,{contentsObj:m(this,nc),richText:m(this,sc)}),e&&C(this,ic,null),r&&(C(this,sc,M(this,St,W7).call(this,r.text)),C(this,Uu,xj.toDateObject(r.date)),C(this,nc,null)),(i=m(this,is))==null||i.remove(),C(this,is,null)}resetEdited(){var e;m(this,lf)&&({contentsObj:fn(this,nc)._,richText:fn(this,sc)._}=m(this,lf),C(this,lf,null),(e=m(this,is))==null||e.remove(),C(this,is,null),C(this,ic,null))}remove(){var e,r;(e=m(this,Hu))==null||e.abort(),C(this,Hu,null),(r=m(this,is))==null||r.remove(),C(this,is,null),C(this,Wu,!1),C(this,Mo,!1);for(const n of this.trigger)n.classList.remove("popupTriggerArea")}forceHide(){C(this,Wu,this.isVisible),m(this,Wu)&&(m(this,xr).hidden=!0)}maybeShow(){M(this,St,iS).call(this),m(this,Wu)&&(m(this,is)||M(this,St,oS).call(this),C(this,Wu,!1),m(this,xr).hidden=!1)}get isVisible(){return m(this,xr).hidden===!1}}jg=new WeakMap,WA=new WeakMap,VA=new WeakMap,Ag=new WeakMap,Eg=new WeakMap,xr=new WeakMap,nc=new WeakMap,Uu=new WeakMap,Cg=new WeakMap,ow=new WeakMap,Ng=new WeakMap,Mo=new WeakMap,is=new WeakMap,Hu=new WeakMap,ic=new WeakMap,lw=new WeakMap,sc=new WeakMap,Pg=new WeakMap,lf=new WeakMap,Wu=new WeakMap,St=new WeakSet,iS=function(){var r;if(m(this,Hu))return;C(this,Hu,new AbortController);const{signal:e}=m(this,Hu);for(const n of this.trigger)n.addEventListener("click",m(this,Ag),{signal:e}),n.addEventListener("mouseenter",m(this,VA),{signal:e}),n.addEventListener("mouseleave",m(this,WA),{signal:e}),n.classList.add("popupTriggerArea");for(const n of m(this,Cg))(r=n.container)==null||r.addEventListener("keydown",m(this,jg),{signal:e})},sS=function(){const e=m(this,sc),r=m(this,nc);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&m(this,sc).html||null},yO=function(){var e,r,n;return((n=(r=(e=m(this,St,sS))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},H7=function(){var e,r,n;return((n=(r=(e=m(this,St,sS))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},W7=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:m(this,St,H7),fontSize:m(this,St,yO)?`calc(${m(this,St,yO)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))r.push({name:"span",value:s,attributes:i});return n},V7=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Mo))&&M(this,St,aS).call(this)},q7=function(){if(m(this,ic)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:s}}}=m(this,ow);let a=!!m(this,Ng),o=a?m(this,Ng):m(this,lw);for(const v of m(this,Cg))if(!o||$e.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const c=$e.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=c[0]+d,f=c[1];C(this,ic,[100*(h-i)/r,100*(f-s)/n]);const{style:p}=m(this,xr);p.left=`${m(this,ic)[0]}%`,p.top=`${m(this,ic)[1]}%`},aS=function(){C(this,Mo,!m(this,Mo)),m(this,Mo)?(M(this,St,oS).call(this),m(this,xr).addEventListener("click",m(this,Ag)),m(this,xr).addEventListener("keydown",m(this,jg))):(M(this,St,xO).call(this),m(this,xr).removeEventListener("click",m(this,Ag)),m(this,xr).removeEventListener("keydown",m(this,jg)))},oS=function(){m(this,is)||this.render(),this.isVisible?m(this,Mo)&&m(this,xr).classList.add("focused"):(M(this,St,q7).call(this),m(this,xr).hidden=!1,m(this,xr).style.zIndex=parseInt(m(this,xr).style.zIndex)+1e3)},xO=function(){m(this,xr).classList.remove("focused"),!(m(this,Mo)||!this.isVisible)&&(m(this,xr).hidden=!0,m(this,xr).style.zIndex=parseInt(m(this,xr).style.zIndex)-1e3)};class G7 extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=qe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cw;class m0e extends Tr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});k(this,cw,null)}render(){this.container.classList.add("lineAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=C(this,cw,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),a.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),a.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),a.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),a.setAttribute("stroke-width",r.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,cw)}addHighlightArea(){this.container.classList.add("highlightArea")}}cw=new WeakMap;var uw;class g0e extends Tr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});k(this,uw,null)}render(){this.container.classList.add("squareAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=C(this,uw,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,uw)}addHighlightArea(){this.container.classList.add("highlightArea")}}uw=new WeakMap;var dw;class v0e extends Tr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});k(this,dw,null)}render(){this.container.classList.add("circleAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=C(this,dw,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,dw)}addHighlightArea(){this.container.classList.add("highlightArea")}}dw=new WeakMap;var hw;class K7 extends Tr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});k(this,hw,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!n)return this.container;const c=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,f=n.length;h<f;h+=2){const p=n[h]-r[0],v=r[3]-n[h+1];u.push(`${p},${v}`)}u=u.join(" ");const d=C(this,hw,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,hw)}addHighlightArea(){this.container.classList.add("highlightArea")}}hw=new WeakMap;class y0e extends K7{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class x0e extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var fw,cf,pw,bO;class HR extends Tr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});k(this,pw);k(this,fw,null);k(this,cf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?qe.HIGHLIGHT:qe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:u}=M(this,pw,bO).call(this,n,r),d=this.svgFactory.create(c,u,!0),h=C(this,fw,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const v=this.svgFactory.createElement(this.svgElementName);m(this,cf).push(v),v.setAttribute("points",i[f].join(",")),h.append(v)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(r){super.updateEdited(r);const{thickness:n,points:i,rect:s}=r,a=m(this,fw);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,c=m(this,cf).length;o<c;o++)m(this,cf)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:c,height:u}=M(this,pw,bO).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return m(this,cf)}addHighlightArea(){this.container.classList.add("highlightArea")}}fw=new WeakMap,cf=new WeakMap,pw=new WeakSet,bO=function(r,n){switch(r){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class Y7 extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=qe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class b0e extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class w0e extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class _0e extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class X7 extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=qe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mw,gw,wO;class S0e extends Tr{constructor(r){var i;super(r,{isRenderable:!0});k(this,gw);k(this,mw,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",M(this,gw,wO).bind(this)),C(this,mw,i);const{isMac:s}=zn.platform;return r.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&M(this,gw,wO).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return m(this,mw)}addHighlightArea(){this.container.classList.add("highlightArea")}}mw=new WeakMap,gw=new WeakSet,wO=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var vw,uf,Vu,yw,kd,SO,jO;const x$=class x${constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){k(this,kd);k(this,vw,null);k(this,uf,null);k(this,Vu,new Map);k(this,yw,null);this.div=e,C(this,vw,r),C(this,uf,n),C(this,yw,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,Vu).size>0}async render(e){var a;const{annotations:r}=e,n=this.div;Xf(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new jj,annotationStorage:e.annotationStorage||new FR,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of r){if(o.noHTML)continue;const c=o.annotationType===Dr.POPUP;if(c){const h=i.get(o.id);if(!h)continue;s.elements=h}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const u=n3.create(s);if(!u.isRenderable)continue;if(!c&&o.popupRef){const h=i.get(o.popupRef);h?h.push(u):i.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),await M(this,kd,SO).call(this,d,o.id,s.elements),u._isEditable&&(m(this,Vu).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}M(this,kd,jO).call(this)}async addLinkAnnotations(e,r){const n={data:null,layer:this.div,linkService:r,svgFactory:new jj,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=x$._defaultBorderStyle),n.data=i;const s=n3.create(n);if(!s.isRenderable)continue;const a=s.render();await M(this,kd,SO).call(this,a,i.id,null)}}update({viewport:e}){const r=this.div;this.viewport=e,Xf(r,{rotation:e.rotation}),M(this,kd,jO).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Vu).values())}getEditableAnnotation(e){return m(this,Vu).get(e)}static get _defaultBorderStyle(){return dt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Up.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};vw=new WeakMap,uf=new WeakMap,Vu=new WeakMap,yw=new WeakMap,kd=new WeakSet,SO=async function(e,r,n){var o,c;const i=e.firstChild||e,s=i.id=`${IR}${r}`,a=await((o=m(this,yw))==null?void 0:o.getAriaAttributes(s));if(a)for(const[u,d]of a)i.setAttribute(u,d);n?n.at(-1).container.after(e):(this.div.append(e),(c=m(this,vw))==null||c.moveElementInDOM(this.div,e,i,!1))},jO=function(){var r;if(!m(this,uf))return;const e=this.div;for(const[n,i]of m(this,uf)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=m(this,Vu).get(n);o&&(o._hasNoCanvas?((r=this._annotationEditorUIManager)==null||r.setMissingCanvas(n,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}m(this,uf).clear()};let _O=x$;const o1=/\r\n?|\n/g;var Us,ss,xw,df,as,Vr,Z7,Q7,J7,lS,Nc,cS,uS,eK,EO,tK;const Ut=class Ut extends Vt{constructor(r){super({...r,name:"freeTextEditor"});k(this,Vr);k(this,Us);k(this,ss,"");k(this,xw,`${this.id}-editor`);k(this,df,null);k(this,as);de(this,"_colorPicker",null);C(this,Us,r.color||Ut._defaultColor||Vt._defaultLineColor),C(this,as,r.fontSize||Ut._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const r=Ut.prototype,n=a=>a.isEmpty(),i=Zf.TRANSLATE_SMALL,s=Zf.TRANSLATE_BIG;return dt(this,"_keyboardManager",new i_([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(r,n){Vt.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case yt.FREETEXT_SIZE:Ut._defaultFontSize=n;break;case yt.FREETEXT_COLOR:Ut._defaultColor=n;break}}updateParams(r,n){switch(r){case yt.FREETEXT_SIZE:M(this,Vr,Z7).call(this,n);break;case yt.FREETEXT_COLOR:M(this,Vr,Q7).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[yt.FREETEXT_SIZE,Ut._defaultFontSize],[yt.FREETEXT_COLOR,Ut._defaultColor||Vt._defaultLineColor]]}get propertiesToUpdate(){return[[yt.FREETEXT_SIZE,m(this,as)],[yt.FREETEXT_COLOR,m(this,Us)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Sj(this)),[["colorPicker",this._colorPicker]]}get colorType(){return yt.FREETEXT_COLOR}get colorValue(){return m(this,Us)}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-Ut._internalPadding*r,-(Ut._internalPadding+m(this,as))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,df,new AbortController);const r=this._uiManager.combinedSignal(m(this,df));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r}),!0}disableEditMode(){var r;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,xw)),this._isDraggable=!0,(r=m(this,df))==null||r.abort(),C(this,df,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(r){var n;this.width||(this.enableEditMode(),r&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=m(this,ss),n=C(this,ss,M(this,Vr,J7).call(this).trimEnd());if(r===n)return;const i=s=>{if(C(this,ss,s),!s){this.remove();return}M(this,Vr,uS).call(this),this._uiManager.rebuild(this),M(this,Vr,lS).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),M(this,Vr,lS).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){Ut._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let r,n;(this._isCopy||this.annotationElementId)&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,xw)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,as)}px * var(--total-scale-factor))`,i.color=m(this,Us),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=r+(o[0]-f)/d,g=n+this.height-(o[1]-p)/h;break;case 90:v=r+(o[0]-f)/d,g=n-(o[1]-p)/h,[c,u]=[u,-c];break;case 180:v=r-this.width+(o[0]-f)/d,g=n-(o[1]-p)/h,[c,u]=[-c,-u];break;case 270:v=r+(o[0]-f-this.height*h)/d,g=n+(o[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(v*s,g*a,c,u)}else this._moveAfterPaste(r,n);M(this,Vr,uS).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var v,g,x;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const s=M(v=Ut,Nc,EO).call(v,n.getData("text")||"").replaceAll(o1,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=o,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(o1,"")),y!==this.editorDiv){let b=d;for(const w of this.editorDiv.childNodes){if(w===y){b=h;continue}b.push(M(g=Ut,Nc,cS).call(g,w))}}d.push(c.nodeValue.slice(0,u).replaceAll(o1,""))}else if(c===this.editorDiv){let y=d,b=0;for(const w of this.editorDiv.childNodes)b++===u&&(y=h),y.push(M(x=Ut,Nc,cS).call(x,w))}C(this,ss,`${d.join(`
`)}${s}${h.join(`
`)}`),M(this,Vr,uS).call(this);const f=new Range;let p=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(p<=b){f.setStart(y,p),f.setEnd(y,p);break}p-=b}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(r,n,i){var o;let s=null;if(r instanceof G7){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,contentsObj:v},textContent:g,textPosition:x,parent:{page:{pageNumber:y}}}=r;if(!g||g.length===0)return null;s=r={annotationType:qe.FREETEXT,color:Array.from(u),fontSize:c,value:g.join(`
`),position:x,pageIndex:y-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(v==null?void 0:v.str)||null}}const a=await super.deserialize(r,n,i);return C(a,as,r.fontSize),C(a,Us,$e.makeHexColor(...r.color)),C(a,ss,M(o=Ut,Nc,EO).call(o,r.value)),a._initialData=s,r.comment&&a.setCommentData(r.comment),a}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ut._internalPadding*this.parentScale,i=this.getRect(n,n),s=Vt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Us)),a={annotationType:qe.FREETEXT,color:s,fontSize:m(this,as),value:M(this,Vr,eK).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(a),r?(a.isCopy=!0,a):this.annotationElementId&&!M(this,Vr,tK).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r),{style:i}=n;i.fontSize=`calc(${m(this,as)}px * var(--total-scale-factor))`,i.color=m(this,Us),n.replaceChildren();for(const o of m(this,ss).split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),n.append(c)}const s=Ut._internalPadding*this.parentScale,a={rect:this.getRect(s,s)};return a.popup=this.hasEditedComment?this.comment:{text:m(this,ss)},r.updateEdited(a),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};Us=new WeakMap,ss=new WeakMap,xw=new WeakMap,df=new WeakMap,as=new WeakMap,Vr=new WeakSet,Z7=function(r){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-m(this,as))*this.parentScale),C(this,as,s),M(this,Vr,lS).call(this)},i=m(this,as);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Q7=function(r){const n=s=>{var a;C(this,Us,this.editorDiv.style.color=s),(a=this._colorPicker)==null||a.update(s)},i=m(this,Us);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},J7=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(r.push(M(i=Ut,Nc,cS).call(i,s)),n=s);return r.join(`
`)},lS=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Nc=new WeakSet,cS=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(o1,"")},uS=function(){if(this.editorDiv.replaceChildren(),!!m(this,ss))for(const r of m(this,ss).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},eK=function(){return m(this,ss).replaceAll(" "," ")},EO=function(r){return r.replaceAll(" "," ")},tK=function(r){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,c)=>o!==s[c])||r.pageIndex!==a},k(Ut,Nc),de(Ut,"_freeTextDefaultContent",""),de(Ut,"_internalPadding",0),de(Ut,"_defaultColor",null),de(Ut,"_defaultFontSize",10),de(Ut,"_type","freetext"),de(Ut,"_editorType",qe.FREETEXT);let AO=Ut;class Ne{toSVGPath(){Lt("Abstract method `toSVGPath` must be implemented.")}get box(){Lt("Abstract getter `box` must be implemented.")}serialize(e,r){Lt("Abstract method `serialize` must be implemented.")}static _rescale(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=r+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=r+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,r,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=r+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,r,n,i,s){switch(s){case 90:return[1-r/n,e/i];case 180:return[1-e/n,1-r/i];case 270:return[r/n,1-e/i];default:return[e/n,r/i]}}static _normalizePagePoint(e,r,n){switch(n){case 90:return[1-r,e];case 180:return[1-e,1-r];case 270:return[r,1-e];default:return[e,r]}}static createBezierPoints(e,r,n,i,s,a){return[(e+5*n)/6,(r+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}de(Ne,"PRECISION",1e-4);var os,Ra,Tg,kg,Do,lt,hf,ff,bw,ww,Og,Mg,qu,_w,qA,GA,ln,gx,rK,nK,iK,sK,aK,oK;const Ml=class Ml{constructor({x:e,y:r},n,i,s,a,o=0){k(this,ln);k(this,os);k(this,Ra,[]);k(this,Tg);k(this,kg);k(this,Do,[]);k(this,lt,new Float32Array(18));k(this,hf);k(this,ff);k(this,bw);k(this,ww);k(this,Og);k(this,Mg);k(this,qu,[]);C(this,os,n),C(this,Mg,s*i),C(this,kg,a),m(this,lt).set([NaN,NaN,NaN,NaN,e,r],6),C(this,Tg,o),C(this,ww,m(Ml,_w)*i),C(this,bw,m(Ml,GA)*i),C(this,Og,i),m(this,qu).push(e,r)}isEmpty(){return isNaN(m(this,lt)[8])}add({x:e,y:r}){var T;C(this,hf,e),C(this,ff,r);const[n,i,s,a]=m(this,os);let[o,c,u,d]=m(this,lt).subarray(8,12);const h=e-u,f=r-d,p=Math.hypot(h,f);if(p<m(this,bw))return!1;const v=p-m(this,ww),g=v/p,x=g*h,y=g*f;let b=o,w=c;o=u,c=d,u+=x,d+=y,(T=m(this,qu))==null||T.push(e,r);const S=-y/v,_=x/v,A=S*m(this,Mg),E=_*m(this,Mg);return m(this,lt).set(m(this,lt).subarray(2,8),0),m(this,lt).set([u+A,d+E],4),m(this,lt).set(m(this,lt).subarray(14,18),12),m(this,lt).set([u-A,d-E],16),isNaN(m(this,lt)[6])?(m(this,Do).length===0&&(m(this,lt).set([o+A,c+E],2),m(this,Do).push(NaN,NaN,NaN,NaN,(o+A-n)/s,(c+E-i)/a),m(this,lt).set([o-A,c-E],14),m(this,Ra).push(NaN,NaN,NaN,NaN,(o-A-n)/s,(c-E-i)/a)),m(this,lt).set([b,w,o,c,u,d],6),!this.isEmpty()):(m(this,lt).set([b,w,o,c,u,d],6),Math.abs(Math.atan2(w-c,b-o)-Math.atan2(y,x))<Math.PI/2?([o,c,u,d]=m(this,lt).subarray(2,6),m(this,Do).push(NaN,NaN,NaN,NaN,((o+u)/2-n)/s,((c+d)/2-i)/a),[o,c,b,w]=m(this,lt).subarray(14,18),m(this,Ra).push(NaN,NaN,NaN,NaN,((b+o)/2-n)/s,((w+c)/2-i)/a),!0):([b,w,o,c,u,d]=m(this,lt).subarray(0,6),m(this,Do).push(((b+5*o)/6-n)/s,((w+5*c)/6-i)/a,((5*o+u)/6-n)/s,((5*c+d)/6-i)/a,((o+u)/2-n)/s,((c+d)/2-i)/a),[u,d,o,c,b,w]=m(this,lt).subarray(12,18),m(this,Ra).push(((b+5*o)/6-n)/s,((w+5*c)/6-i)/a,((5*o+u)/6-n)/s,((5*c+d)/6-i)/a,((o+u)/2-n)/s,((c+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Do),r=m(this,Ra);if(isNaN(m(this,lt)[6])&&!this.isEmpty())return M(this,ln,rK).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);M(this,ln,iK).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return M(this,ln,nK).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,s,a){return new lK(e,r,n,i,s,a)}getOutlines(){var h;const e=m(this,Do),r=m(this,Ra),n=m(this,lt),[i,s,a,o]=m(this,os),c=new Float32Array((((h=m(this,qu))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(m(this,qu)[f]-i)/a,c[f+1]=(m(this,qu)[f+1]-s)/o;if(c[c.length-2]=(m(this,hf)-i)/a,c[c.length-1]=(m(this,ff)-s)/o,isNaN(n[6])&&!this.isEmpty())return M(this,ln,sK).call(this,c);const u=new Float32Array(m(this,Do).length+24+m(this,Ra).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=M(this,ln,oK).call(this,u,d);for(let f=r.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(r[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=r[f+p],u[d+1]=r[f+p+1],d+=2}return M(this,ln,aK).call(this,u,d),this.newFreeDrawOutline(u,c,m(this,os),m(this,Og),m(this,Tg),m(this,kg))}};os=new WeakMap,Ra=new WeakMap,Tg=new WeakMap,kg=new WeakMap,Do=new WeakMap,lt=new WeakMap,hf=new WeakMap,ff=new WeakMap,bw=new WeakMap,ww=new WeakMap,Og=new WeakMap,Mg=new WeakMap,qu=new WeakMap,_w=new WeakMap,qA=new WeakMap,GA=new WeakMap,ln=new WeakSet,gx=function(){const e=m(this,lt).subarray(4,6),r=m(this,lt).subarray(16,18),[n,i,s,a]=m(this,os);return[(m(this,hf)+(e[0]-r[0])/2-n)/s,(m(this,ff)+(e[1]-r[1])/2-i)/a,(m(this,hf)+(r[0]-e[0])/2-n)/s,(m(this,ff)+(r[1]-e[1])/2-i)/a]},rK=function(){const[e,r,n,i]=m(this,os),[s,a,o,c]=M(this,ln,gx).call(this);return`M${(m(this,lt)[2]-e)/n} ${(m(this,lt)[3]-r)/i} L${(m(this,lt)[4]-e)/n} ${(m(this,lt)[5]-r)/i} L${s} ${a} L${o} ${c} L${(m(this,lt)[16]-e)/n} ${(m(this,lt)[17]-r)/i} L${(m(this,lt)[14]-e)/n} ${(m(this,lt)[15]-r)/i} Z`},nK=function(e){const r=m(this,Ra);e.push(`L${r[4]} ${r[5]} Z`)},iK=function(e){const[r,n,i,s]=m(this,os),a=m(this,lt).subarray(4,6),o=m(this,lt).subarray(16,18),[c,u,d,h]=M(this,ln,gx).call(this);e.push(`L${(a[0]-r)/i} ${(a[1]-n)/s} L${c} ${u} L${d} ${h} L${(o[0]-r)/i} ${(o[1]-n)/s}`)},sK=function(e){const r=m(this,lt),[n,i,s,a]=m(this,os),[o,c,u,d]=M(this,ln,gx).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(r[2]-n)/s,(r[3]-i)/a,NaN,NaN,NaN,NaN,(r[4]-n)/s,(r[5]-i)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(r[16]-n)/s,(r[17]-i)/a,NaN,NaN,NaN,NaN,(r[14]-n)/s,(r[15]-i)/a],0),this.newFreeDrawOutline(h,e,m(this,os),m(this,Og),m(this,Tg),m(this,kg))},aK=function(e,r){const n=m(this,Ra);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},oK=function(e,r){const n=m(this,lt).subarray(4,6),i=m(this,lt).subarray(16,18),[s,a,o,c]=m(this,os),[u,d,h,f]=M(this,ln,gx).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c],r),r+=24},k(Ml,_w,8),k(Ml,qA,2),k(Ml,GA,m(Ml,_w)+m(Ml,qA));let Aj=Ml;var Dg,pf,ac,Sw,ls,jw,jr,KA,cK;class lK extends Ne{constructor(r,n,i,s,a,o){super();k(this,KA);k(this,Dg);k(this,pf,new Float32Array(4));k(this,ac);k(this,Sw);k(this,ls);k(this,jw);k(this,jr);C(this,jr,r),C(this,ls,n),C(this,Dg,i),C(this,jw,s),C(this,ac,a),C(this,Sw,o),this.lastPoint=[NaN,NaN],M(this,KA,cK).call(this,o);const[c,u,d,h]=m(this,pf);for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-c)/d,r[f+1]=(r[f+1]-u)/h;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-c)/d,n[f+1]=(n[f+1]-u)/h}toSVGPath(){const r=[`M${m(this,jr)[4]} ${m(this,jr)[5]}`];for(let n=6,i=m(this,jr).length;n<i;n+=6){if(isNaN(m(this,jr)[n])){r.push(`L${m(this,jr)[n+4]} ${m(this,jr)[n+5]}`);continue}r.push(`C${m(this,jr)[n]} ${m(this,jr)[n+1]} ${m(this,jr)[n+2]} ${m(this,jr)[n+3]} ${m(this,jr)[n+4]} ${m(this,jr)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,s],a){const o=i-r,c=s-n;let u,d;switch(a){case 0:u=Ne._rescale(m(this,jr),r,s,o,-c),d=Ne._rescale(m(this,ls),r,s,o,-c);break;case 90:u=Ne._rescaleAndSwap(m(this,jr),r,n,o,c),d=Ne._rescaleAndSwap(m(this,ls),r,n,o,c);break;case 180:u=Ne._rescale(m(this,jr),i,n,-o,c),d=Ne._rescale(m(this,ls),i,n,-o,c);break;case 270:u=Ne._rescaleAndSwap(m(this,jr),i,s,-o,-c),d=Ne._rescaleAndSwap(m(this,ls),i,s,-o,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return m(this,pf)}newOutliner(r,n,i,s,a,o=0){return new Aj(r,n,i,s,a,o)}getNewOutline(r,n){const[i,s,a,o]=m(this,pf),[c,u,d,h]=m(this,Dg),f=a*d,p=o*h,v=i*d+c,g=s*h+u,x=this.newOutliner({x:m(this,ls)[0]*f+v,y:m(this,ls)[1]*p+g},m(this,Dg),m(this,jw),r,m(this,Sw),n??m(this,ac));for(let y=2;y<m(this,ls).length;y+=2)x.add({x:m(this,ls)[y]*f+v,y:m(this,ls)[y+1]*p+g});return x.getOutlines()}}Dg=new WeakMap,pf=new WeakMap,ac=new WeakMap,Sw=new WeakMap,ls=new WeakMap,jw=new WeakMap,jr=new WeakMap,KA=new WeakSet,cK=function(r){const n=m(this,jr);let i=n[4],s=n[5];const a=[i,s,i,s];let o=i,c=s;const u=r?Math.max:Math.min;for(let h=6,f=n.length;h<f;h+=6){const p=n[h+4],v=n[h+5];if(isNaN(n[h]))$e.pointBoundingBox(p,v,a),c<v?(o=p,c=v):c===v&&(o=u(o,p));else{const g=[1/0,1/0,-1/0,-1/0];$e.bezierBoundingBox(i,s,...n.slice(h,h+6),g),$e.rectBoundingBox(...g,a),c<g[3]?(o=g[2],c=g[3]):c===g[3]&&(o=u(o,g[2]))}i=p,s=v}const d=m(this,pf);d[0]=a[0]-m(this,ac),d[1]=a[1]-m(this,ac),d[2]=a[2]-a[0]+2*m(this,ac),d[3]=a[3]-a[1]+2*m(this,ac),this.lastPoint=[o,c]};var Aw,Ew,Gu,Ia,Si,uK,dS,dK,hK,NO;class CO{constructor(e,r=0,n=0,i=!0){k(this,Si);k(this,Aw);k(this,Ew);k(this,Gu,[]);k(this,Ia,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:v,width:g,height:x}of e){const y=Math.floor((p-r)/a)*a,b=Math.ceil((p+g+r)/a)*a,w=Math.floor((v-r)/a)*a,S=Math.ceil((v+x+r)/a)*a,_=[y,w,S,!0],A=[b,w,S,!1];m(this,Gu).push(_,A),$e.rectBoundingBox(y,w,b,S,s)}const o=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,u=s[0]-n,d=s[1]-n,h=m(this,Gu).at(i?-1:-2),f=[h[0],h[2]];for(const p of m(this,Gu)){const[v,g,x]=p;p[0]=(v-u)/o,p[1]=(g-d)/c,p[2]=(x-d)/c}C(this,Aw,new Float32Array([u,d,o,c])),C(this,Ew,f)}getOutlines(){m(this,Gu).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of m(this,Gu))r[3]?(e.push(...M(this,Si,NO).call(this,r)),M(this,Si,dK).call(this,r)):(M(this,Si,hK).call(this,r),e.push(...M(this,Si,NO).call(this,r)));return M(this,Si,uK).call(this,e)}}Aw=new WeakMap,Ew=new WeakMap,Gu=new WeakMap,Ia=new WeakMap,Si=new WeakSet,uK=function(e){const r=[],n=new Set;for(const a of e){const[o,c,u]=a;r.push([o,c,a],[o,u,a])}r.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=r.length;a<o;a+=2){const c=r[a][2],u=r[a+1][2];c.push(u),u.push(c),n.add(c),n.add(u)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,c,u,d,h]=a;n.delete(a);let f=o,p=c;for(s=[o,u],i.push(s);;){let v;if(n.has(d))v=d;else if(n.has(h))v=h;else break;n.delete(v),[o,c,u,d,h]=v,f!==o&&(s.push(f,p,o,p===c?c:u),f=o),p=p===c?u:c}s.push(f,p)}return new j0e(i,m(this,Aw),m(this,Ew))},dS=function(e){const r=m(this,Ia);let n=0,i=r.length-1;for(;n<=i;){const s=n+i>>1,a=r[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},dK=function([,e,r]){const n=M(this,Si,dS).call(this,e);m(this,Ia).splice(n,0,[e,r])},hK=function([,e,r]){const n=M(this,Si,dS).call(this,e);for(let i=n;i<m(this,Ia).length;i++){const[s,a]=m(this,Ia)[i];if(s!==e)break;if(s===e&&a===r){m(this,Ia).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=m(this,Ia)[i];if(s!==e)break;if(s===e&&a===r){m(this,Ia).splice(i,1);return}}},NO=function(e){const[r,n,i]=e,s=[[r,n,i]],a=M(this,Si,dS).call(this,i);for(let o=0;o<a;o++){const[c,u]=m(this,Ia)[o];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=c,p>u&&s.push([r,u,p])}}}return s};var Cw,Rg;class j0e extends Ne{constructor(r,n,i){super();k(this,Cw);k(this,Rg);C(this,Rg,r),C(this,Cw,n),this.lastPoint=i}toSVGPath(){const r=[];for(const n of m(this,Rg)){let[i,s]=n;r.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],c=n[a+1];o===i?(r.push(`V${c}`),s=c):c===s&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,s],a){const o=[],c=i-r,u=s-n;for(const d of m(this,Rg)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=r+d[f]*c,h[f+1]=s-d[f+1]*u;o.push(h)}return o}get box(){return m(this,Cw)}get classNamesForOutlining(){return["highlightOutline"]}}Cw=new WeakMap,Rg=new WeakMap;class PO extends Aj{newFreeDrawOutline(e,r,n,i,s,a){return new A0e(e,r,n,i,s,a)}}class A0e extends lK{newOutliner(e,r,n,i,s,a=0){return new PO(e,r,n,i,s,a)}}var Ig,Nw,oc,mf,Pw,Ri,Tw,kw,gf,Hs,cs,Tn,$g,lc,Xn,Lg,Ws,Ow,Qe,TO,hS,fK,pK,mK,kO,rh,Ks,Kp,gK,fS,vx,vK,yK,xK,bK,wK;const At=class At extends Vt{constructor(r){super({...r,name:"highlightEditor"});k(this,Qe);k(this,Ig,null);k(this,Nw,0);k(this,oc);k(this,mf,null);k(this,Pw,null);k(this,Ri,null);k(this,Tw,null);k(this,kw,0);k(this,gf,null);k(this,Hs,null);k(this,cs,null);k(this,Tn,!1);k(this,$g,null);k(this,lc);k(this,Xn,null);k(this,Lg,"");k(this,Ws);k(this,Ow,"");this.color=r.color||At._defaultColor,C(this,Ws,r.thickness||At._defaultThickness),C(this,lc,r.opacity||At._defaultOpacity),C(this,oc,r.boxes||null),C(this,Ow,r.methodOfCreation||""),C(this,Lg,r.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",r.highlightId>-1?(C(this,Tn,!0),M(this,Qe,hS).call(this,r),M(this,Qe,rh).call(this)):m(this,oc)&&(C(this,Ig,r.anchorNode),C(this,Nw,r.anchorOffset),C(this,Tw,r.focusNode),C(this,kw,r.focusOffset),M(this,Qe,TO).call(this),M(this,Qe,rh).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const r=At.prototype;return dt(this,"_keyboardManager",new i_([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,Tn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:m(this,Ws),methodOfCreation:m(this,Ow)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;Vt.initialize(r,n),At._defaultColor||(At._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case yt.HIGHLIGHT_COLOR:At._defaultColor=n;break;case yt.HIGHLIGHT_THICKNESS:At._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return m(this,$g)}updateParams(r,n){switch(r){case yt.HIGHLIGHT_COLOR:M(this,Qe,fK).call(this,n);break;case yt.HIGHLIGHT_THICKNESS:M(this,Qe,pK).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[yt.HIGHLIGHT_COLOR,At._defaultColor],[yt.HIGHLIGHT_THICKNESS,At._defaultThickness]]}get propertiesToUpdate(){return[[yt.HIGHLIGHT_COLOR,this.color||At._defaultColor],[yt.HIGHLIGHT_THICKNESS,m(this,Ws)||At._defaultThickness],[yt.HIGHLIGHT_FREE,m(this,Tn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,Pw,new _j({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,Qe,vx).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,M(this,Qe,vx).call(this))}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),r&&this.div.focus()}remove(){M(this,Qe,kO).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,Qe,rh).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?M(this,Qe,kO).call(this):r&&(M(this,Qe,rh).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var s,a,o;const{drawLayer:n}=this.parent;let i;m(this,Tn)?(r=(r-this.rotation+360)%360,i=M(s=At,Ks,Kp).call(s,m(this,Hs).box,r)):i=M(a=At,Ks,Kp).call(a,[this.x,this.y,this.width,this.height],r),n.updateProperties(m(this,cs),{bbox:i,root:{"data-main-rotation":r}}),n.updateProperties(m(this,Xn),{bbox:M(o=At,Ks,Kp).call(o,m(this,Ri).box,r),root:{"data-main-rotation":r}})}render(){if(this.div)return this.div;const r=super.render();m(this,Lg)&&(r.setAttribute("aria-label",m(this,Lg)),r.setAttribute("role","mark")),m(this,Tn)?r.classList.add("free"):this.div.addEventListener("keydown",M(this,Qe,gK).bind(this),{signal:this._uiManager._signal});const n=C(this,gf,document.createElement("div"));r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=m(this,mf);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),BG(this,m(this,gf),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(m(this,Xn),{rootClass:{hovered:!0}})}pointerleave(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(m(this,Xn),{rootClass:{hovered:!1}})}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:M(this,Qe,fS).call(this,!0);break;case 1:case 3:M(this,Qe,fS).call(this,!1);break}}select(){var r;super.select(),m(this,Xn)&&((r=this.parent)==null||r.drawLayer.updateProperties(m(this,Xn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var r;super.unselect(),m(this,Xn)&&((r=this.parent)==null||r.drawLayer.updateProperties(m(this,Xn),{rootClass:{selected:!1}}),m(this,Tn)||M(this,Qe,fS).call(this,!1))}get _mustFixPosition(){return!m(this,Tn)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.updateProperties(m(this,cs),{rootClass:{hidden:!r}}),this.parent.drawLayer.updateProperties(m(this,Xn),{rootClass:{hidden:!r}}))}static startHighlighting(r,n,{target:i,x:s,y:a}){const{x:o,y:c,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,f=r.combinedSignal(h),p=v=>{h.abort(),M(this,Ks,bK).call(this,r,v)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Fr,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ca,{signal:f}),i.addEventListener("pointermove",M(this,Ks,xK).bind(this,r),{signal:f}),this._freeHighlight=new PO({x:s,y:a},[o,c,u,d],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(r,n,i){var g,x,y,b;let s=null;if(r instanceof Y7){const{data:{quadPoints:w,rect:S,rotation:_,id:A,color:E,opacity:N,popupRef:T,contentsObj:D},parent:{page:{pageNumber:O}}}=r;s=r={annotationType:qe.HIGHLIGHT,color:Array.from(E),opacity:N,quadPoints:w,boxes:null,pageIndex:O-1,rect:S.slice(0),rotation:_,annotationElementId:A,id:A,deleted:!1,popupRef:T,comment:(D==null?void 0:D.str)||null}}else if(r instanceof HR){const{data:{inkLists:w,rect:S,rotation:_,id:A,color:E,borderStyle:{rawWidth:N},popupRef:T,contentsObj:D},parent:{page:{pageNumber:O}}}=r;s=r={annotationType:qe.HIGHLIGHT,color:Array.from(E),thickness:N,inkLists:w,boxes:null,pageIndex:O-1,rect:S.slice(0),rotation:_,annotationElementId:A,id:A,deleted:!1,popupRef:T,comment:(D==null?void 0:D.str)||null}}const{color:a,quadPoints:o,inkLists:c,opacity:u}=r,d=await super.deserialize(r,n,i);d.color=$e.makeHexColor(...a),C(d,lc,u||1),c&&C(d,Ws,r.thickness),d._initialData=s,r.comment&&d.setCommentData(r.comment);const[h,f]=d.pageDimensions,[p,v]=d.pageTranslation;if(o){const w=C(d,oc,[]);for(let S=0;S<o.length;S+=8)w.push({x:(o[S]-p)/h,y:1-(o[S+1]-v)/f,width:(o[S+2]-o[S])/h,height:(o[S+1]-o[S+5])/f});M(g=d,Qe,TO).call(g),M(x=d,Qe,rh).call(x),d.rotate(d.rotation)}else if(c){C(d,Tn,!0);const w=c[0],S={x:w[0]-p,y:f-(w[1]-v)},_=new PO(S,[0,0,h,f],1,m(d,Ws)/2,!0,.001);for(let N=0,T=w.length;N<T;N+=2)S.x=w[N]-p,S.y=f-(w[N+1]-v),_.add(S);const{id:A,clipPathId:E}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);M(y=d,Qe,hS).call(y,{highlightOutlines:_.getOutlines(),highlightId:A,clipPathId:E}),M(b=d,Qe,rh).call(b),d.rotate(d.parentRotation)}return d}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Vt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s={annotationType:qe.HIGHLIGHT,color:i,opacity:m(this,lc),thickness:m(this,Ws),quadPoints:M(this,Qe,vK).call(this),outlines:M(this,Qe,yK).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:M(this,Qe,vx).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(s),this.annotationElementId&&!M(this,Qe,wK).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(r){const n={rect:this.getRect(0,0)};return this.hasEditedComment&&(n.popup=this.comment),r.updateEdited(n),null}static canCreateNewEmptyEditor(){return!1}};Ig=new WeakMap,Nw=new WeakMap,oc=new WeakMap,mf=new WeakMap,Pw=new WeakMap,Ri=new WeakMap,Tw=new WeakMap,kw=new WeakMap,gf=new WeakMap,Hs=new WeakMap,cs=new WeakMap,Tn=new WeakMap,$g=new WeakMap,lc=new WeakMap,Xn=new WeakMap,Lg=new WeakMap,Ws=new WeakMap,Ow=new WeakMap,Qe=new WeakSet,TO=function(){const r=new CO(m(this,oc),.001);C(this,Hs,r.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,Hs).box;const n=new CO(m(this,oc),.0025,.001,this._uiManager.direction==="ltr");C(this,Ri,n.getOutlines());const{lastPoint:i}=m(this,Ri);C(this,$g,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},hS=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var h,f;if(C(this,Hs,r),C(this,Ri,r.getNewOutline(m(this,Ws)/2+1.5,.0025)),n>=0)C(this,cs,n),C(this,mf,i),this.parent.drawLayer.finalizeDraw(n,{bbox:r.box,path:{d:r.toSVGPath()}}),C(this,Xn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,Ri).box,path:{d:m(this,Ri).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,cs),{bbox:M(h=At,Ks,Kp).call(h,m(this,Hs).box,(p-this.rotation+360)%360),path:{d:r.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,Xn),{bbox:M(f=At,Ks,Kp).call(f,m(this,Ri).box,p),path:{d:m(this,Ri).toSVGPath()}})}const[a,o,c,u]=r.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=u;break;case 90:{const[p,v]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*v/p,this.height=u*p/v;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[p,v]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*v/p,this.height=u*p/v;break}}const{lastPoint:d}=m(this,Ri);C(this,$g,[(d[0]-a)/c,(d[1]-o)/u])},fK=function(r){const n=(a,o)=>{var c,u;this.color=a,C(this,lc,o),(c=this.parent)==null||c.drawLayer.updateProperties(m(this,cs),{root:{fill:a,"fill-opacity":o}}),(u=m(this,Pw))==null||u.updateColor(a)},i=this.color,s=m(this,lc);this.addCommands({cmd:n.bind(this,r,At._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(r)},!0)},pK=function(r){const n=m(this,Ws),i=s=>{C(this,Ws,s),M(this,Qe,mK).call(this,s)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},mK=function(r){if(!m(this,Tn))return;M(this,Qe,hS).call(this,{highlightOutlines:m(this,Hs).getNewOutline(r/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},kO=function(){m(this,cs)===null||!this.parent||(this.parent.drawLayer.remove(m(this,cs)),C(this,cs,null),this.parent.drawLayer.remove(m(this,Xn)),C(this,Xn,null))},rh=function(r=this.parent){m(this,cs)===null&&({id:fn(this,cs)._,clipPathId:fn(this,mf)._}=r.drawLayer.draw({bbox:m(this,Hs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":m(this,lc)},rootClass:{highlight:!0,free:m(this,Tn)},path:{d:m(this,Hs).toSVGPath()}},!1,!0),C(this,Xn,r.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,Tn)},bbox:m(this,Ri).box,path:{d:m(this,Ri).toSVGPath()}},m(this,Tn))),m(this,gf)&&(m(this,gf).style.clipPath=m(this,mf)))},Ks=new WeakSet,Kp=function([r,n,i,s],a){switch(a){case 90:return[1-n-s,r,s,i];case 180:return[1-r-i,1-n-s,i,s];case 270:return[n,1-r-i,s,i]}return[r,n,i,s]},gK=function(r){At._keyboardManager.exec(this,r)},fS=function(r){if(!m(this,Ig))return;const n=window.getSelection();r?n.setPosition(m(this,Ig),m(this,Nw)):n.setPosition(m(this,Tw),m(this,kw))},vx=function(){return m(this,Tn)?this.rotation:0},vK=function(){if(m(this,Tn))return null;const[r,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=m(this,oc),o=new Float32Array(a.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of a){const p=u*r+i,v=(1-d)*n+s;o[c]=o[c+4]=p,o[c+1]=o[c+3]=v,o[c+2]=o[c+6]=p+h*r,o[c+5]=o[c+7]=v-f*n,c+=8}return o},yK=function(r){return m(this,Hs).serialize(r,M(this,Qe,vx).call(this))},xK=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},bK=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},wK=function(r){const{color:n}=this._initialData;return this.hasEditedComment||r.color.some((i,s)=>i!==n[s])},k(At,Ks),de(At,"_defaultColor",null),de(At,"_defaultOpacity",1),de(At,"_defaultThickness",12),de(At,"_type","highlight"),de(At,"_editorType",qe.HIGHLIGHT),de(At,"_freeHighlightId",-1),de(At,"_freeHighlight",null),de(At,"_freeHighlightClipId","");let Ej=At;var vf;class _K{constructor(){k(this,vf,Object.create(null))}updateProperty(e,r){this[e]=r,this.updateSVGProperty(e,r)}updateProperties(e){if(e)for(const[r,n]of Object.entries(e))r.startsWith("_")||this.updateProperty(r,n)}updateSVGProperty(e,r){m(this,vf)[e]=r}toSVGProperties(){const e=m(this,vf);return C(this,vf,Object.create(null)),{root:e}}reset(){C(this,vf,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Lt("Not implemented")}}vf=new WeakMap;var us,Fg,gn,yf,xf,Ku,Yu,Xu,bf,wt,OO,MO,DO,yx,SK,pS,xx,Yp;const ke=class ke extends Vt{constructor(r){super(r);k(this,wt);k(this,us,null);k(this,Fg);de(this,"_colorPicker",null);de(this,"_drawId",null);C(this,Fg,r.mustBeCommitted||!1),this._addOutlines(r)}_addOutlines(r){r.drawOutlines&&(M(this,wt,OO).call(this,r),M(this,wt,yx).call(this))}static _mergeSVGProperties(r,n){const i=new Set(Object.keys(r));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(r[s],a):r[s]=a;return r}static getDefaultDrawingOptions(r){Lt("Not implemented")}static get typesMap(){Lt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(r,n){const i=this.typesMap.get(r);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(m(ke,gn).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(r,n){const i=this.constructor.typesMap.get(r);i&&this._updateProperty(r,i,n)}static get defaultPropertiesToUpdate(){const r=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)r.push([i,n[s]]);return r}get propertiesToUpdate(){const r=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)r.push([i,n[s]]);return r}_updateProperty(r,n,i){const s=this._drawingOptions,a=s[n],o=c=>{var d,h;s.updateProperty(n,c);const u=m(this,us).updateProperty(n,c);u&&M(this,wt,xx).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),r===this.colorType&&((h=this._colorPicker)==null||h.update(c))};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:r,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties(m(this,us).getPathResizingSVGProperties(M(this,wt,pS).call(this)),{bbox:M(this,wt,Yp).call(this)}))}_onResized(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties(m(this,us).getPathResizedSVGProperties(M(this,wt,pS).call(this)),{bbox:M(this,wt,Yp).call(this)}))}_onTranslating(r,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:M(this,wt,Yp).call(this)})}_onTranslated(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties(m(this,us).getPathTranslatedSVGProperties(M(this,wt,pS).call(this),this.parentDimensions),{bbox:M(this,wt,Yp).call(this)}))}_onStartDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,Fg)&&(C(this,Fg,!1),this.commit(),this.parent.setSelected(this),r&&this.isOnScreen&&this.div.focus())}remove(){M(this,wt,DO).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,wt,yx).call(this),M(this,wt,xx).call(this,m(this,us).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?(this._uiManager.removeShouldRescale(this),M(this,wt,DO).call(this)):r&&(this._uiManager.addShouldRescale(this),M(this,wt,yx).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ke._mergeSVGProperties({bbox:M(this,wt,Yp).call(this)},m(this,us).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&M(this,wt,xx).call(this,m(this,us).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let r,n;this._isCopy&&(r=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(r,n),i}static createDrawerInstance(r,n,i,s,a){Lt("Not implemented")}static startDrawing(r,n,i,s){var x;const{target:a,offsetX:o,offsetY:c,pointerId:u,pointerType:d}=s;if(m(ke,Yu)&&m(ke,Yu)!==d)return;const{viewport:{rotation:h}}=r,{width:f,height:p}=a.getBoundingClientRect(),v=C(ke,yf,new AbortController),g=r.combinedSignal(v);if(m(ke,Ku)||C(ke,Ku,u),m(ke,Yu)??C(ke,Yu,d),window.addEventListener("pointerup",y=>{var b;m(ke,Ku)===y.pointerId?this._endDraw(y):(b=m(ke,Xu))==null||b.delete(y.pointerId)},{signal:g}),window.addEventListener("pointercancel",y=>{var b;m(ke,Ku)===y.pointerId?this._currentParent.endDrawingSession():(b=m(ke,Xu))==null||b.delete(y.pointerId)},{signal:g}),window.addEventListener("pointerdown",y=>{m(ke,Yu)===y.pointerType&&((m(ke,Xu)||C(ke,Xu,new Set)).add(y.pointerId),m(ke,gn).isCancellable()&&(m(ke,gn).removeLastElement(),m(ke,gn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",ca,{signal:g}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),a.addEventListener("touchmove",y=>{y.timeStamp===m(ke,bf)&&Fr(y)},{signal:g}),r.toggleDrawing(),(x=n._editorUndoBar)==null||x.hide(),m(ke,gn)){r.drawLayer.updateProperties(this._currentDrawId,m(ke,gn).startNew(o,c,f,p,h));return}n.updateUIForDefaultProperties(this),C(ke,gn,this.createDrawerInstance(o,c,f,p,h)),C(ke,xf,this.getDefaultDrawingOptions()),this._currentParent=r,{id:this._currentDrawId}=r.drawLayer.draw(this._mergeSVGProperties(m(ke,xf).toSVGProperties(),m(ke,gn).defaultSVGProperties),!0,!1)}static _drawMove(r){var a;if(C(ke,bf,-1),!m(ke,gn))return;const{offsetX:n,offsetY:i,pointerId:s}=r;if(m(ke,Ku)===s){if(((a=m(ke,Xu))==null?void 0:a.size)>=1){this._endDraw(r);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(ke,gn).add(n,i)),C(ke,bf,r.timeStamp),Fr(r)}}static _cleanup(r){r&&(this._currentDrawId=-1,this._currentParent=null,C(ke,gn,null),C(ke,xf,null),C(ke,Yu,null),C(ke,bf,NaN)),m(ke,yf)&&(m(ke,yf).abort(),C(ke,yf,null),C(ke,Ku,NaN),C(ke,Xu,null))}static _endDraw(r){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(r==null?void 0:r.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,m(ke,gn).end(r.offsetX,r.offsetY)),this.supportMultipleDrawings){const i=m(ke,gn),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:yt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(r){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(yt.DRAW_STEP),!m(ke,gn).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(ke,gn).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:m(ke,xf),mustBeCommitted:!r});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(r){}static deserializeDraw(r,n,i,s,a,o){Lt("Not implemented")}static async deserialize(r,n,i){var h,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=n.viewport,u=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,r),d=await super.deserialize(r,n,i);return d.createDrawingOptions(r),M(h=d,wt,OO).call(h,{drawOutlines:u}),M(f=d,wt,yx).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(r){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return m(this,us).serialize([n,i,s,a],r)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};us=new WeakMap,Fg=new WeakMap,gn=new WeakMap,yf=new WeakMap,xf=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,bf=new WeakMap,wt=new WeakSet,OO=function({drawOutlines:r,drawId:n,drawingOptions:i}){C(this,us,r),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,r.defaultProperties)):this._drawId=M(this,wt,MO).call(this,r,this.parent),M(this,wt,xx).call(this,r.box)},MO=function(r,n){const{id:i}=n.drawLayer.draw(ke._mergeSVGProperties(this._drawingOptions.toSVGProperties(),r.defaultSVGProperties),!1,!1);return i},DO=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},yx=function(r=this.parent){if(!(this._drawId!==null&&this.parent===r)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,r.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=M(this,wt,MO).call(this,m(this,us),r)}},SK=function([r,n,i,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[n,1-r,i*(o/a),s*(a/o)];case 180:return[1-r,1-n,i,s];case 270:return[1-n,r,i*(o/a),s*(a/o)];default:return[r,n,i,s]}},pS=function(){const{x:r,y:n,width:i,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-n,r,i*(a/o),s*(o/a)];case 180:return[1-r,1-n,i,s];case 270:return[n,1-r,i*(a/o),s*(o/a)];default:return[r,n,i,s]}},xx=function(r){if([this.x,this.y,this.width,this.height]=M(this,wt,SK).call(this,r),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},Yp=function(){const{x:r,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[c,u]}=this;switch((a*4+o)/90){case 1:return[1-n-s,r,s,i];case 2:return[1-r-i,1-n-s,i,s];case 3:return[n,1-r-i,s,i];case 4:return[r,n-i*(c/u),s*(u/c),i*(c/u)];case 5:return[1-n,r,i*(c/u),s*(u/c)];case 6:return[1-r-s*(u/c),1-n,s*(u/c),i*(c/u)];case 7:return[n-i*(c/u),1-r-s*(u/c),i*(c/u),s*(u/c)];case 8:return[r-i,n-s,i,s];case 9:return[1-n,r-i,s,i];case 10:return[1-r,1-n,i,s];case 11:return[n-s,1-r,s,i];case 12:return[r-s*(u/c),n,s*(u/c),i*(c/u)];case 13:return[1-n-i*(c/u),r-s*(u/c),i*(c/u),s*(u/c)];case 14:return[1-r,1-n-i*(c/u),s*(u/c),i*(c/u)];case 15:return[n,1-r,i*(c/u),s*(u/c)];default:return[r,n,i,s]}},de(ke,"_currentDrawId",-1),de(ke,"_currentParent",null),k(ke,gn,null),k(ke,yf,null),k(ke,xf,null),k(ke,Ku,NaN),k(ke,Yu,null),k(ke,Xu,null),k(ke,bf,NaN),de(ke,"_INNER_MARGIN",3);let Cj=ke;var Ro,vn,yn,wf,zg,ui,kn,Vs,_f,Sf,jf,Bg,mS;class E0e{constructor(e,r,n,i,s,a){k(this,Bg);k(this,Ro,new Float64Array(6));k(this,vn);k(this,yn);k(this,wf);k(this,zg);k(this,ui);k(this,kn,"");k(this,Vs,0);k(this,_f,new a_);k(this,Sf);k(this,jf);C(this,Sf,n),C(this,jf,i),C(this,wf,s),C(this,zg,a),[e,r]=M(this,Bg,mS).call(this,e,r);const o=C(this,vn,[NaN,NaN,NaN,NaN,e,r]);C(this,ui,[e,r]),C(this,yn,[{line:o,points:m(this,ui)}]),m(this,Ro).set(o,0)}updateProperty(e,r){e==="stroke-width"&&C(this,zg,r)}isEmpty(){return!m(this,yn)||m(this,yn).length===0}isCancellable(){return m(this,ui).length<=10}add(e,r){[e,r]=M(this,Bg,mS).call(this,e,r);const[n,i,s,a]=m(this,Ro).subarray(2,6),o=e-s,c=r-a;return Math.hypot(m(this,Sf)*o,m(this,jf)*c)<=2?null:(m(this,ui).push(e,r),isNaN(n)?(m(this,Ro).set([s,a,e,r],2),m(this,vn).push(NaN,NaN,NaN,NaN,e,r),{path:{d:this.toSVGPath()}}):(isNaN(m(this,Ro)[0])&&m(this,vn).splice(6,6),m(this,Ro).set([n,i,s,a,e,r],0),m(this,vn).push(...Ne.createBezierPoints(n,i,s,a,e,r)),{path:{d:this.toSVGPath()}}))}end(e,r){const n=this.add(e,r);return n||(m(this,ui).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,r,n,i,s){C(this,Sf,n),C(this,jf,i),C(this,wf,s),[e,r]=M(this,Bg,mS).call(this,e,r);const a=C(this,vn,[NaN,NaN,NaN,NaN,e,r]);C(this,ui,[e,r]);const o=m(this,yn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),m(this,yn).push({line:a,points:m(this,ui)}),m(this,Ro).set(a,0),C(this,Vs,0),this.toSVGPath(),null}getLastElement(){return m(this,yn).at(-1)}setLastElement(e){return m(this,yn)?(m(this,yn).push(e),C(this,vn,e.line),C(this,ui,e.points),C(this,Vs,0),{path:{d:this.toSVGPath()}}):m(this,_f).setLastElement(e)}removeLastElement(){if(!m(this,yn))return m(this,_f).removeLastElement();m(this,yn).pop(),C(this,kn,"");for(let e=0,r=m(this,yn).length;e<r;e++){const{line:n,points:i}=m(this,yn)[e];C(this,vn,n),C(this,ui,i),C(this,Vs,0),this.toSVGPath()}return{path:{d:m(this,kn)}}}toSVGPath(){const e=Ne.svgRound(m(this,vn)[4]),r=Ne.svgRound(m(this,vn)[5]);if(m(this,ui).length===2)return C(this,kn,`${m(this,kn)} M ${e} ${r} Z`),m(this,kn);if(m(this,ui).length<=6){const i=m(this,kn).lastIndexOf("M");C(this,kn,`${m(this,kn).slice(0,i)} M ${e} ${r}`),C(this,Vs,6)}if(m(this,ui).length===4){const i=Ne.svgRound(m(this,vn)[10]),s=Ne.svgRound(m(this,vn)[11]);return C(this,kn,`${m(this,kn)} L ${i} ${s}`),C(this,Vs,12),m(this,kn)}const n=[];m(this,Vs)===0&&(n.push(`M ${e} ${r}`),C(this,Vs,6));for(let i=m(this,Vs),s=m(this,vn).length;i<s;i+=6){const[a,o,c,u,d,h]=m(this,vn).slice(i,i+6).map(Ne.svgRound);n.push(`C${a} ${o} ${c} ${u} ${d} ${h}`)}return C(this,kn,m(this,kn)+n.join(" ")),C(this,Vs,m(this,vn).length),m(this,kn)}getOutlines(e,r,n,i){const s=m(this,yn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),m(this,_f).build(m(this,yn),e,r,n,m(this,wf),m(this,zg),i),C(this,Ro,null),C(this,vn,null),C(this,yn,null),C(this,kn,null),m(this,_f)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ro=new WeakMap,vn=new WeakMap,yn=new WeakMap,wf=new WeakMap,zg=new WeakMap,ui=new WeakMap,kn=new WeakMap,Vs=new WeakMap,_f=new WeakMap,Sf=new WeakMap,jf=new WeakMap,Bg=new WeakSet,mS=function(e,r){return Ne._normalizePoint(e,r,m(this,Sf),m(this,jf),m(this,wf))};var di,Mw,Dw,ds,Io,$o,Ug,Hg,Af,Rn,Nl,jK,AK,EK;class a_ extends Ne{constructor(){super(...arguments);k(this,Rn);k(this,di);k(this,Mw,0);k(this,Dw);k(this,ds);k(this,Io);k(this,$o);k(this,Ug);k(this,Hg);k(this,Af)}build(r,n,i,s,a,o,c){C(this,Io,n),C(this,$o,i),C(this,Ug,s),C(this,Hg,a),C(this,Af,o),C(this,Dw,c??0),C(this,ds,r),M(this,Rn,AK).call(this)}get thickness(){return m(this,Af)}setLastElement(r){return m(this,ds).push(r),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,ds).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const r=[];for(const{line:n}of m(this,ds)){if(r.push(`M${Ne.svgRound(n[4])} ${Ne.svgRound(n[5])}`),n.length===6){r.push("Z");continue}if(n.length===12&&isNaN(n[6])){r.push(`L${Ne.svgRound(n[10])} ${Ne.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,c,u,d,h]=n.subarray(i,i+6).map(Ne.svgRound);r.push(`C${a} ${o} ${c} ${u} ${d} ${h}`)}}return r.join("")}serialize([r,n,i,s],a){const o=[],c=[],[u,d,h,f]=M(this,Rn,jK).call(this);let p,v,g,x,y,b,w,S,_;switch(m(this,Hg)){case 0:_=Ne._rescale,p=r,v=n+s,g=i,x=-s,y=r+u*i,b=n+(1-d-f)*s,w=r+(u+h)*i,S=n+(1-d)*s;break;case 90:_=Ne._rescaleAndSwap,p=r,v=n,g=i,x=s,y=r+d*i,b=n+u*s,w=r+(d+f)*i,S=n+(u+h)*s;break;case 180:_=Ne._rescale,p=r+i,v=n,g=-i,x=s,y=r+(1-u-h)*i,b=n+d*s,w=r+(1-u)*i,S=n+(d+f)*s;break;case 270:_=Ne._rescaleAndSwap,p=r+i,v=n+s,g=-i,x=-s,y=r+(1-d-f)*i,b=n+(1-u-h)*s,w=r+(1-d)*i,S=n+(1-u)*s;break}for(const{line:A,points:E}of m(this,ds))o.push(_(A,p,v,g,x,a?new Array(A.length):null)),c.push(_(E,p,v,g,x,a?new Array(E.length):null));return{lines:o,points:c,rect:[y,b,w,S]}}static deserialize(r,n,i,s,a,{paths:{lines:o,points:c},rotation:u,thickness:d}){const h=[];let f,p,v,g,x;switch(u){case 0:x=Ne._rescale,f=-r/i,p=n/s+1,v=1/i,g=-1/s;break;case 90:x=Ne._rescaleAndSwap,f=-n/s,p=-r/i,v=1/s,g=1/i;break;case 180:x=Ne._rescale,f=r/i+1,p=-n/s,v=-1/i,g=1/s;break;case 270:x=Ne._rescaleAndSwap,f=n/s+1,p=r/i+1,v=-1/s,g=-1/i;break}if(!o){o=[];for(const b of c){const w=b.length;if(w===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(w===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const S=new Float32Array(3*(w-2));o.push(S);let[_,A,E,N]=b.subarray(0,4);S.set([NaN,NaN,NaN,NaN,_,A],0);for(let T=4;T<w;T+=2){const D=b[T],O=b[T+1];S.set(Ne.createBezierPoints(_,A,E,N,D,O),(T-2)*3),[_,A,E,N]=[E,N,D,O]}}}for(let b=0,w=o.length;b<w;b++)h.push({line:x(o[b].map(S=>S??NaN),f,p,v,g),points:x(c[b].map(S=>S??NaN),f,p,v,g)});const y=new this.prototype.constructor;return y.build(h,i,s,1,u,d,a),y}get box(){return m(this,di)}updateProperty(r,n){return r==="stroke-width"?M(this,Rn,EK).call(this,n):null}updateParentDimensions([r,n],i){const[s,a]=M(this,Rn,Nl).call(this);C(this,Io,r),C(this,$o,n),C(this,Ug,i);const[o,c]=M(this,Rn,Nl).call(this),u=o-s,d=c-a,h=m(this,di);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(r){return C(this,Mw,r),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,di).map(Ne.svgRound).join(" ")}get defaultProperties(){const[r,n]=m(this,di);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ne.svgRound(r)} ${Ne.svgRound(n)}`}}}get rotationTransform(){const[,,r,n]=m(this,di);let i=0,s=0,a=0,o=0,c=0,u=0;switch(m(this,Mw)){case 90:s=n/r,a=-r/n,c=r;break;case 180:i=-1,o=-1,c=r,u=n;break;case 270:s=-n/r,a=r/n,u=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${Ne.svgRound(c)} ${Ne.svgRound(u)})`}getPathResizingSVGProperties([r,n,i,s]){const[a,o]=M(this,Rn,Nl).call(this),[c,u,d,h]=m(this,di);if(Math.abs(d-a)<=Ne.PRECISION||Math.abs(h-o)<=Ne.PRECISION){const x=r+i/2-(c+d/2),y=n+s/2-(u+h/2);return{path:{"transform-origin":`${Ne.svgRound(r)} ${Ne.svgRound(n)}`,transform:`${this.rotationTransform} translate(${x} ${y})`}}}const f=(i-2*a)/(d-2*a),p=(s-2*o)/(h-2*o),v=d/i,g=h/s;return{path:{"transform-origin":`${Ne.svgRound(c)} ${Ne.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${g}) translate(${Ne.svgRound(a)} ${Ne.svgRound(o)}) scale(${f} ${p}) translate(${Ne.svgRound(-a)} ${Ne.svgRound(-o)})`}}}getPathResizedSVGProperties([r,n,i,s]){const[a,o]=M(this,Rn,Nl).call(this),c=m(this,di),[u,d,h,f]=c;if(c[0]=r,c[1]=n,c[2]=i,c[3]=s,Math.abs(h-a)<=Ne.PRECISION||Math.abs(f-o)<=Ne.PRECISION){const y=r+i/2-(u+h/2),b=n+s/2-(d+f/2);for(const{line:w,points:S}of m(this,ds))Ne._translate(w,y,b,w),Ne._translate(S,y,b,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ne.svgRound(r)} ${Ne.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(h-2*a),v=(s-2*o)/(f-2*o),g=-p*(u+a)+r+a,x=-v*(d+o)+n+o;if(p!==1||v!==1||g!==0||x!==0)for(const{line:y,points:b}of m(this,ds))Ne._rescale(y,g,x,p,v,y),Ne._rescale(b,g,x,p,v,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ne.svgRound(r)} ${Ne.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([r,n],i){const[s,a]=i,o=m(this,di),c=r-o[0],u=n-o[1];if(m(this,Io)===s&&m(this,$o)===a)for(const{line:d,points:h}of m(this,ds))Ne._translate(d,c,u,d),Ne._translate(h,c,u,h);else{const d=m(this,Io)/s,h=m(this,$o)/a;C(this,Io,s),C(this,$o,a);for(const{line:f,points:p}of m(this,ds))Ne._rescale(f,c,u,d,h,f),Ne._rescale(p,c,u,d,h,p);o[2]*=d,o[3]*=h}return o[0]=r,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ne.svgRound(r)} ${Ne.svgRound(n)}`}}}get defaultSVGProperties(){const r=m(this,di);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ne.svgRound(r[0])} ${Ne.svgRound(r[1])}`,transform:this.rotationTransform||null},bbox:r}}}di=new WeakMap,Mw=new WeakMap,Dw=new WeakMap,ds=new WeakMap,Io=new WeakMap,$o=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,Af=new WeakMap,Rn=new WeakSet,Nl=function(r=m(this,Af)){const n=m(this,Dw)+r/2*m(this,Ug);return m(this,Hg)%180===0?[n/m(this,Io),n/m(this,$o)]:[n/m(this,$o),n/m(this,Io)]},jK=function(){const[r,n,i,s]=m(this,di),[a,o]=M(this,Rn,Nl).call(this,0);return[r+a,n+o,i-2*a,s-2*o]},AK=function(){const r=C(this,di,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of m(this,ds)){if(s.length<=12){for(let c=4,u=s.length;c<u;c+=6)$e.pointBoundingBox(s[c],s[c+1],r);continue}let a=s[4],o=s[5];for(let c=6,u=s.length;c<u;c+=6){const[d,h,f,p,v,g]=s.subarray(c,c+6);$e.bezierBoundingBox(a,o,d,h,f,p,v,g,r),a=v,o=g}}const[n,i]=M(this,Rn,Nl).call(this);r[0]=pi(r[0]-n,0,1),r[1]=pi(r[1]-i,0,1),r[2]=pi(r[2]+n,0,1),r[3]=pi(r[3]+i,0,1),r[2]-=r[0],r[3]-=r[1]},EK=function(r){const[n,i]=M(this,Rn,Nl).call(this);C(this,Af,r);const[s,a]=M(this,Rn,Nl).call(this),[o,c]=[s-n,a-i],u=m(this,di);return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u};class hC extends _K{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Vt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,r){e==="stroke-width"&&(r??(r=this["stroke-width"]),r*=this._viewParameters.realScale),super.updateSVGProperty(e,r)}clone(){const e=new hC(this._viewParameters);return e.updateAll(this),e}}var YA,CK;const fm=class fm extends Cj{constructor(r){super({...r,name:"inkEditor"});k(this,YA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(r,n){Vt.initialize(r,n),this._defaultDrawingOptions=new hC(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return dt(this,"typesMap",new Map([[yt.INK_THICKNESS,"stroke-width"],[yt.INK_COLOR,"stroke"],[yt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(r,n,i,s,a){return new E0e(r,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(r,n,i,s,a,o){return a_.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){let s=null;if(r instanceof HR){const{data:{inkLists:o,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:v,contentsObj:g},parent:{page:{pageNumber:x}}}=r;s=r={annotationType:qe.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:v,comment:(g==null?void 0:g.str)||null}}const a=await super.deserialize(r,n,i);return a._initialData=s,r.comment&&a.setCommentData(r.comment),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Sj(this)),[["colorPicker",this._colorPicker]]}get colorType(){return yt.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:r,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(r,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const r=this._currentParent;r&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:r,thickness:n,opacity:i}){this._drawingOptions=fm.getDefaultDrawingOptions({stroke:$e.makeHexColor(...r),"stroke-width":n,"stroke-opacity":i})}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:s}=this.serializeDraw(r),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,u={annotationType:qe.INK,color:Vt._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(u),r?(u.isCopy=!0,u):this.annotationElementId&&!M(this,YA,CK).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(r){const{points:n,rect:i}=this.serializeDraw(!1),s={rect:i,thickness:this._drawingOptions["stroke-width"],points:n};return this.hasEditedComment&&(s.popup=this.comment),r.updateEdited(s),null}};YA=new WeakSet,CK=function(r){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||r.color.some((o,c)=>o!==n[c])||r.thickness!==i||r.opacity!==s||r.pageIndex!==a},de(fm,"_type","ink"),de(fm,"_editorType",qe.INK),de(fm,"_defaultDrawingOptions",null);let RO=fm;class IO extends a_{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const l1=8,Ry=3;var Ef,Ct,$O,$a,NK,PK,LO,gS,TK,kK,OK,FO,zO,MK;class gc{static extractContoursFromText(e,{fontFamily:r,fontStyle:n,fontWeight:i},s,a,o,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${n} ${i} ${h}px ${r}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:g,actualBoundingBoxDescent:x,fontBoundingBoxAscent:y,fontBoundingBoxDescent:b,width:w}=d.measureText(e),S=1.5,_=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,w)*S),A=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||h,Math.abs(y)+Math.abs(b)||h)*S);u=new OffscreenCanvas(_,A),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,_,A),d.fillStyle="black",d.fillText(e,_*(S-1)/2,A*(3-S)/2);const E=M(this,Ct,FO).call(this,d.getImageData(0,0,_,A).data),N=M(this,Ct,OK).call(this,E),T=M(this,Ct,zO).call(this,N),D=M(this,Ct,LO).call(this,E,_,A,T);return this.processDrawnLines({lines:{curves:D,width:_,height:A},pageWidth:s,pageHeight:a,rotation:o,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,r,n,i,s){const[a,o,c]=M(this,Ct,MK).call(this,e),[u,d]=M(this,Ct,kK).call(this,a,o,c,Math.hypot(o,c)*m(this,Ef).sigmaSFactor,m(this,Ef).sigmaR,m(this,Ef).kernelSize),h=M(this,Ct,zO).call(this,d),f=M(this,Ct,LO).call(this,u,o,c,h);return this.processDrawnLines({lines:{curves:f,width:o,height:c},pageWidth:r,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:r,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([r,n]=[n,r]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(r/u,n/d),v=p/r,g=p/n,x=[];for(const{points:b}of c){const w=a?M(this,Ct,TK).call(this,b):b;if(!w)continue;x.push(w);const S=w.length,_=new Float32Array(S),A=new Float32Array(3*(S===2?2:S-2));if(f.push({line:A,points:_}),S===2){_[0]=w[0]*v,_[1]=w[1]*g,A.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[E,N,T,D]=w;E*=v,N*=g,T*=v,D*=g,_.set([E,N,T,D],0),A.set([NaN,NaN,NaN,NaN,E,N],0);for(let O=4;O<S;O+=2){const I=_[O]=w[O]*v,F=_[O+1]=w[O+1]*g;A.set(Ne.createBezierPoints(E,N,T,D,I,F),(O-2)*3),[E,N,T,D]=[T,D,I,F]}}if(f.length===0)return null;const y=o?new IO:new a_;return y.build(f,r,n,1,i,o?0:h,s),{outline:y,newCurves:x,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:r,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,c=0;for(const w of e){c+=w.length;for(let S=2,_=w.length;S<_;S++){const A=w[S]-w[S-2];a=Math.min(a,A),o=Math.max(o,A)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=l1+Ry*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=r?0:1,f[p++]=Math.max(0,Math.floor(n??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const w of e)f[p++]=w.length-2,f[p++]=w[0],f[p++]=w[1];const v=new CompressionStream("deflate-raw"),g=v.writable.getWriter();await g.ready,g.write(f);const x=u.prototype.constructor;for(const w of e){const S=new x(w.length-2);for(let _=2,A=w.length;_<A;_++)S[_-2]=w[_]-w[_-2];g.write(S)}g.close();const y=await new Response(v.readable).arrayBuffer(),b=new Uint8Array(y);return DG(b)}static async decompressSignature(e){try{const r=Yxe(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(r).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const w of n)a||(a=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),a.set(w,o),o+=w.length;const c=new Uint32Array(a.buffer,0,a.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],v=c[6],g=c[7],x=[],y=(l1+Ry*v)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(g){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(a.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(a.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(a.buffer,y);break}o=0;for(let w=0;w<v;w++){const S=c[Ry*w+l1],_=new Float32Array(S+2);x.push(_);for(let A=0;A<Ry-1;A++)_[A]=c[Ry*w+l1+A+1];for(let A=0;A<S;A++)_[A+2]=_[A]+b[o++]}return{areContours:f,thickness:p,outlines:x,width:d,height:h}}catch(r){return Ge(`decompressSignature: ${r}`),null}}}Ef=new WeakMap,Ct=new WeakSet,$O=function(e,r,n,i){return n-=e,i-=r,n===0?i>0?0:4:n===1?i+6:2-i},$a=new WeakMap,NK=function(e,r,n,i,s,a,o){const c=M(this,Ct,$O).call(this,n,i,s,a);for(let u=0;u<8;u++){const d=(-u+c-o+16)%8,h=m(this,$a)[2*d],f=m(this,$a)[2*d+1];if(e[(n+h)*r+(i+f)]!==0)return d}return-1},PK=function(e,r,n,i,s,a,o){const c=M(this,Ct,$O).call(this,n,i,s,a);for(let u=0;u<8;u++){const d=(u+c+o+16)%8,h=m(this,$a)[2*d],f=m(this,$a)[2*d+1];if(e[(n+h)*r+(i+f)]!==0)return d}return-1},LO=function(e,r,n,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<n-1;d++)a[d*r]=a[d*r+r-1]=0;for(let d=0;d<r;d++)a[d]=a[r*n-1-d]=0;let o=1,c;const u=[];for(let d=1;d<n-1;d++){c=1;for(let h=1;h<r-1;h++){const f=d*r+h,p=a[f];if(p===0)continue;let v=d,g=h;if(p===1&&a[f-1]===0)o+=1,g-=1;else if(p>=1&&a[f+1]===0)o+=1,g+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const x=[h,d],y=g===h+1,b={isHole:y,points:x,id:o,parent:0};u.push(b);let w;for(const O of u)if(O.id===c){w=O;break}w?w.isHole?b.parent=y?w.parent:c:b.parent=y?c:w.parent:b.parent=y?c:0;const S=M(this,Ct,NK).call(this,a,r,d,h,v,g,0);if(S===-1){a[f]=-o,a[f]!==1&&(c=Math.abs(a[f]));continue}let _=m(this,$a)[2*S],A=m(this,$a)[2*S+1];const E=d+_,N=h+A;v=E,g=N;let T=d,D=h;for(;;){const O=M(this,Ct,PK).call(this,a,r,T,D,v,g,1);_=m(this,$a)[2*O],A=m(this,$a)[2*O+1];const I=T+_,F=D+A;x.push(F,I);const $=T*r+D;if(a[$+1]===0?a[$]=-o:a[$]===1&&(a[$]=o),I===d&&F===h&&T===E&&D===N){a[f]!==1&&(c=Math.abs(a[f]));break}else v=T,g=D,T=I,D=F}}}return u},gS=function(e,r,n,i){if(n-r<=4){for(let E=r;E<n-2;E+=2)i.push(e[E],e[E+1]);return}const s=e[r],a=e[r+1],o=e[n-4]-s,c=e[n-3]-a,u=Math.hypot(o,c),d=o/u,h=c/u,f=d*a-h*s,p=c/o,v=1/u,g=Math.atan(p),x=Math.cos(g),y=Math.sin(g),b=v*(Math.abs(x)+Math.abs(y)),w=v*(1-b+b**2),S=Math.max(Math.atan(Math.abs(y+x)*w),Math.atan(Math.abs(y-x)*w));let _=0,A=r;for(let E=r+2;E<n-2;E+=2){const N=Math.abs(f-d*e[E+1]+h*e[E]);N>_&&(A=E,_=N)}_>(u*S)**2?(M(this,Ct,gS).call(this,e,r,A+2,i),M(this,Ct,gS).call(this,e,A,n,i)):i.push(s,a)},TK=function(e){const r=[],n=e.length;return M(this,Ct,gS).call(this,e,0,n,r),r.push(e[n-2],e[n-1]),r.length<=4?null:r},kK=function(e,r,n,i,s,a){const o=new Float32Array(a**2),c=-2*i**2,u=a>>1;for(let g=0;g<a;g++){const x=(g-u)**2;for(let y=0;y<a;y++)o[g*a+y]=Math.exp((x+(y-u)**2)/c)}const d=new Float32Array(256),h=-2*s**2;for(let g=0;g<256;g++)d[g]=Math.exp(g**2/h);const f=e.length,p=new Uint8Array(f),v=new Uint32Array(256);for(let g=0;g<n;g++)for(let x=0;x<r;x++){const y=g*r+x,b=e[y];let w=0,S=0;for(let A=0;A<a;A++){const E=g+A-u;if(!(E<0||E>=n))for(let N=0;N<a;N++){const T=x+N-u;if(T<0||T>=r)continue;const D=e[E*r+T],O=o[A*a+N]*d[Math.abs(D-b)];w+=D*O,S+=O}}const _=p[y]=Math.round(w/S);v[_]++}return[p,v]},OK=function(e){const r=new Uint32Array(256);for(const n of e)r[n]++;return r},FO=function(e){const r=e.length,n=new Uint8ClampedArray(r>>2);let i=-1/0,s=1/0;for(let o=0,c=n.length;o<c;o++){const u=n[o]=e[o<<2];i=Math.max(i,u),s=Math.min(s,u)}const a=255/(i-s);for(let o=0,c=n.length;o<c;o++)n[o]=(n[o]-s)*a;return n},zO=function(e){let r,n=-1/0,i=-1/0;const s=e.findIndex(c=>c!==0);let a=s,o=s;for(r=s;r<256;r++){const c=e[r];c>n&&(r-a>i&&(i=r-a,o=r-1),n=c,a=r)}for(r=o-1;r>=0&&!(e[r]>e[r+1]);r--);return r},MK=function(e){const r=e,{width:n,height:i}=e,{maxDim:s}=m(this,Ef);let a=n,o=i;if(n>s||i>s){let f=n,p=i,v=Math.log2(Math.max(n,i)/s);const g=Math.floor(v);v=v===g?g-1:g;for(let y=0;y<v;y++){a=Math.ceil(f/2),o=Math.ceil(p/2);const b=new OffscreenCanvas(a,o);b.getContext("2d").drawImage(e,0,0,f,p,0,0,a,o),f=a,p=o,e!==r&&e.close(),e=b.transferToImageBitmap()}const x=Math.min(s/a,s/o);a=Math.round(a*x),o=Math.round(o*x)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[M(this,Ct,FO).call(this,d),a,o]},k(gc,Ct),k(gc,Ef,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),k(gc,$a,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class WR extends _K{constructor(){super(),super.updateProperties({fill:Vt._defaultLineColor,"stroke-width":0})}clone(){const e=new WR;return e.updateAll(this),e}}class VR extends hC{constructor(e){super(e),super.updateProperties({stroke:Vt._defaultLineColor,"stroke-width":1})}clone(){const e=new VR(this._viewParameters);return e.updateAll(this),e}}var Zu,Lo,Qu,Cf;const Zi=class Zi extends Cj{constructor(r){super({...r,mustBeCommitted:!0,name:"signatureEditor"});k(this,Zu,!1);k(this,Lo,null);k(this,Qu,null);k(this,Cf,null);this._willKeepAspectRatio=!0,C(this,Qu,r.signatureData||null),C(this,Lo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(r,n){Vt.initialize(r,n),this._defaultDrawingOptions=new WR,this._defaultDrawnSignatureOptions=new VR(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return dt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,Lo)}}static computeTelemetryFinalData(r){const n=r.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let r,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,r=this.x,n=this.y),super.render(),this._drawId===null)if(m(this,Qu)){const{lines:s,mustSmooth:a,areContours:o,description:c,uuid:u,heightInPage:d}=m(this,Qu),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,v=gc.processDrawnLines({lines:s,pageWidth:h,pageHeight:f,rotation:p,innerMargin:Zi._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:m(this,Lo)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(r,n)),this.div}setUuid(r){C(this,Cf,r),this.addEditToolbar()}getUuid(){return m(this,Cf)}get description(){return m(this,Lo)}set description(r){C(this,Lo,r),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:r})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(r)}))}getSignaturePreview(){const{newCurves:r,areContours:n,thickness:i,width:s,height:a}=m(this,Qu),o=Math.max(s,a),c=gc.processDrawnLines({lines:{curves:r.map(u=>({points:u})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(r,n,i,s){const{x:a,y:o}=this,{outline:c}=C(this,Qu,r);C(this,Zu,c instanceof IO),this.description=i;let u;m(this,Zu)?u=Zi.getDefaultDrawingOptions():(u=Zi._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[d,h]=this.parentDimensions,[,f]=this.pageDimensions;let p=n/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(d*this.width,h*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return gc.process(r,n,i,s,Zi._INNER_MARGIN)}getFromText(r,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return gc.extractContoursFromText(r,n,i,s,a,Zi._INNER_MARGIN)}getDrawnSignature(r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return gc.processDrawnLines({lines:r,pageWidth:n,pageHeight:i,rotation:s,innerMargin:Zi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:r,thickness:n}){r?this._drawingOptions=Zi.getDefaultDrawingOptions():(this._drawingOptions=Zi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(r=!1){if(this.isEmpty())return null;const{lines:n,points:i,rect:s}=this.serializeDraw(r),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:qe.SIGNATURE,isSignature:!0,areContours:m(this,Zu),color:[0,0,0],thickness:m(this,Zu)?0:a,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),r?(o.paths={lines:n,points:i},o.uuid=m(this,Cf),o.isCopy=!0):o.lines=n,m(this,Lo)&&(o.accessibilityData={type:"Figure",alt:m(this,Lo)}),o}static deserializeDraw(r,n,i,s,a,o){return o.areContours?IO.deserialize(r,n,i,s,a,o):a_.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){var a;const s=await super.deserialize(r,n,i);return C(s,Zu,r.areContours),s.description=((a=r.accessibilityData)==null?void 0:a.alt)||"",C(s,Cf,r.uuid),s}};Zu=new WeakMap,Lo=new WeakMap,Qu=new WeakMap,Cf=new WeakMap,de(Zi,"_type","signature"),de(Zi,"_editorType",qe.SIGNATURE),de(Zi,"_defaultDrawingOptions",null);let BO=Zi;var sr,xn,Ju,cc,ed,Wg,uc,Nf,Fo,hs,Vg,_t,bx,wx,vS,yS,xS,HO,bS,DK;class UO extends Vt{constructor(r){super({...r,name:"stampEditor"});k(this,_t);k(this,sr,null);k(this,xn,null);k(this,Ju,null);k(this,cc,null);k(this,ed,null);k(this,Wg,"");k(this,uc,null);k(this,Nf,!1);k(this,Fo,null);k(this,hs,!1);k(this,Vg,!1);C(this,cc,r.bitmapUrl),C(this,ed,r.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(r,n){Vt.initialize(r,n)}static isHandlingMimeForPasting(r){return Rk.includes(r)}static paste(r,n){n.pasteEditor({mode:qe.STAMP},{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=r||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var r;m(this,xn)&&(C(this,sr,null),this._uiManager.imageManager.deleteId(m(this,xn)),(r=m(this,uc))==null||r.remove(),C(this,uc,null),m(this,Fo)&&(clearTimeout(m(this,Fo)),C(this,Fo,null))),super.remove()}rebuild(){if(!this.parent){m(this,xn)&&M(this,_t,vS).call(this);return}super.rebuild(),this.div!==null&&(m(this,xn)&&m(this,uc)===null&&M(this,_t,vS).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(r){this._isDraggable=!0,r&&this.div.focus()}isEmpty(){return!(m(this,Ju)||m(this,sr)||m(this,cc)||m(this,ed)||m(this,xn)||m(this,Nf))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;return this._isCopy&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,Nf)||(m(this,sr)?M(this,_t,yS).call(this):M(this,_t,vS).call(this)),this._isCopy&&this._moveAfterPaste(r,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(r,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(r,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(C(this,xn,i),s&&C(this,sr,s),C(this,Nf,!1),M(this,_t,yS).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,Fo)!==null&&clearTimeout(m(this,Fo)),C(this,Fo,setTimeout(()=>{C(this,Fo,null),M(this,_t,HO).call(this)},200))}copyCanvas(r,n,i=!1){var p;r||(r=224);const{width:s,height:a}=m(this,sr),o=new ul;let c=m(this,sr),u=s,d=a,h=null;if(n){if(s>n||a>n){const N=Math.min(n/s,n/a);u=Math.floor(s*N),d=Math.floor(a*N)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),g=h.height=Math.ceil(d*o.sy);m(this,hs)||(c=M(this,_t,xS).call(this,v,g));const x=h.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",b="#42414d");const w=15,S=w*o.sx,_=w*o.sy,A=new OffscreenCanvas(S*2,_*2),E=A.getContext("2d");E.fillStyle=y,E.fillRect(0,0,S*2,_*2),E.fillStyle=b,E.fillRect(0,0,S,_),E.fillRect(S,_,S,_),x.fillStyle=x.createPattern(A,"repeat"),x.fillRect(0,0,v,g),x.drawImage(c,0,0,c.width,c.height,0,0,v,g)}let f=null;if(i){let v,g;if(o.symmetric&&c.width<r&&c.height<r)v=c.width,g=c.height;else if(c=m(this,sr),s>r||a>r){const b=Math.min(r/s,r/a);v=Math.floor(s*b),g=Math.floor(a*b),m(this,hs)||(c=M(this,_t,xS).call(this,v,g))}const y=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});y.drawImage(c,0,0,c.width,c.height,0,0,v,g),f={width:v,height:g,data:y.getImageData(0,0,v,g).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(r,n,i){var x;let s=null,a=!1;if(r instanceof X7){const{data:{rect:y,rotation:b,id:w,structParent:S,popupRef:_,contentsObj:A},container:E,parent:{page:{pageNumber:N}},canvas:T}=r;let D,O;T?(delete r.canvas,{id:D,bitmap:O}=i.imageManager.getFromCanvas(E.id,T),T.remove()):(a=!0,r._hasNoCanvas=!0);const I=((x=await n._structTree.getAriaAttributes(`${IR}${w}`))==null?void 0:x.get("aria-label"))||"";s=r={annotationType:qe.STAMP,bitmapId:D,bitmap:O,pageIndex:N-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:I},isSvg:!1,structParent:S,popupRef:_,comment:(A==null?void 0:A.str)||null}}const o=await super.deserialize(r,n,i),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=r;a?(i.addMissingCanvas(r.id,o),C(o,Nf,!0)):h&&i.imageManager.isValidId(h)?(C(o,xn,h),u&&C(o,sr,u)):C(o,cc,d),C(o,hs,f);const[v,g]=o.pageDimensions;return o.width=(c[2]-c[0])/v,o.height=(c[3]-c[1])/g,p&&(o.altTextData=p),o._initialData=s,r.comment&&o.setCommentData(r.comment),C(o,Vg,!!s),o}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:qe.STAMP,bitmapId:m(this,xn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,hs),structTreeParentId:this._structTreeParentId};if(this.addComment(i),r)return i.bitmapUrl=M(this,_t,bS).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=M(this,_t,DK).call(this,i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=m(this,hs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(m(this,xn)))n.stamps.set(m(this,xn),{area:o,serialized:i}),i.bitmap=M(this,_t,bS).call(this,!1);else if(m(this,hs)){const c=n.stamps.get(m(this,xn));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=M(this,_t,bS).call(this,!1))}return i}renderAnnotationElement(r){const n={rect:this.getRect(0,0)};return this.hasEditedComment&&(n.popup=this.comment),r.updateEdited(n),null}}sr=new WeakMap,xn=new WeakMap,Ju=new WeakMap,cc=new WeakMap,ed=new WeakMap,Wg=new WeakMap,uc=new WeakMap,Nf=new WeakMap,Fo=new WeakMap,hs=new WeakMap,Vg=new WeakMap,_t=new WeakSet,bx=function(r,n=!1){if(!r){this.remove();return}C(this,sr,r.bitmap),n||(C(this,xn,r.id),C(this,hs,r.isSvg)),r.file&&C(this,Wg,r.file.name),M(this,_t,yS).call(this)},wx=function(){if(C(this,Ju,null),this._uiManager.enableWaiting(!1),!!m(this,uc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,sr)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,sr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},vS=function(){if(m(this,xn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,xn)).then(i=>M(this,_t,bx).call(this,i,!0)).finally(()=>M(this,_t,wx).call(this));return}if(m(this,cc)){const i=m(this,cc);C(this,cc,null),this._uiManager.enableWaiting(!0),C(this,Ju,this._uiManager.imageManager.getFromUrl(i).then(s=>M(this,_t,bx).call(this,s)).finally(()=>M(this,_t,wx).call(this)));return}if(m(this,ed)){const i=m(this,ed);C(this,ed,null),this._uiManager.enableWaiting(!0),C(this,Ju,this._uiManager.imageManager.getFromFile(i).then(s=>M(this,_t,bx).call(this,s)).finally(()=>M(this,_t,wx).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=Rk.join(",");const n=this._uiManager._signal;C(this,Ju,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,_t,bx).call(this,s)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>M(this,_t,wx).call(this))),r.click()},yS=function(){var h;const{div:r}=this;let{width:n,height:i}=m(this,sr);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const f=Math.min(o*s/n,o*a/i);n*=f,i*=f}const[c,u]=this.parentDimensions;this.setDims(n*c/s,i*u/a),this._uiManager.enableWaiting(!1);const d=C(this,uc,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=n/s,this.height=i/a,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),M(this,_t,HO).call(this),m(this,Vg)||(this.parent.addUndoableEditor(this),C(this,Vg,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Wg)&&this.div.setAttribute("aria-description",m(this,Wg)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},xS=function(r,n){const{width:i,height:s}=m(this,sr);let a=i,o=s,c=m(this,sr);for(;a>2*r||o>2*n;){const u=a,d=o;a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(c,0,0,u,d,0,0,a,o),c=h.transferToImageBitmap()}return c},HO=function(){const[r,n]=this.parentDimensions,{width:i,height:s}=this,a=new ul,o=Math.ceil(i*r*a.sx),c=Math.ceil(s*n*a.sy),u=m(this,uc);if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const d=m(this,hs)?m(this,sr):M(this,_t,xS).call(this,o,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,c)},bS=function(r){if(r){if(m(this,hs)){const s=this._uiManager.imageManager.getSvgUrl(m(this,xn));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=m(this,sr),n.getContext("2d").drawImage(m(this,sr),0,0),n.toDataURL()}if(m(this,hs)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Nd.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Nd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(m(this,sr),0,0,m(this,sr).width,m(this,sr).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(m(this,sr))},DK=function(r){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=r.pageIndex===n,a=(((o=r.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},de(UO,"_type","stamp"),de(UO,"_editorType",qe.STAMP);var Pf,qg,zo,td,dc,fs,rd,Gg,Tf,La,hc,bn,fc,nd,Kg,Re,id,ar,RK,go,VO,qO,wS;const ja=class ja{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:u,l10n:d}){k(this,ar);k(this,Pf);k(this,qg,!1);k(this,zo,null);k(this,td,null);k(this,dc,null);k(this,fs,new Map);k(this,rd,!1);k(this,Gg,!1);k(this,Tf,!1);k(this,La,null);k(this,hc,null);k(this,bn,null);k(this,fc,null);k(this,nd,null);k(this,Kg,-1);k(this,Re);const h=[...m(ja,id).values()];if(!ja._initialized){ja._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),C(this,Re,e),this.pageIndex=r,this.div=n,C(this,Pf,s),C(this,zo,a),this.viewport=u,C(this,bn,c),this.drawLayer=o,this._structTree=i,m(this,Re).addLayer(this)}get isEmpty(){return m(this,fs).size===0}get isInvisible(){return this.isEmpty&&m(this,Re).getMode()===qe.NONE}updateToolbar(e){m(this,Re).updateToolbar(e)}updateMode(e=m(this,Re).getMode()){switch(M(this,ar,wS).call(this),e){case qe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case qe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case qe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of m(ja,id).values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=m(this,bn))==null?void 0:r.div)}setEditingState(e){m(this,Re).setEditingState(e)}addCommands(e){m(this,Re).addCommands(e)}cleanUndoStack(e){m(this,Re).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=m(this,zo))==null||r.div.classList.toggle("disabled",!e)}async enable(){var n;C(this,Tf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=m(this,nd))==null||n.abort(),C(this,nd,null);const e=new Set;for(const i of m(this,fs).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,Re).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!m(this,zo)){C(this,Tf,!1);return}const r=m(this,zo).getEditableAnnotations();for(const i of r){if(i.hide(),m(this,Re).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}C(this,Tf,!1)}disable(){var i;if(C(this,Gg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),m(this,bn)&&!m(this,nd)){C(this,nd,new AbortController);const s=m(this,Re).combinedSignal(m(this,nd));m(this,bn).div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:u,timeStamp:d}=a,h=m(this,Kg);if(d-h>500){C(this,Kg,d);return}C(this,Kg,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(c,u);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let v;const g=new RegExp(`^${PG}[0-9]+$`);for(const y of p)if(g.test(y.id)){v=y.id;break}if(!v)return;const x=m(this,fs).get(v);(x==null?void 0:x.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick())},{signal:s,capture:!0})}const e=new Map,r=new Map;for(const s of m(this,fs).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else r.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,zo)){const s=m(this,zo).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(m(this,Re).isDeletedAnnotationElement(o)){a.updateEdited({deleted:!0});continue}let c=r.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(m(this,Re).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}M(this,ar,wS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of m(ja,id).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,Gg,!1)}getEditableAnnotation(e){var r;return((r=m(this,zo))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Re).getActive()!==e&&m(this,Re).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,bn))!=null&&e.div&&!m(this,fc)){C(this,fc,new AbortController);const r=m(this,Re).combinedSignal(m(this,fc));m(this,bn).div.addEventListener("pointerdown",M(this,ar,RK).bind(this),{signal:r}),m(this,bn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,bn))!=null&&e.div&&m(this,fc)&&(m(this,fc).abort(),C(this,fc,null),m(this,bn).div.classList.remove("highlighting"))}enableClick(){if(m(this,td))return;C(this,td,new AbortController);const e=m(this,Re).combinedSignal(m(this,td));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const r=this.pointerup.bind(this);this.div.addEventListener("pointerup",r,{signal:e}),this.div.addEventListener("pointercancel",r,{signal:e})}disableClick(){var e;(e=m(this,td))==null||e.abort(),C(this,td,null)}attach(e){m(this,fs).set(e.id,e);const{annotationElementId:r}=e;r&&m(this,Re).isDeletedAnnotationElement(r)&&m(this,Re).removeDeletedAnnotationElement(e)}detach(e){var r;m(this,fs).delete(e.id),(r=m(this,Pf))==null||r.removePointerInTextLayer(e.contentDiv),!m(this,Gg)&&e.annotationElementId&&m(this,Re).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Re).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Re).addDeletedAnnotationElement(e.annotationElementId),Vt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Re).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,Tf)),m(this,Re).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!m(this,dc)&&(e._focusEventsAllowed=!1,C(this,dc,setTimeout(()=>{C(this,dc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Re)._signal}),r.focus())},0))),e._structTreeParentId=(n=m(this,Pf))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return m(this,Re).getId()}combinedSignal(e){return m(this,Re).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,ar,go))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,r){this.updateToolbar(e),await m(this,Re).updateMode(e.mode);const{offsetX:n,offsetY:i}=M(this,ar,qO).call(this),s=this.getNextId(),a=M(this,ar,VO).call(this,{parent:this,id:s,x:n,y:i,uiManager:m(this,Re),isCentered:!0,...r});a&&this.add(a)}async deserialize(e){var r;return await((r=m(ja,id).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,m(this,Re)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),s=M(this,ar,VO).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Re),isCentered:r,...n});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(M(this,ar,qO).call(this),!0,e)}setSelected(e){m(this,Re).setSelected(e)}toggleSelected(e){m(this,Re).toggleSelected(e)}unselect(e){m(this,Re).unselect(e)}pointerup(e){var i;const{isMac:r}=zn.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div||!m(this,rd)||(C(this,rd,!1),(i=m(this,ar,go))!=null&&i.isDrawer&&m(this,ar,go).supportMultipleDrawings))return;if(!m(this,qg)){C(this,qg,!0);return}const n=m(this,Re).getMode();if(n===qe.STAMP||n===qe.SIGNATURE){m(this,Re).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(m(this,Re).getMode()===qe.HIGHLIGHT&&this.enableTextSelection(),m(this,rd)){C(this,rd,!1);return}const{isMac:r}=zn.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;if(C(this,rd,!0),(i=m(this,ar,go))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=m(this,Re).getActive();C(this,qg,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),m(this,La)){m(this,ar,go).startDrawing(this,m(this,Re),!1,e);return}m(this,Re).setCurrentDrawingSession(this),C(this,La,new AbortController);const r=m(this,Re).combinedSignal(m(this,La));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(C(this,hc,null),this.commitOrRemove())},{signal:r}),m(this,ar,go).startDrawing(this,m(this,Re),!1,e)}pause(e){if(e){const{activeElement:r}=document;this.div.contains(r)&&C(this,hc,r);return}m(this,hc)&&setTimeout(()=>{var r;(r=m(this,hc))==null||r.focus(),C(this,hc,null)},0)}endDrawingSession(e=!1){return m(this,La)?(m(this,Re).setCurrentDrawingSession(null),m(this,La).abort(),C(this,La,null),C(this,hc,null),m(this,ar,go).endDrawing(e)):null}findNewParent(e,r,n){const i=m(this,Re).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,La)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,La)&&m(this,ar,go).onScaleChangingWhenDrawing(this)}destroy(){var e,r;this.commitOrRemove(),((e=m(this,Re).getActive())==null?void 0:e.parent)===this&&(m(this,Re).commitOrRemove(),m(this,Re).setActiveEditor(null)),m(this,dc)&&(clearTimeout(m(this,dc)),C(this,dc,null));for(const n of m(this,fs).values())(r=m(this,Pf))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,m(this,fs).clear(),m(this,Re).removeLayer(this)}render({viewport:e}){this.viewport=e,Xf(this.div,e);for(const r of m(this,Re).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){m(this,Re).commitOrRemove(),M(this,ar,wS).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Xf(this.div,{rotation:n}),r!==n)for(const i of m(this,fs).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return m(this,Re).viewParameters.realScale}};Pf=new WeakMap,qg=new WeakMap,zo=new WeakMap,td=new WeakMap,dc=new WeakMap,fs=new WeakMap,rd=new WeakMap,Gg=new WeakMap,Tf=new WeakMap,La=new WeakMap,hc=new WeakMap,bn=new WeakMap,fc=new WeakMap,nd=new WeakMap,Kg=new WeakMap,Re=new WeakMap,id=new WeakMap,ar=new WeakSet,RK=function(e){m(this,Re).unselectAll();const{target:r}=e;if(r===m(this,bn).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&m(this,bn).div.contains(r)){const{isMac:n}=zn.platform;if(e.button!==0||e.ctrlKey&&n)return;m(this,Re).showAllEditors("highlight",!0,!0),m(this,bn).div.classList.add("free"),this.toggleDrawing(),Ej.startHighlighting(this,m(this,Re).direction==="ltr",{target:m(this,bn).div,x:e.x,y:e.y}),m(this,bn).div.addEventListener("pointerup",()=>{m(this,bn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Re)._signal}),e.preventDefault()}},go=function(){return m(ja,id).get(m(this,Re).getMode())},VO=function(e){const r=m(this,ar,go);return r?new r.prototype.constructor(e):null},qO=function(){const{x:e,y:r,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,r),o=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,r+i),u=(s+o)/2-e,d=(a+c)/2-r,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},wS=function(){for(const e of m(this,fs).values())e.isEmpty()&&e.remove()},de(ja,"_initialized",!1),k(ja,id,new Map([AO,RO,UO,Ej,BO].map(e=>[e._editorType,e])));let WO=ja;var Fa,hi,kf,Rw,XA,IK,fl,KO,$K,YO;const en=class en{constructor({pageIndex:e}){k(this,fl);k(this,Fa,null);k(this,hi,new Map);k(this,kf,new Map);this.pageIndex=e}setParent(e){if(!m(this,Fa)){C(this,Fa,e);return}if(m(this,Fa)!==e){if(m(this,hi).size>0)for(const r of m(this,hi).values())r.remove(),e.append(r);C(this,Fa,e)}}static get _svgFactory(){return dt(this,"_svgFactory",new jj)}draw(e,r=!1,n=!1){const i=fn(en,Rw)._++,s=M(this,fl,KO).call(this),a=en._svgFactory.createElement("defs");s.append(a);const o=en._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),r&&m(this,kf).set(i,o);const u=n?M(this,fl,$K).call(this,a,c):null,d=en._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(s,e),m(this,hi).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,r){const n=fn(en,Rw)._++,i=M(this,fl,KO).call(this),s=en._svgFactory.createElement("defs");i.append(s);const a=en._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(r){const h=en._svgFactory.createElement("mask");s.append(h),c=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=en._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=en._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=en._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,hi).set(n,i),n}finalizeDraw(e,r){m(this,kf).delete(e),this.updateProperties(e,r)}updateProperties(e,r){var c;if(!r)return;const{root:n,bbox:i,rootClass:s,path:a}=r,o=typeof e=="number"?m(this,hi).get(e):e;if(o){if(n&&M(this,fl,YO).call(this,o,n),i&&M(c=en,XA,IK).call(c,o,i),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstChild.firstChild;M(this,fl,YO).call(this,d,a)}}}updateParent(e,r){if(r===this)return;const n=m(this,hi).get(e);n&&(m(r,Fa).append(n),m(this,hi).delete(e),m(r,hi).set(e,n))}remove(e){m(this,kf).delete(e),m(this,Fa)!==null&&(m(this,hi).get(e).remove(),m(this,hi).delete(e))}destroy(){C(this,Fa,null);for(const e of m(this,hi).values())e.remove();m(this,hi).clear(),m(this,kf).clear()}};Fa=new WeakMap,hi=new WeakMap,kf=new WeakMap,Rw=new WeakMap,XA=new WeakSet,IK=function(e,[r,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*r}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},fl=new WeakSet,KO=function(){const e=en._svgFactory.create(1,1,!0);return m(this,Fa).append(e),e.setAttribute("aria-hidden",!0),e},$K=function(e,r){const n=en._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=en._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${r}`),s.classList.add("clip"),i},YO=function(e,r){for(const[n,i]of Object.entries(r))i===null?e.removeAttribute(n):e.setAttribute(n,i)},k(en,XA),k(en,Rw,0);let GO=en;globalThis._pdfjsTestingUtils={HighlightOutliner:CO};globalThis.pdfjsLib={AbortException:Cd,AnnotationEditorLayer:WO,AnnotationEditorParamsType:yt,AnnotationEditorType:qe,AnnotationEditorUIManager:Zf,AnnotationLayer:_O,AnnotationMode:uu,AnnotationType:Dr,build:i0e,ColorPicker:_j,createValidAbsoluteUrl:TG,DOMSVGFactory:jj,DrawLayer:GO,FeatureTest:zn,fetchData:r_,getDocument:Jbe,getFilenameFromUrl:Xxe,getPdfFilenameFromUrl:Zxe,getRGB:uC,getUuid:MG,getXfaPageViewport:Jxe,GlobalWorkerOptions:qo,ImageKind:V1,InvalidPDFException:Mk,isDataScheme:cC,isPdfFile:LR,isValidExplicitDest:ube,MathClamp:pi,noContextMenu:ca,normalizeUnicode:Gxe,OPS:vj,OutputScale:ul,PasswordResponses:Lxe,PDFDataRangeTransport:D7,PDFDateString:xj,PDFWorker:Sb,PermissionFlag:$xe,PixelsPerInch:Nd,RenderingCancelledException:$R,ResponseException:yj,setLayerDimensions:Xf,shadow:dt,SignatureExtractor:gc,stopEvent:Fr,SupportedImageMimeTypes:Rk,TextLayer:wb,TouchManager:wj,updateUrlHash:kG,Util:$e,VerbosityLevel:aC,version:$7,XfaLayer:F7};qo.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${$7}/pdf.worker.min.js`;const C0e=()=>{const[t,e]=j.useState(!1),{toast:r}=Os(),n=async a=>{try{const o=await a.arrayBuffer(),c=new Uint8Array(o);let u="";const d=32768;for(let f=0;f<c.length;f+=d){const p=c.subarray(f,f+d);u+=String.fromCharCode(...p)}return btoa(u)}catch(o){throw console.error("Error converting PDF to buffer:",o),new Error("Falha ao converter PDF")}};return{extractDataFromPdf:async a=>{if(!a)return{success:!1,error:"Nenhum arquivo fornecido"};if(a.type!=="application/pdf")return{success:!1,error:"Apenas arquivos PDF são suportados para extração automática"};e(!0);try{r({title:"Extraindo dados...",description:"Processando PDF e extraindo informações médicas. Aguarde..."});const o=await n(a);if(!o)throw new Error("Não foi possível converter o PDF");const{data:c,error:u}=await ce.functions.invoke("extract-pdf-data",{body:{pdfBuffer:o,fileName:a.name}});if(u)throw console.error("Error from edge function:",u),new Error(u.message||"Erro ao processar PDF com IA");if(!c.success)throw new Error(c.error||"Falha no processamento do PDF");return r({title:"Dados extraídos com sucesso!",description:"As informações do exame foram extraídas automaticamente do PDF."}),{success:!0,extractedData:c.extractedData,fileName:c.fileName}}catch(o){console.error("Error in PDF extraction:",o);const c=o instanceof Error?o.message:"Erro desconhecido na extração";return r({title:"Erro na extração",description:c,variant:"destructive"}),{success:!1,error:c}}finally{e(!1)}},populateFormWithExtractedData:a=>{const o={};if(a.doctor&&(o.doctorName=a.doctor),a.exam_date)try{const c=new Date(a.exam_date);isNaN(c.getTime())||(o.appointmentDate=a.exam_date)}catch{console.warn("Could not parse exam date:",a.exam_date)}if(a.laboratory&&(o.laboratory=a.laboratory),a.report&&(o.labResults=a.report),a.variables&&a.variables.length>0){const c=a.variables.map(u=>{let d=`${u.name}: ${u.value}`;return u.unit&&(d+=` ${u.unit}`),u.reference_range&&(d+=` (Ref: ${u.reference_range})`),d}).join(`
`);o.extractedVariables=c}return a.raw_text&&(o.rawText=a.raw_text),o},isExtracting:t}},Iy=({trigger:t,initialTab:e="sleep"})=>{const[r,n]=j.useState(!1),[i,s]=j.useState(!1),[a,o]=j.useState(e),{toast:c}=Os(),{user:u}=tr(),{extractDataFromPdf:d,populateFormWithExtractedData:h,isExtracting:f}=C0e();j.useEffect(()=>{o(e)},[e]);const[p,v]=j.useState({hours:"",quality:"",bedTime:"",wakeTime:"",interruptions:"",notes:""}),[g,x]=j.useState({calories:"",protein:"",carbs:"",fats:"",fiber:"",water:"",meals:"",supplements:"",allergies:"",dietaryRestrictions:"",notes:""}),[y,b]=j.useState({type:"",duration:"",intensity:"",exercises:"",sets:"",reps:"",weight:"",calories:"",heartRateAvg:"",heartRateMax:"",perceivedExertion:"",location:"",equipment:"",weather:"",injuries:"",notes:""}),[w,S]=j.useState({therapistName:"",sessionType:"",duration:"",exercises:"",painLevel:"",mobility:"",strength:"",recommendations:"",nextSession:"",notes:""}),[_,A]=j.useState({doctorName:"",appointmentType:"",symptoms:"",diagnosis:"",medications:"",dosage:"",sideEffects:"",recommendations:"",followUp:"",labResults:"",laboratory:"",appointmentDate:"",extractedVariables:"",rawText:"",notes:"",files:[]}),[E,N]=j.useState({heartRate:"",bloodPressure:"",weight:"",bodyFat:"",muscleMass:"",temperature:"",oxygenSaturation:"",glucose:"",notes:""}),T=async(P,R)=>{if(!u){c({title:"Erro",description:"Você precisa estar logado para salvar dados.",variant:"destructive"});return}const U=D(P,R);if(U.length>0){c({title:"Campos obrigatórios",description:`Preencha: ${U.join(", ")}`,variant:"destructive"});return}try{s(!0);let Y=[];if(P==="medical"&&R.files&&R.files.length>0){const we=R.files.map(async je=>{const V=je.name.split(".").pop(),H=`${u.id}/${Date.now()}_${je.name}`,{data:Q,error:ie}=await ce.storage.from("medical-files").upload(H,je);if(ie)throw console.error("Error uploading file:",ie),ie;return Q.path});Y=await Promise.all(we)}const{files:J,...X}=R,ee={...X,...Y.length>0&&{attachments:Y}},{error:ue}=await ce.from("athlete_data").insert([{athlete_id:u.id,data_type:P,data:ee,recorded_at:new Date().toISOString()}]);if(ue)throw ue;c({title:"Dados salvos com sucesso!",description:`Seus dados de ${O(P)} foram registrados.${Y.length>0?` ${Y.length} arquivo(s) anexado(s).`:""}`}),I(P),n(!1)}catch(Y){console.error("Error saving data:",Y),c({title:"Erro ao salvar",description:"Não foi possível salvar os dados. Tente novamente.",variant:"destructive"})}finally{s(!1)}},D=(P,R)=>{const U=[];switch(P){case"sleep":R.hours||U.push("Horas de sono"),R.quality||U.push("Qualidade do sono");break;case"nutrition":R.calories||U.push("Calorias");break;case"training":R.type||U.push("Tipo de treino"),R.duration||U.push("Duração");break;case"physiotherapy":R.sessionType||U.push("Tipo de sessão"),R.duration||U.push("Duração");break;case"medical":R.appointmentType||U.push("Tipo de consulta");break;case"vitals":!R.heartRate&&!R.weight&&!R.bloodPressure&&U.push("Pelo menos um dado vital");break}return U},O=P=>({sleep:"sono",nutrition:"nutrição",training:"treino",physiotherapy:"fisioterapia",medical:"consulta médica",vitals:"dados vitais"})[P]||P,I=P=>{switch(P){case"sleep":v({hours:"",quality:"",bedTime:"",wakeTime:"",interruptions:"",notes:""});break;case"nutrition":x({calories:"",protein:"",carbs:"",fats:"",fiber:"",water:"",meals:"",supplements:"",allergies:"",dietaryRestrictions:"",notes:""});break;case"training":b({type:"",duration:"",intensity:"",exercises:"",sets:"",reps:"",weight:"",calories:"",heartRateAvg:"",heartRateMax:"",perceivedExertion:"",location:"",equipment:"",weather:"",injuries:"",notes:""});break;case"physiotherapy":S({therapistName:"",sessionType:"",duration:"",exercises:"",painLevel:"",mobility:"",strength:"",recommendations:"",nextSession:"",notes:""});break;case"medical":A({doctorName:"",appointmentType:"",symptoms:"",diagnosis:"",medications:"",dosage:"",sideEffects:"",recommendations:"",followUp:"",labResults:"",laboratory:"",appointmentDate:"",extractedVariables:"",rawText:"",notes:"",files:[]});break;case"vitals":N({heartRate:"",bloodPressure:"",weight:"",bodyFat:"",muscleMass:"",temperature:"",oxygenSaturation:"",glucose:"",notes:""});break}},F=async P=>{if(!P)return;const R=Array.from(P).filter(Y=>["application/pdf","image/jpeg","image/png","image/jpg","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(Y.type)?Y.size>10485760?(c({title:"Arquivo muito grande",description:`O arquivo ${Y.name} é maior que 10MB.`,variant:"destructive"}),!1):!0:(c({title:"Formato não suportado",description:`O arquivo ${Y.name} não está em um formato válido.`,variant:"destructive"}),!1));A({..._,files:[..._.files,...R]});const U=R.find(Y=>Y.type==="application/pdf");U&&window.confirm(`Detectamos um arquivo PDF (${U.name}). Deseja extrair automaticamente os dados do exame?`)&&await $(U)},$=async P=>{const R=await d(P);if(R.success&&R.extractedData){const U=h(R.extractedData);A(Y=>({...Y,...U})),c({title:"Dados preenchidos automaticamente!",description:"Verifique os campos extraídos e faça ajustes se necessário."})}},B=P=>{const R=_.files.filter((U,Y)=>Y!==P);A({..._,files:R})},L=l.jsxs(te,{variant:"hero",className:"gap-2",children:[l.jsx(Dc,{className:"w-4 h-4"}),"Registrar Dados"]});return l.jsxs(cn,{open:r,onOpenChange:n,children:[l.jsx(mp,{asChild:!0,children:t||L}),l.jsxs(qr,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"w-5 h-5 text-primary"}),"Registrar Dados de Performance e Saúde"]}),l.jsx(ll,{children:"Adicione suas métricas detalhadas para acompanhar sua evolução completa"})]}),l.jsxs(ao,{value:a,onValueChange:o,className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-6",children:[l.jsxs(st,{value:"sleep",className:"gap-1 text-xs",children:[l.jsx(sv,{className:"w-3 h-3"}),"Sono"]}),l.jsxs(st,{value:"nutrition",className:"gap-1 text-xs",children:[l.jsx(xd,{className:"w-3 h-3"}),"Nutrição"]}),l.jsxs(st,{value:"training",className:"gap-1 text-xs",children:[l.jsx(Gt,{className:"w-3 h-3"}),"Treino"]}),l.jsxs(st,{value:"physiotherapy",className:"gap-1 text-xs",children:[l.jsx(cb,{className:"w-3 h-3"}),"Fisioterapia"]}),l.jsxs(st,{value:"medical",className:"gap-1 text-xs",children:[l.jsx(ov,{className:"w-3 h-3"}),"Médico"]}),l.jsxs(st,{value:"vitals",className:"gap-1 text-xs",children:[l.jsx(As,{className:"w-3 h-3"}),"Vitais"]})]}),l.jsx(at,{value:"sleep",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(sv,{className:"w-5 h-5 text-blue-500"}),"Dados do Sono"]}),l.jsx(Ye,{children:"Registre informações detalhadas sobre sua qualidade de sono"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"sleep-hours",children:"Horas de Sono"}),l.jsx(se,{id:"sleep-hours",type:"number",step:"0.5",placeholder:"8.5",value:p.hours,onChange:P=>v({...p,hours:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Qualidade do Sono"}),l.jsxs(ft,{value:p.quality,onValueChange:P=>v({...p,quality:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Avalie de 1 a 5"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"1",children:"1 - Muito Ruim"}),l.jsx(ne,{value:"2",children:"2 - Ruim"}),l.jsx(ne,{value:"3",children:"3 - Regular"}),l.jsx(ne,{value:"4",children:"4 - Bom"}),l.jsx(ne,{value:"5",children:"5 - Excelente"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"interruptions",children:"Interrupções"}),l.jsx(se,{id:"interruptions",type:"number",placeholder:"2",value:p.interruptions,onChange:P=>v({...p,interruptions:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"bed-time",children:"Hora de Dormir"}),l.jsx(se,{id:"bed-time",type:"time",value:p.bedTime,onChange:P=>v({...p,bedTime:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"wake-time",children:"Hora de Acordar"}),l.jsx(se,{id:"wake-time",type:"time",value:p.wakeTime,onChange:P=>v({...p,wakeTime:P.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"sleep-notes",children:"Observações sobre o Sono"}),l.jsx(Se,{id:"sleep-notes",placeholder:"Descreva como foi seu sono, fatores que influenciaram...",value:p.notes,onChange:P=>v({...p,notes:P.target.value})})]}),l.jsxs(te,{onClick:()=>T("sleep",p),className:"w-full",disabled:i,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),i?"Salvando...":"Salvar Dados do Sono"]})]})]})}),l.jsx(at,{value:"nutrition",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(xd,{className:"w-5 h-5 text-orange-500"}),"Dados Nutricionais"]}),l.jsx(Ye,{children:"Registre informações detalhadas sobre alimentação e suplementação"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"calories",children:"Calorias (kcal)"}),l.jsx(se,{id:"calories",type:"number",placeholder:"2250",value:g.calories,onChange:P=>x({...g,calories:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"protein",children:"Proteínas (g)"}),l.jsx(se,{id:"protein",type:"number",placeholder:"150",value:g.protein,onChange:P=>x({...g,protein:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"carbs",children:"Carboidratos (g)"}),l.jsx(se,{id:"carbs",type:"number",placeholder:"300",value:g.carbs,onChange:P=>x({...g,carbs:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"fats",children:"Gorduras (g)"}),l.jsx(se,{id:"fats",type:"number",placeholder:"80",value:g.fats,onChange:P=>x({...g,fats:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"fiber",children:"Fibras (g)"}),l.jsx(se,{id:"fiber",type:"number",placeholder:"25",value:g.fiber,onChange:P=>x({...g,fiber:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"water",children:"Água (Litros)"}),l.jsx(se,{id:"water",type:"number",step:"0.1",placeholder:"3.2",value:g.water,onChange:P=>x({...g,water:P.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"meals",children:"Refeições Principais"}),l.jsx(Se,{id:"meals",placeholder:`Café da manhã: aveia com frutas
Almoço: arroz, feijão, frango...`,value:g.meals,onChange:P=>x({...g,meals:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"supplements",children:"Suplementos"}),l.jsx(Se,{id:"supplements",placeholder:"Whey protein 30g, Creatina 5g, Vitamina D...",value:g.supplements,onChange:P=>x({...g,supplements:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"allergies",children:"Alergias Alimentares"}),l.jsx(se,{id:"allergies",placeholder:"Lactose, amendoim...",value:g.allergies,onChange:P=>x({...g,allergies:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"restrictions",children:"Restrições Dietéticas"}),l.jsx(se,{id:"restrictions",placeholder:"Vegetariano, sem glúten...",value:g.dietaryRestrictions,onChange:P=>x({...g,dietaryRestrictions:P.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"nutrition-notes",children:"Observações Nutricionais"}),l.jsx(Se,{id:"nutrition-notes",placeholder:"Como se sentiu após as refeições, digestão, energia...",value:g.notes,onChange:P=>x({...g,notes:P.target.value})})]}),l.jsxs(te,{onClick:()=>T("nutrition",g),className:"w-full",disabled:i,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),i?"Salvando...":"Salvar Dados Nutricionais"]})]})]})}),l.jsx(at,{value:"training",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"w-5 h-5 text-green-500"}),"Dados do Treino"]}),l.jsx(Ye,{children:"Registre informações detalhadas sobre sua sessão de treino"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"training-type",children:"Tipo de Treino"}),l.jsxs(ft,{value:y.type,onValueChange:P=>b({...y,type:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione o tipo"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"cardio",children:"Cardio"}),l.jsx(ne,{value:"forca",children:"Força/Musculação"}),l.jsx(ne,{value:"hiit",children:"HIIT"}),l.jsx(ne,{value:"funcional",children:"Funcional"}),l.jsx(ne,{value:"esporte",children:"Esporte Específico"}),l.jsx(ne,{value:"flexibilidade",children:"Flexibilidade/Yoga"}),l.jsx(ne,{value:"tecnico",children:"Técnico"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"duration",children:"Duração (minutos)"}),l.jsx(se,{id:"duration",type:"number",placeholder:"90",value:y.duration,onChange:P=>b({...y,duration:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Intensidade"}),l.jsxs(ft,{value:y.intensity,onValueChange:P=>b({...y,intensity:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Intensidade"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"baixa",children:"Baixa (50-60%)"}),l.jsx(ne,{value:"moderada",children:"Moderada (60-70%)"}),l.jsx(ne,{value:"alta",children:"Alta (70-85%)"}),l.jsx(ne,{value:"maxima",children:"Máxima (85%+)"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"sets",children:"Séries"}),l.jsx(se,{id:"sets",type:"number",placeholder:"4",value:y.sets,onChange:P=>b({...y,sets:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"reps",children:"Repetições"}),l.jsx(se,{id:"reps",placeholder:"8-12",value:y.reps,onChange:P=>b({...y,reps:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"training-weight",children:"Peso Total (kg)"}),l.jsx(se,{id:"training-weight",type:"number",placeholder:"1200",value:y.weight,onChange:P=>b({...y,weight:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"training-calories",children:"Calorias Queimadas"}),l.jsx(se,{id:"training-calories",type:"number",placeholder:"450",value:y.calories,onChange:P=>b({...y,calories:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"hr-avg",children:"FC Média (bpm)"}),l.jsx(se,{id:"hr-avg",type:"number",placeholder:"145",value:y.heartRateAvg,onChange:P=>b({...y,heartRateAvg:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"hr-max",children:"FC Máxima (bpm)"}),l.jsx(se,{id:"hr-max",type:"number",placeholder:"175",value:y.heartRateMax,onChange:P=>b({...y,heartRateMax:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"RPE (1-10)"}),l.jsxs(ft,{value:y.perceivedExertion,onValueChange:P=>b({...y,perceivedExertion:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Esforço percebido"})}),l.jsx(ut,{children:Array.from({length:10},(P,R)=>l.jsxs(ne,{value:String(R+1),children:[R+1," - ",R<2?"Muito Fácil":R<4?"Fácil":R<6?"Moderado":R<8?"Difícil":"Máximo"]},R+1))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"location",children:"Local"}),l.jsx(se,{id:"location",placeholder:"Academia, casa, parque...",value:y.location,onChange:P=>b({...y,location:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"weather",children:"Clima"}),l.jsx(se,{id:"weather",placeholder:"Ensolarado, 25°C...",value:y.weather,onChange:P=>b({...y,weather:P.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"exercises",children:"Exercícios Realizados"}),l.jsx(Se,{id:"exercises",placeholder:"Agachamento 4x8, Supino 3x10, Corrida 30min...",value:y.exercises,onChange:P=>b({...y,exercises:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"equipment",children:"Equipamentos Utilizados"}),l.jsx(Se,{id:"equipment",placeholder:"Halteres, barras, esteira, TRX...",value:y.equipment,onChange:P=>b({...y,equipment:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"injuries",children:"Lesões/Limitações"}),l.jsx(Se,{id:"injuries",placeholder:"Dor no joelho direito, cuidado com ombro...",value:y.injuries,onChange:P=>b({...y,injuries:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"training-notes",children:"Observações do Treino"}),l.jsx(Se,{id:"training-notes",placeholder:"Como se sentiu, evolução, pontos de atenção...",value:y.notes,onChange:P=>b({...y,notes:P.target.value})})]})]}),l.jsxs(te,{onClick:()=>T("training",y),className:"w-full",disabled:i,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),i?"Salvando...":"Salvar Dados do Treino"]})]})]})}),l.jsx(at,{value:"physiotherapy",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(cb,{className:"w-5 h-5 text-purple-500"}),"Dados de Fisioterapia"]}),l.jsx(Ye,{children:"Registre informações sobre sessões de fisioterapia e reabilitação"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"therapist",children:"Nome do Fisioterapeuta"}),l.jsx(se,{id:"therapist",placeholder:"Dr. João Silva",value:w.therapistName,onChange:P=>S({...w,therapistName:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Tipo de Sessão"}),l.jsxs(ft,{value:w.sessionType,onValueChange:P=>S({...w,sessionType:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Tipo de sessão"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"avaliacao",children:"Avaliação"}),l.jsx(ne,{value:"tratamento",children:"Tratamento"}),l.jsx(ne,{value:"reabilitacao",children:"Reabilitação"}),l.jsx(ne,{value:"preventivo",children:"Preventivo"}),l.jsx(ne,{value:"massagem",children:"Massagem Terapêutica"}),l.jsx(ne,{value:"alongamento",children:"Alongamento"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"physio-duration",children:"Duração (minutos)"}),l.jsx(se,{id:"physio-duration",type:"number",placeholder:"60",value:w.duration,onChange:P=>S({...w,duration:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Nível de Dor (0-10)"}),l.jsxs(ft,{value:w.painLevel,onValueChange:P=>S({...w,painLevel:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Intensidade da dor"})}),l.jsx(ut,{children:Array.from({length:11},(P,R)=>l.jsxs(ne,{value:String(R),children:[R," - ",R===0?"Sem dor":R<=3?"Leve":R<=6?"Moderada":R<=8?"Intensa":"Insuportável"]},R))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Mobilidade"}),l.jsxs(ft,{value:w.mobility,onValueChange:P=>S({...w,mobility:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Avalie a mobilidade"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"limitada",children:"Limitada"}),l.jsx(ne,{value:"reduzida",children:"Reduzida"}),l.jsx(ne,{value:"normal",children:"Normal"}),l.jsx(ne,{value:"boa",children:"Boa"}),l.jsx(ne,{value:"excelente",children:"Excelente"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Força Muscular"}),l.jsxs(ft,{value:w.strength,onValueChange:P=>S({...w,strength:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Avalie a força"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"muito-fraca",children:"Muito Fraca"}),l.jsx(ne,{value:"fraca",children:"Fraca"}),l.jsx(ne,{value:"normal",children:"Normal"}),l.jsx(ne,{value:"boa",children:"Boa"}),l.jsx(ne,{value:"muito-boa",children:"Muito Boa"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"next-session",children:"Próxima Sessão"}),l.jsx(se,{id:"next-session",type:"date",value:w.nextSession,onChange:P=>S({...w,nextSession:P.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"physio-exercises",children:"Exercícios Realizados"}),l.jsx(Se,{id:"physio-exercises",placeholder:"Fortalecimento de quadríceps, alongamento de isquiotibiais...",value:w.exercises,onChange:P=>S({...w,exercises:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"recommendations",children:"Recomendações"}),l.jsx(Se,{id:"recommendations",placeholder:"Gelo 3x ao dia, evitar corrida por 1 semana...",value:w.recommendations,onChange:P=>S({...w,recommendations:P.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"physio-notes",children:"Observações da Sessão"}),l.jsx(Se,{id:"physio-notes",placeholder:"Evolução do tratamento, feedback do paciente...",value:w.notes,onChange:P=>S({...w,notes:P.target.value})})]}),l.jsxs(te,{onClick:()=>T("physiotherapy",w),className:"w-full",disabled:i,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),i?"Salvando...":"Salvar Dados de Fisioterapia"]})]})]})}),l.jsx(at,{value:"medical",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(ov,{className:"w-5 h-5 text-red-600"}),"Dados Médicos"]}),l.jsx(Ye,{children:"Registre informações sobre consultas médicas e exames"})]}),l.jsxs(Ie,{className:"space-y-4",children:[f&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cv,{className:"w-5 h-5 text-blue-600 animate-pulse"}),l.jsx("span",{className:"text-blue-800 font-medium",children:"Extraindo dados do PDF..."})]}),l.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Processando arquivo com IA para extrair informações automaticamente."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"doctor",children:"Nome do Médico"}),l.jsx(se,{id:"doctor",placeholder:"Dr. Maria Santos",value:_.doctorName,onChange:P=>A({..._,doctorName:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"laboratory",children:"Laboratório"}),l.jsx(se,{id:"laboratory",placeholder:"Lab Central",value:_.laboratory,onChange:P=>A({..._,laboratory:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"appointment-date",children:"Data do Exame"}),l.jsx(se,{id:"appointment-date",type:"date",value:_.appointmentDate,onChange:P=>A({..._,appointmentDate:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Tipo de Consulta"}),l.jsxs(ft,{value:_.appointmentType,onValueChange:P=>A({..._,appointmentType:P}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Tipo de consulta"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"rotina",children:"Check-up de Rotina"}),l.jsx(ne,{value:"emergencia",children:"Emergência"}),l.jsx(ne,{value:"especialista",children:"Especialista"}),l.jsx(ne,{value:"acompanhamento",children:"Acompanhamento"}),l.jsx(ne,{value:"preventiva",children:"Consulta Preventiva"}),l.jsx(ne,{value:"exames",children:"Resultado de Exames"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"follow-up",children:"Data do Retorno"}),l.jsx(se,{id:"follow-up",type:"date",value:_.followUp,onChange:P=>A({..._,followUp:P.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"symptoms",children:"Sintomas Relatados"}),l.jsx(Se,{id:"symptoms",placeholder:"Dor de cabeça, fadiga, dor no joelho...",value:_.symptoms,onChange:P=>A({..._,symptoms:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"diagnosis",children:"Diagnóstico"}),l.jsx(Se,{id:"diagnosis",placeholder:"Diagnóstico médico, CID se aplicável...",value:_.diagnosis,onChange:P=>A({..._,diagnosis:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"medications",children:"Medicamentos Prescritos"}),l.jsx(Se,{id:"medications",placeholder:"Paracetamol, Ibuprofeno, Vitamina D...",value:_.medications,onChange:P=>A({..._,medications:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"dosage",children:"Dosagem e Frequência"}),l.jsx(Se,{id:"dosage",placeholder:"500mg 2x ao dia, 1 comprimido pela manhã...",value:_.dosage,onChange:P=>A({..._,dosage:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"side-effects",children:"Efeitos Colaterais"}),l.jsx(Se,{id:"side-effects",placeholder:"Sonolência, náusea, dor de estômago...",value:_.sideEffects,onChange:P=>A({..._,sideEffects:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"lab-results",children:"Resultados de Exames / Laudo"}),l.jsx(Se,{id:"lab-results",placeholder:"Glicemia: 85mg/dL, Colesterol: 180mg/dL...",value:_.labResults,onChange:P=>A({..._,labResults:P.target.value}),className:"min-h-[100px]"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"medical-recommendations",children:"Recomendações Médicas"}),l.jsx(Se,{id:"medical-recommendations",placeholder:"Repouso, mudanças na dieta, exercícios específicos...",value:_.recommendations,onChange:P=>A({..._,recommendations:P.target.value})})]})]}),(_.extractedVariables||_.rawText)&&l.jsxs("div",{className:"space-y-4 bg-card border border-border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(SD,{className:"w-5 h-5 text-primary"}),l.jsx(G,{className:"text-foreground font-medium",children:"Dados Extraídos Automaticamente"})]}),_.extractedVariables&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"extracted-variables",className:"text-foreground",children:"Variáveis do Exame"}),l.jsx(Se,{id:"extracted-variables",value:_.extractedVariables,onChange:P=>A({..._,extractedVariables:P.target.value}),className:"bg-background text-foreground border-border min-h-[120px]",placeholder:"Variáveis e valores extraídos do PDF..."})]}),_.rawText&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"raw-text",className:"text-foreground",children:"Texto Completo Extraído"}),l.jsx(Se,{id:"raw-text",value:_.rawText,onChange:P=>A({..._,rawText:P.target.value}),className:"bg-background text-foreground border-border min-h-[100px] text-xs font-mono",placeholder:"Texto completo extraído do PDF..."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(G,{children:"Anexar Arquivos Médicos"}),l.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Lre,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Clique para anexar ou arraste arquivos aqui"}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"PDF, JPG, PNG, DOC, DOCX até 10MB"}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 mb-4",children:l.jsxs("p",{className:"text-xs text-blue-700 flex items-center gap-1",children:[l.jsx(cv,{className:"w-3 h-3"}),"PDFs de exames são automaticamente processados para extrair dados!"]})}),l.jsx(se,{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:P=>F(P.target.files),className:"hidden",id:"file-upload",disabled:f}),l.jsx(te,{type:"button",variant:"outline",onClick:()=>{var P;return(P=document.getElementById("file-upload"))==null?void 0:P.click()},disabled:f,children:f?"Processando...":"Selecionar Arquivos"})]})}),_.files.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(G,{children:["Arquivos Selecionados (",_.files.length,")"]}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:_.files.map((P,R)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(n8,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm truncate",children:P.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(P.size/1024/1024).toFixed(1),"MB)"]})]}),l.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>B(R),children:l.jsx(lp,{className:"w-4 h-4"})})]},R))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"medical-notes",children:"Observações Médicas"}),l.jsx(Se,{id:"medical-notes",placeholder:"Observações gerais da consulta, orientações especiais...",value:_.notes,onChange:P=>A({..._,notes:P.target.value})})]}),l.jsxs(te,{onClick:()=>T("medical",_),className:"w-full",disabled:i,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),i?"Salvando...":"Salvar Dados Médicos"]})]})]})}),l.jsx(at,{value:"vitals",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(As,{className:"w-5 h-5 text-red-500"}),"Dados Vitais"]}),l.jsx(Ye,{children:"Registre seus indicadores vitais e biométricos"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"heart-rate",children:"Frequência Cardíaca (bpm)"}),l.jsx(se,{id:"heart-rate",type:"number",placeholder:"65",value:E.heartRate,onChange:P=>N({...E,heartRate:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"blood-pressure",children:"Pressão Arterial (mmHg)"}),l.jsx(se,{id:"blood-pressure",placeholder:"120/80",value:E.bloodPressure,onChange:P=>N({...E,bloodPressure:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"vital-weight",children:"Peso (kg)"}),l.jsx(se,{id:"vital-weight",type:"number",step:"0.1",placeholder:"75.5",value:E.weight,onChange:P=>N({...E,weight:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"body-fat",children:"% Gordura Corporal"}),l.jsx(se,{id:"body-fat",type:"number",step:"0.1",placeholder:"12.5",value:E.bodyFat,onChange:P=>N({...E,bodyFat:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"muscle-mass",children:"Massa Muscular (kg)"}),l.jsx(se,{id:"muscle-mass",type:"number",step:"0.1",placeholder:"45.2",value:E.muscleMass,onChange:P=>N({...E,muscleMass:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"temperature",children:"Temperatura (°C)"}),l.jsx(se,{id:"temperature",type:"number",step:"0.1",placeholder:"36.5",value:E.temperature,onChange:P=>N({...E,temperature:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"oxygen",children:"Saturação O₂ (%)"}),l.jsx(se,{id:"oxygen",type:"number",placeholder:"98",value:E.oxygenSaturation,onChange:P=>N({...E,oxygenSaturation:P.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"glucose",children:"Glicemia (mg/dL)"}),l.jsx(se,{id:"glucose",type:"number",placeholder:"85",value:E.glucose,onChange:P=>N({...E,glucose:P.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"vital-notes",children:"Observações sobre Sinais Vitais"}),l.jsx(Se,{id:"vital-notes",placeholder:"Contexto da medição, como se sentia no momento...",value:E.notes,onChange:P=>N({...E,notes:P.target.value})})]}),l.jsxs(te,{onClick:()=>T("vitals",E),className:"w-full",disabled:i,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),i?"Salvando...":"Salvar Dados Vitais"]})]})]})})]})]})]})};var N0e="Separator",i3="horizontal",P0e=["horizontal","vertical"],LK=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=i3,...i}=t,s=T0e(n)?n:i3,o=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(Me.div,{"data-orientation":s,...o,...i,ref:e})});LK.displayName=N0e;function T0e(t){return P0e.includes(t)}var FK=LK;const pr=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>l.jsx(FK,{ref:i,decorative:r,orientation:e,className:De("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));pr.displayName=FK.displayName;function k0e(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var qR="ScrollArea",[zK,SWe]=Ci(qR),[O0e,ha]=zK(qR),BK=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,c]=j.useState(null),[u,d]=j.useState(null),[h,f]=j.useState(null),[p,v]=j.useState(null),[g,x]=j.useState(null),[y,b]=j.useState(0),[w,S]=j.useState(0),[_,A]=j.useState(!1),[E,N]=j.useState(!1),T=tt(e,O=>c(O)),D=Yw(i);return l.jsx(O0e,{scope:r,type:n,dir:D,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:E,onScrollbarYEnabledChange:N,onCornerWidthChange:b,onCornerHeightChange:S,children:l.jsx(Me.div,{dir:D,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});BK.displayName=qR;var UK="ScrollAreaViewport",HK=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,a=ha(UK,r),o=j.useRef(null),c=tt(e,o,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});HK.displayName=UK;var gl="ScrollAreaScrollbar",GR=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ha(gl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return j.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?l.jsx(M0e,{...n,ref:e,forceMount:r}):i.type==="scroll"?l.jsx(D0e,{...n,ref:e,forceMount:r}):i.type==="auto"?l.jsx(WK,{...n,ref:e,forceMount:r}):i.type==="always"?l.jsx(KR,{...n,ref:e}):null});GR.displayName=gl;var M0e=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ha(gl,t.__scopeScrollArea),[s,a]=j.useState(!1);return j.useEffect(()=>{const o=i.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(ai,{present:r||s,children:l.jsx(WK,{"data-state":s?"visible":"hidden",...n,ref:e})})}),D0e=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ha(gl,t.__scopeScrollArea),s=t.orientation==="horizontal",a=pC(()=>c("SCROLL_END"),100),[o,c]=k0e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,c]),j.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,c,a]),l.jsx(ai,{present:r||o!=="hidden",children:l.jsx(KR,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ye(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WK=j.forwardRef((t,e)=>{const r=ha(gl,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,a]=j.useState(!1),o=t.orientation==="horizontal",c=pC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?u:d)}},10);return vv(r.viewport,c),vv(r.content,c),l.jsx(ai,{present:n||s,children:l.jsx(KR,{"data-state":s?"visible":"hidden",...i,ref:e})})}),KR=j.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=ha(gl,t.__scopeScrollArea),s=j.useRef(null),a=j.useRef(0),[o,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=YK(o.viewport,o.content),d={...n,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return z0e(f,a.current,o,p)}return r==="horizontal"?l.jsx(R0e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,p=s3(f,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):r==="vertical"?l.jsx(I0e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,p=s3(f,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),R0e=j.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=ha(gl,t.__scopeScrollArea),[a,o]=j.useState(),c=j.useRef(null),u=tt(e,c,s.onScrollbarXChange);return j.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(qK,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fC(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),ZK(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Pj(a.paddingLeft),paddingEnd:Pj(a.paddingRight)}})}})}),I0e=j.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=ha(gl,t.__scopeScrollArea),[a,o]=j.useState(),c=j.useRef(null),u=tt(e,c,s.onScrollbarYChange);return j.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(qK,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fC(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),ZK(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Pj(a.paddingTop),paddingEnd:Pj(a.paddingBottom)}})}})}),[$0e,VK]=zK(gl),qK=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,p=ha(gl,r),[v,g]=j.useState(null),x=tt(e,T=>g(T)),y=j.useRef(null),b=j.useRef(""),w=p.viewport,S=n.content-n.viewport,_=_r(d),A=_r(c),E=pC(h,10);function N(T){if(y.current){const D=T.clientX-y.current.left,O=T.clientY-y.current.top;u({x:D,y:O})}}return j.useEffect(()=>{const T=D=>{const O=D.target;(v==null?void 0:v.contains(O))&&_(D,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,v,S,_]),j.useEffect(A,[n,A]),vv(v,E),vv(p.content,E),l.jsx($0e,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:_r(s),onThumbPointerUp:_r(a),onThumbPositionChange:A,onThumbPointerDown:_r(o),children:l.jsx(Me.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:ye(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:ye(t.onPointerMove,N),onPointerUp:ye(t.onPointerUp,T=>{const D=T.target;D.hasPointerCapture(T.pointerId)&&D.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Nj="ScrollAreaThumb",GK=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=VK(Nj,t.__scopeScrollArea);return l.jsx(ai,{present:r||i.hasThumb,children:l.jsx(L0e,{ref:e,...n})})}),L0e=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=ha(Nj,r),a=VK(Nj,r),{onThumbPositionChange:o}=a,c=tt(e,h=>a.onThumbChange(h)),u=j.useRef(void 0),d=pC(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(d(),!u.current){const p=B0e(h,o);u.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,d,o]),l.jsx(Me.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ye(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,g=h.clientY-p.top;a.onThumbPointerDown({x:v,y:g})}),onPointerUp:ye(t.onPointerUp,a.onThumbPointerUp)})});GK.displayName=Nj;var YR="ScrollAreaCorner",KK=j.forwardRef((t,e)=>{const r=ha(YR,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(F0e,{...t,ref:e}):null});KK.displayName=YR;var F0e=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=ha(YR,r),[s,a]=j.useState(0),[o,c]=j.useState(0),u=!!(s&&o);return vv(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),vv(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?l.jsx(Me.div,{...n,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Pj(t){return t?parseInt(t,10):0}function YK(t,e){const r=t/e;return isNaN(r)?0:r}function fC(t){const e=YK(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function z0e(t,e,r,n="ltr"){const i=fC(r),s=i/2,a=e||s,o=i-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return XK([c,u],h)(t)}function s3(t,e,r="ltr"){const n=fC(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-n,c=r==="ltr"?[0,a]:[a*-1,0],u=Ek(t,c);return XK([0,a],[0,o])(u)}function XK(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function ZK(t,e){return t>0&&t<e}var B0e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=r.left!==s.left,o=r.top!==s.top;(a||o)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function pC(t,e){const r=_r(t),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function vv(t,e){const r=_r(e);Nr(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var QK=BK,U0e=HK,H0e=KK;const Cs=j.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(QK,{ref:n,className:De("relative overflow-hidden",t),...r,children:[l.jsx(U0e,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(JK,{}),l.jsx(H0e,{})]}));Cs.displayName=QK.displayName;const JK=j.forwardRef(({className:t,orientation:e="vertical",...r},n)=>l.jsx(GR,{ref:n,orientation:e,className:De("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:l.jsx(GK,{className:"relative flex-1 rounded-full bg-border"})}));JK.displayName=GR.displayName;var W0e=Array.isArray,Yi=W0e,V0e=typeof ri=="object"&&ri&&ri.Object===Object&&ri,eY=V0e,q0e=eY,G0e=typeof self=="object"&&self&&self.Object===Object&&self,K0e=q0e||G0e||Function("return this")(),vl=K0e,Y0e=vl,X0e=Y0e.Symbol,o_=X0e,a3=o_,tY=Object.prototype,Z0e=tY.hasOwnProperty,Q0e=tY.toString,$y=a3?a3.toStringTag:void 0;function J0e(t){var e=Z0e.call(t,$y),r=t[$y];try{t[$y]=void 0;var n=!0}catch{}var i=Q0e.call(t);return n&&(e?t[$y]=r:delete t[$y]),i}var ewe=J0e,twe=Object.prototype,rwe=twe.toString;function nwe(t){return rwe.call(t)}var iwe=nwe,o3=o_,swe=ewe,awe=iwe,owe="[object Null]",lwe="[object Undefined]",l3=o3?o3.toStringTag:void 0;function cwe(t){return t==null?t===void 0?lwe:owe:l3&&l3 in Object(t)?swe(t):awe(t)}var Uc=cwe;function uwe(t){return t!=null&&typeof t=="object"}var Hc=uwe,dwe=Uc,hwe=Hc,fwe="[object Symbol]";function pwe(t){return typeof t=="symbol"||hwe(t)&&dwe(t)==fwe}var iy=pwe,mwe=Yi,gwe=iy,vwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ywe=/^\w*$/;function xwe(t,e){if(mwe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||gwe(t)?!0:ywe.test(t)||!vwe.test(t)||e!=null&&t in Object(e)}var XR=xwe;function bwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zd=bwe;const sy=Ft(zd);var wwe=Uc,_we=zd,Swe="[object AsyncFunction]",jwe="[object Function]",Awe="[object GeneratorFunction]",Ewe="[object Proxy]";function Cwe(t){if(!_we(t))return!1;var e=wwe(t);return e==jwe||e==Awe||e==Swe||e==Ewe}var ZR=Cwe;const Ze=Ft(ZR);var Nwe=vl,Pwe=Nwe["__core-js_shared__"],Twe=Pwe,fP=Twe,c3=function(){var t=/[^.]+$/.exec(fP&&fP.keys&&fP.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kwe(t){return!!c3&&c3 in t}var Owe=kwe,Mwe=Function.prototype,Dwe=Mwe.toString;function Rwe(t){if(t!=null){try{return Dwe.call(t)}catch{}try{return t+""}catch{}}return""}var rY=Rwe,Iwe=ZR,$we=Owe,Lwe=zd,Fwe=rY,zwe=/[\\^$.*+?()[\]{}|]/g,Bwe=/^\[object .+?Constructor\]$/,Uwe=Function.prototype,Hwe=Object.prototype,Wwe=Uwe.toString,Vwe=Hwe.hasOwnProperty,qwe=RegExp("^"+Wwe.call(Vwe).replace(zwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gwe(t){if(!Lwe(t)||$we(t))return!1;var e=Iwe(t)?qwe:Bwe;return e.test(Fwe(t))}var Kwe=Gwe;function Ywe(t,e){return t==null?void 0:t[e]}var Xwe=Ywe,Zwe=Kwe,Qwe=Xwe;function Jwe(t,e){var r=Qwe(t,e);return Zwe(r)?r:void 0}var bp=Jwe,e_e=bp,t_e=e_e(Object,"create"),mC=t_e,u3=mC;function r_e(){this.__data__=u3?u3(null):{},this.size=0}var n_e=r_e;function i_e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var s_e=i_e,a_e=mC,o_e="__lodash_hash_undefined__",l_e=Object.prototype,c_e=l_e.hasOwnProperty;function u_e(t){var e=this.__data__;if(a_e){var r=e[t];return r===o_e?void 0:r}return c_e.call(e,t)?e[t]:void 0}var d_e=u_e,h_e=mC,f_e=Object.prototype,p_e=f_e.hasOwnProperty;function m_e(t){var e=this.__data__;return h_e?e[t]!==void 0:p_e.call(e,t)}var g_e=m_e,v_e=mC,y_e="__lodash_hash_undefined__";function x_e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=v_e&&e===void 0?y_e:e,this}var b_e=x_e,w_e=n_e,__e=s_e,S_e=d_e,j_e=g_e,A_e=b_e;function ay(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ay.prototype.clear=w_e;ay.prototype.delete=__e;ay.prototype.get=S_e;ay.prototype.has=j_e;ay.prototype.set=A_e;var E_e=ay;function C_e(){this.__data__=[],this.size=0}var N_e=C_e;function P_e(t,e){return t===e||t!==t&&e!==e}var QR=P_e,T_e=QR;function k_e(t,e){for(var r=t.length;r--;)if(T_e(t[r][0],e))return r;return-1}var gC=k_e,O_e=gC,M_e=Array.prototype,D_e=M_e.splice;function R_e(t){var e=this.__data__,r=O_e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():D_e.call(e,r,1),--this.size,!0}var I_e=R_e,$_e=gC;function L_e(t){var e=this.__data__,r=$_e(e,t);return r<0?void 0:e[r][1]}var F_e=L_e,z_e=gC;function B_e(t){return z_e(this.__data__,t)>-1}var U_e=B_e,H_e=gC;function W_e(t,e){var r=this.__data__,n=H_e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var V_e=W_e,q_e=N_e,G_e=I_e,K_e=F_e,Y_e=U_e,X_e=V_e;function oy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}oy.prototype.clear=q_e;oy.prototype.delete=G_e;oy.prototype.get=K_e;oy.prototype.has=Y_e;oy.prototype.set=X_e;var vC=oy,Z_e=bp,Q_e=vl,J_e=Z_e(Q_e,"Map"),JR=J_e,d3=E_e,e1e=vC,t1e=JR;function r1e(){this.size=0,this.__data__={hash:new d3,map:new(t1e||e1e),string:new d3}}var n1e=r1e;function i1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var s1e=i1e,a1e=s1e;function o1e(t,e){var r=t.__data__;return a1e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var yC=o1e,l1e=yC;function c1e(t){var e=l1e(this,t).delete(t);return this.size-=e?1:0,e}var u1e=c1e,d1e=yC;function h1e(t){return d1e(this,t).get(t)}var f1e=h1e,p1e=yC;function m1e(t){return p1e(this,t).has(t)}var g1e=m1e,v1e=yC;function y1e(t,e){var r=v1e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var x1e=y1e,b1e=n1e,w1e=u1e,_1e=f1e,S1e=g1e,j1e=x1e;function ly(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ly.prototype.clear=b1e;ly.prototype.delete=w1e;ly.prototype.get=_1e;ly.prototype.has=S1e;ly.prototype.set=j1e;var eI=ly,nY=eI,A1e="Expected a function";function tI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(A1e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(tI.Cache||nY),r}tI.Cache=nY;var iY=tI;const E1e=Ft(iY);var C1e=iY,N1e=500;function P1e(t){var e=C1e(t,function(n){return r.size===N1e&&r.clear(),n}),r=e.cache;return e}var T1e=P1e,k1e=T1e,O1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M1e=/\\(\\)?/g,D1e=k1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(O1e,function(r,n,i,s){e.push(i?s.replace(M1e,"$1"):n||r)}),e}),R1e=D1e;function I1e(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var rI=I1e,h3=o_,$1e=rI,L1e=Yi,F1e=iy,f3=h3?h3.prototype:void 0,p3=f3?f3.toString:void 0;function sY(t){if(typeof t=="string")return t;if(L1e(t))return $1e(t,sY)+"";if(F1e(t))return p3?p3.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var z1e=sY,B1e=z1e;function U1e(t){return t==null?"":B1e(t)}var aY=U1e,H1e=Yi,W1e=XR,V1e=R1e,q1e=aY;function G1e(t,e){return H1e(t)?t:W1e(t,e)?[t]:V1e(q1e(t))}var oY=G1e,K1e=iy;function Y1e(t){if(typeof t=="string"||K1e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var xC=Y1e,X1e=oY,Z1e=xC;function Q1e(t,e){e=X1e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Z1e(e[r++])];return r&&r==n?t:void 0}var nI=Q1e,J1e=nI;function eSe(t,e,r){var n=t==null?void 0:J1e(t,e);return n===void 0?r:n}var lY=eSe;const na=Ft(lY);function tSe(t){return t==null}var rSe=tSe;const ot=Ft(rSe);var nSe=Uc,iSe=Yi,sSe=Hc,aSe="[object String]";function oSe(t){return typeof t=="string"||!iSe(t)&&sSe(t)&&nSe(t)==aSe}var lSe=oSe;const Jf=Ft(lSe);var cY={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=Symbol.for("react.element"),sI=Symbol.for("react.portal"),bC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),SC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),cSe=Symbol.for("react.server_context"),AC=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),NC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),uSe=Symbol.for("react.offscreen"),uY;uY=Symbol.for("react.module.reference");function fa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iI:switch(t=t.type,t){case bC:case _C:case wC:case EC:case CC:return t;default:switch(t=t&&t.$$typeof,t){case cSe:case jC:case AC:case PC:case NC:case SC:return t;default:return e}}case sI:return e}}}Ot.ContextConsumer=jC;Ot.ContextProvider=SC;Ot.Element=iI;Ot.ForwardRef=AC;Ot.Fragment=bC;Ot.Lazy=PC;Ot.Memo=NC;Ot.Portal=sI;Ot.Profiler=_C;Ot.StrictMode=wC;Ot.Suspense=EC;Ot.SuspenseList=CC;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(t){return fa(t)===jC};Ot.isContextProvider=function(t){return fa(t)===SC};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iI};Ot.isForwardRef=function(t){return fa(t)===AC};Ot.isFragment=function(t){return fa(t)===bC};Ot.isLazy=function(t){return fa(t)===PC};Ot.isMemo=function(t){return fa(t)===NC};Ot.isPortal=function(t){return fa(t)===sI};Ot.isProfiler=function(t){return fa(t)===_C};Ot.isStrictMode=function(t){return fa(t)===wC};Ot.isSuspense=function(t){return fa(t)===EC};Ot.isSuspenseList=function(t){return fa(t)===CC};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bC||t===_C||t===wC||t===EC||t===CC||t===uSe||typeof t=="object"&&t!==null&&(t.$$typeof===PC||t.$$typeof===NC||t.$$typeof===SC||t.$$typeof===jC||t.$$typeof===AC||t.$$typeof===uY||t.getModuleId!==void 0)};Ot.typeOf=fa;cY.exports=Ot;var dSe=cY.exports,hSe=Uc,fSe=Hc,pSe="[object Number]";function mSe(t){return typeof t=="number"||fSe(t)&&hSe(t)==pSe}var dY=mSe;const gSe=Ft(dY);var vSe=dY;function ySe(t){return vSe(t)&&t!=+t}var xSe=ySe;const cy=Ft(xSe);var Ka=function(e){return e===0?0:e>0?1:-1},mh=function(e){return Jf(e)&&e.indexOf("%")===e.length-1},ve=function(e){return gSe(e)&&!cy(e)},bSe=function(e){return ot(e)},on=function(e){return ve(e)||Jf(e)},wSe=0,uy=function(e){var r=++wSe;return"".concat(e||"").concat(r)},ep=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Jf(e))return n;var s;if(mh(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return cy(s)&&(s=n),i&&s>r&&(s=r),s},du=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},_Se=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},In=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function Tj(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):na(n,e))===r})}var SSe=function(e,r){return ve(e)&&ve(r)?e-r:Jf(e)&&Jf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Em(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function XO(t){"@babel/helpers - typeof";return XO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XO(t)}var jSe=["viewBox","children"],ASe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],m3=["points","pathLength"],pP={svg:jSe,polygon:m3,polyline:m3},aI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kj=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!sy(n))return null;var i={};return Object.keys(n).forEach(function(s){aI.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},ESe=function(e,r,n){return function(i){return e(r,n,i),null}},Oj=function(e,r,n){if(!sy(e)||XO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];aI.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=ESe(a,r,n))}),i},CSe=["children"],NSe=["children"];function g3(t,e){if(t==null)return{};var r=PSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZO(t){"@babel/helpers - typeof";return ZO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZO(t)}var v3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},y3=null,mP=null,oI=function t(e){if(e===y3&&Array.isArray(mP))return mP;var r=[];return j.Children.forEach(e,function(n){ot(n)||(dSe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),mP=r,y3=e,r};function ia(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Sc(i)}):n=[Sc(e)],oI(t).forEach(function(i){var s=na(i,"type.displayName")||na(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function gs(t,e){var r=ia(t,e);return r&&r[0]}var x3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},TSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kSe=function(e){return e&&e.type&&Jf(e.type)&&TSe.indexOf(e.type)>=0},hY=function(e){return e&&ZO(e)==="object"&&"clipDot"in e},OSe=function(e,r,n,i){var s,a=(s=pP==null?void 0:pP[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ze(e)&&(i&&a.includes(r)||ASe.includes(r))||n&&aI.includes(r)},et=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!sy(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;OSe((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},QO=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return b3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!b3(s,a))return!1}return!0},b3=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,s=g3(n,CSe),a=r.props||{},o=a.children,c=g3(a,NSe);return i&&o?Em(s,c)&&QO(i,o):!i&&!o?Em(s,c):!1}return!1},w3=function(e,r){var n=[],i={};return oI(e).forEach(function(s,a){if(kSe(s))n.push(s);else if(s){var o=Sc(s.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var h=u(s,o,a);n.push(h),i[o]=!0}}}),n},MSe=function(e){var r=e&&e.type;return r&&v3[r]?v3[r]:null},DSe=function(e,r){return oI(r).indexOf(e)},RSe=["children","width","height","viewBox","className","style","title","desc"];function JO(){return JO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JO.apply(this,arguments)}function ISe(t,e){if(t==null)return{};var r=$Se(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function e2(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,c=t.desc,u=ISe(t,RSe),d=i||{width:r,height:n,x:0,y:0},h=mt("recharts-surface",s);return z.createElement("svg",JO({},et(u,!0,"svg"),{className:h,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,o),z.createElement("desc",null,c),e)}var LSe=["children","className"];function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t2.apply(this,arguments)}function FSe(t,e){if(t==null)return{};var r=zSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qt=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=FSe(t,LSe),s=mt("recharts-layer",n);return z.createElement("g",t2({className:s},et(i,!0),{ref:e}),r)}),jc=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function BSe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var USe=BSe,HSe=USe;function WSe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:HSe(t,e,r)}var VSe=WSe,qSe="\\ud800-\\udfff",GSe="\\u0300-\\u036f",KSe="\\ufe20-\\ufe2f",YSe="\\u20d0-\\u20ff",XSe=GSe+KSe+YSe,ZSe="\\ufe0e\\ufe0f",QSe="\\u200d",JSe=RegExp("["+QSe+qSe+XSe+ZSe+"]");function eje(t){return JSe.test(t)}var fY=eje;function tje(t){return t.split("")}var rje=tje,pY="\\ud800-\\udfff",nje="\\u0300-\\u036f",ije="\\ufe20-\\ufe2f",sje="\\u20d0-\\u20ff",aje=nje+ije+sje,oje="\\ufe0e\\ufe0f",lje="["+pY+"]",r2="["+aje+"]",n2="\\ud83c[\\udffb-\\udfff]",cje="(?:"+r2+"|"+n2+")",mY="[^"+pY+"]",gY="(?:\\ud83c[\\udde6-\\uddff]){2}",vY="[\\ud800-\\udbff][\\udc00-\\udfff]",uje="\\u200d",yY=cje+"?",xY="["+oje+"]?",dje="(?:"+uje+"(?:"+[mY,gY,vY].join("|")+")"+xY+yY+")*",hje=xY+yY+dje,fje="(?:"+[mY+r2+"?",r2,gY,vY,lje].join("|")+")",pje=RegExp(n2+"(?="+n2+")|"+fje+hje,"g");function mje(t){return t.match(pje)||[]}var gje=mje,vje=rje,yje=fY,xje=gje;function bje(t){return yje(t)?xje(t):vje(t)}var wje=bje,_je=VSe,Sje=fY,jje=wje,Aje=aY;function Eje(t){return function(e){e=Aje(e);var r=Sje(e)?jje(e):void 0,n=r?r[0]:e.charAt(0),i=r?_je(r,1).join(""):e.slice(1);return n[t]()+i}}var Cje=Eje,Nje=Cje,Pje=Nje("toUpperCase"),Tje=Pje;const TC=Ft(Tje);function Ht(t){return function(){return t}}const bY=Math.cos,Mj=Math.sin,oo=Math.sqrt,Dj=Math.PI,kC=2*Dj,i2=Math.PI,s2=2*i2,nh=1e-6,kje=s2-nh;function wY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Oje(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wY;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Mje{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wY:Oje(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=n-e,u=i-r,d=a-e,h=o-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>nh)if(!(Math.abs(h*c-u*d)>nh)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,v=i-o,g=c*c+u*u,x=p*p+v*v,y=Math.sqrt(g),b=Math.sqrt(f),w=s*Math.tan((i2-Math.acos((g+f-x)/(2*y*b)))/2),S=w/b,_=w/y;Math.abs(S-1)>nh&&this._append`L${e+S*d},${r+S*h}`,this._append`A${s},${s},0,0,${+(h*p>d*v)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>nh||Math.abs(this._y1-d)>nh)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%s2+s2),f>kje?this._append`A${n},${n},0,1,${h},${e-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>nh&&this._append`A${n},${n},0,${+(f>=i2)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function lI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Mje(e)}function cI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _Y(t){this._context=t}_Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function OC(t){return new _Y(t)}function SY(t){return t[0]}function jY(t){return t[1]}function AY(t,e){var r=Ht(!0),n=null,i=OC,s=null,a=lI(o);t=typeof t=="function"?t:t===void 0?SY:Ht(t),e=typeof e=="function"?e:e===void 0?jY:Ht(e);function o(c){var u,d=(c=cI(c)).length,h,f=!1,p;for(n==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,c),+e(h,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ht(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),o):n},o}function c1(t,e,r){var n=null,i=Ht(!0),s=null,a=OC,o=null,c=lI(u);t=typeof t=="function"?t:t===void 0?SY:Ht(+t),e=typeof e=="function"?e:Ht(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jY:Ht(+r);function u(h){var f,p,v,g=(h=cI(h)).length,x,y=!1,b,w=new Array(g),S=new Array(g);for(s==null&&(o=a(b=c())),f=0;f<=g;++f){if(!(f<g&&i(x=h[f],f,h))===y)if(y=!y)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=f-1;v>=p;--v)o.point(w[v],S[v]);o.lineEnd(),o.areaEnd()}y&&(w[f]=+t(x,f,h),S[f]=+e(x,f,h),o.point(n?+n(x,f,h):w[f],r?+r(x,f,h):S[f]))}if(b)return o=null,b+""||null}function d(){return AY().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ht(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ht(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ht(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ht(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ht(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ht(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ht(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class EY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Dje(t){return new EY(t,!0)}function Rje(t){return new EY(t,!1)}const uI={draw(t,e){const r=oo(e/Dj);t.moveTo(r,0),t.arc(0,0,r,0,kC)}},Ije={draw(t,e){const r=oo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},CY=oo(1/3),$je=CY*2,Lje={draw(t,e){const r=oo(e/$je),n=r*CY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Fje={draw(t,e){const r=oo(e),n=-r/2;t.rect(n,n,r,r)}},zje=.8908130915292852,NY=Mj(Dj/10)/Mj(7*Dj/10),Bje=Mj(kC/10)*NY,Uje=-bY(kC/10)*NY,Hje={draw(t,e){const r=oo(e*zje),n=Bje*r,i=Uje*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=kC*s/5,o=bY(a),c=Mj(a);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},gP=oo(3),Wje={draw(t,e){const r=-oo(e/(gP*3));t.moveTo(0,r*2),t.lineTo(-gP*r,-r),t.lineTo(gP*r,-r),t.closePath()}},Ds=-.5,Rs=oo(3)/2,a2=1/oo(12),Vje=(a2/2+1)*3,qje={draw(t,e){const r=oo(e/Vje),n=r/2,i=r*a2,s=n,a=r*a2+r,o=-s,c=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(Ds*n-Rs*i,Rs*n+Ds*i),t.lineTo(Ds*s-Rs*a,Rs*s+Ds*a),t.lineTo(Ds*o-Rs*c,Rs*o+Ds*c),t.lineTo(Ds*n+Rs*i,Ds*i-Rs*n),t.lineTo(Ds*s+Rs*a,Ds*a-Rs*s),t.lineTo(Ds*o+Rs*c,Ds*c-Rs*o),t.closePath()}};function Gje(t,e){let r=null,n=lI(i);t=typeof t=="function"?t:Ht(t||uI),e=typeof e=="function"?e:Ht(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ht(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Rj(){}function Ij(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function PY(t){this._context=t}PY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ij(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ij(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kje(t){return new PY(t)}function TY(t){this._context=t}TY.prototype={areaStart:Rj,areaEnd:Rj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ij(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yje(t){return new TY(t)}function kY(t){this._context=t}kY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ij(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xje(t){return new kY(t)}function OY(t){this._context=t}OY.prototype={areaStart:Rj,areaEnd:Rj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Zje(t){return new OY(t)}function _3(t){return t<0?-1:1}function S3(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(_3(s)+_3(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function j3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function vP(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function $j(t){this._context=t}$j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vP(this,this._t0,j3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vP(this,j3(this,r=S3(this,t,e)),r);break;default:vP(this,this._t0,r=S3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function MY(t){this._context=new DY(t)}(MY.prototype=Object.create($j.prototype)).point=function(t,e){$j.prototype.point.call(this,e,t)};function DY(t){this._context=t}DY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Qje(t){return new $j(t)}function Jje(t){return new MY(t)}function RY(t){this._context=t}RY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=A3(t),i=A3(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function A3(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function eAe(t){return new RY(t)}function MC(t,e){this._context=t,this._t=e}MC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function tAe(t){return new MC(t,.5)}function rAe(t){return new MC(t,0)}function nAe(t){return new MC(t,1)}function yv(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function o2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function iAe(t,e){return t[e]}function sAe(t){const e=[];return e.key=t,e}function aAe(){var t=Ht([]),e=o2,r=yv,n=iAe;function i(s){var a=Array.from(t.apply(this,arguments),sAe),o,c=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+n(h,a[o].key,u,s)]).data=h;for(o=0,d=cI(e(a));o<c;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ht(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?o2:typeof s=="function"?s:Ht(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??yv,i):r},i}function oAe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}yv(t,e)}}function lAe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}yv(t,e)}}function cAe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,c=0,u=0;o<a;++o){for(var d=t[e[o]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,v=0;v<o;++v){var g=t[e[v]],x=g[n][1]||0,y=g[n-1][1]||0;p+=x-y}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,yv(t,e)}}function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}var uAe=["type","size","sizeType"];function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l2.apply(this,arguments)}function E3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(r),!0).forEach(function(n){dAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dAe(t,e,r){return e=hAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hAe(t){var e=fAe(t,"string");return jb(e)=="symbol"?e:e+""}function fAe(t,e){if(jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pAe(t,e){if(t==null)return{};var r=mAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var IY={symbolCircle:uI,symbolCross:Ije,symbolDiamond:Lje,symbolSquare:Fje,symbolStar:Hje,symbolTriangle:Wje,symbolWye:qje},gAe=Math.PI/180,vAe=function(e){var r="symbol".concat(TC(e));return IY[r]||uI},yAe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*gAe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xAe=function(e,r){IY["symbol".concat(TC(e))]=r},dI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,c=pAe(e,uAe),u=C3(C3({},c),{},{type:n,size:s,sizeType:o}),d=function(){var x=vAe(n),y=Gje().type(x).size(yAe(s,o,n));return y()},h=u.className,f=u.cx,p=u.cy,v=et(u,!0);return f===+f&&p===+p&&s===+s?z.createElement("path",l2({},v,{className:mt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};dI.registerSymbol=xAe;function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c2.apply(this,arguments)}function N3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(r),!0).forEach(function(n){Ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LY(n.key),n)}}function SAe(t,e,r){return e&&_Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jAe(t,e,r){return e=Lj(e),AAe(t,$Y()?Reflect.construct(e,r||[],Lj(t).constructor):e.apply(t,r))}function AAe(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAe(t)}function EAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!t})()}function Lj(t){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lj(t)}function CAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u2(t,e)}function Ab(t,e,r){return e=LY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LY(t){var e=NAe(t,"string");return xv(e)=="symbol"?e:e+""}function NAe(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Is=32,hI=function(t){function e(){return wAe(this,e),jAe(this,e,arguments)}return CAe(e,t),SAe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Is/2,a=Is/6,o=Is/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Is,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Is,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-Is,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=bAe({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(dI,{fill:c,cx:s,cy:s,size:Is,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Is,height:Is},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var g=p.formatter||c,x=mt(Ab(Ab({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ze(p.value)?null:p.value;jc(!Ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return z.createElement("li",c2({className:x,style:h,key:"legend-item-".concat(v)},Oj(n.props,p,v)),z.createElement(e2,{width:a,height:a,viewBox:d,style:f},n.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(j.PureComponent);Ab(hI,"displayName","Legend");Ab(hI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PAe=vC;function TAe(){this.__data__=new PAe,this.size=0}var kAe=TAe;function OAe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var MAe=OAe;function DAe(t){return this.__data__.get(t)}var RAe=DAe;function IAe(t){return this.__data__.has(t)}var $Ae=IAe,LAe=vC,FAe=JR,zAe=eI,BAe=200;function UAe(t,e){var r=this.__data__;if(r instanceof LAe){var n=r.__data__;if(!FAe||n.length<BAe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new zAe(n)}return r.set(t,e),this.size=r.size,this}var HAe=UAe,WAe=vC,VAe=kAe,qAe=MAe,GAe=RAe,KAe=$Ae,YAe=HAe;function dy(t){var e=this.__data__=new WAe(t);this.size=e.size}dy.prototype.clear=VAe;dy.prototype.delete=qAe;dy.prototype.get=GAe;dy.prototype.has=KAe;dy.prototype.set=YAe;var FY=dy,XAe="__lodash_hash_undefined__";function ZAe(t){return this.__data__.set(t,XAe),this}var QAe=ZAe;function JAe(t){return this.__data__.has(t)}var eEe=JAe,tEe=eI,rEe=QAe,nEe=eEe;function Fj(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new tEe;++e<r;)this.add(t[e])}Fj.prototype.add=Fj.prototype.push=rEe;Fj.prototype.has=nEe;var zY=Fj;function iEe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var BY=iEe;function sEe(t,e){return t.has(e)}var UY=sEe,aEe=zY,oEe=BY,lEe=UY,cEe=1,uEe=2;function dEe(t,e,r,n,i,s){var a=r&cEe,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&uEe?new aEe:void 0;for(s.set(t,e),s.set(e,t);++h<o;){var v=t[h],g=e[h];if(n)var x=a?n(g,v,h,e,t,s):n(v,g,h,t,e,s);if(x!==void 0){if(x)continue;f=!1;break}if(p){if(!oEe(e,function(y,b){if(!lEe(p,b)&&(v===y||i(v,y,r,n,s)))return p.push(b)})){f=!1;break}}else if(!(v===g||i(v,g,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var HY=dEe,hEe=vl,fEe=hEe.Uint8Array,pEe=fEe;function mEe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var gEe=mEe;function vEe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var fI=vEe,P3=o_,T3=pEe,yEe=QR,xEe=HY,bEe=gEe,wEe=fI,_Ee=1,SEe=2,jEe="[object Boolean]",AEe="[object Date]",EEe="[object Error]",CEe="[object Map]",NEe="[object Number]",PEe="[object RegExp]",TEe="[object Set]",kEe="[object String]",OEe="[object Symbol]",MEe="[object ArrayBuffer]",DEe="[object DataView]",k3=P3?P3.prototype:void 0,yP=k3?k3.valueOf:void 0;function REe(t,e,r,n,i,s,a){switch(r){case DEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case MEe:return!(t.byteLength!=e.byteLength||!s(new T3(t),new T3(e)));case jEe:case AEe:case NEe:return yEe(+t,+e);case EEe:return t.name==e.name&&t.message==e.message;case PEe:case kEe:return t==e+"";case CEe:var o=bEe;case TEe:var c=n&_Ee;if(o||(o=wEe),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;n|=SEe,a.set(t,e);var d=xEe(o(t),o(e),n,i,s,a);return a.delete(t),d;case OEe:if(yP)return yP.call(t)==yP.call(e)}return!1}var IEe=REe;function $Ee(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var WY=$Ee,LEe=WY,FEe=Yi;function zEe(t,e,r){var n=e(t);return FEe(t)?n:LEe(n,r(t))}var BEe=zEe;function UEe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var HEe=UEe;function WEe(){return[]}var VEe=WEe,qEe=HEe,GEe=VEe,KEe=Object.prototype,YEe=KEe.propertyIsEnumerable,O3=Object.getOwnPropertySymbols,XEe=O3?function(t){return t==null?[]:(t=Object(t),qEe(O3(t),function(e){return YEe.call(t,e)}))}:GEe,ZEe=XEe;function QEe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var JEe=QEe,eCe=Uc,tCe=Hc,rCe="[object Arguments]";function nCe(t){return tCe(t)&&eCe(t)==rCe}var iCe=nCe,M3=iCe,sCe=Hc,VY=Object.prototype,aCe=VY.hasOwnProperty,oCe=VY.propertyIsEnumerable,lCe=M3(function(){return arguments}())?M3:function(t){return sCe(t)&&aCe.call(t,"callee")&&!oCe.call(t,"callee")},pI=lCe,zj={exports:{}};function cCe(){return!1}var uCe=cCe;zj.exports;(function(t,e){var r=vl,n=uCe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u})(zj,zj.exports);var qY=zj.exports,dCe=9007199254740991,hCe=/^(?:0|[1-9]\d*)$/;function fCe(t,e){var r=typeof t;return e=e??dCe,!!e&&(r=="number"||r!="symbol"&&hCe.test(t))&&t>-1&&t%1==0&&t<e}var mI=fCe,pCe=9007199254740991;function mCe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pCe}var gI=mCe,gCe=Uc,vCe=gI,yCe=Hc,xCe="[object Arguments]",bCe="[object Array]",wCe="[object Boolean]",_Ce="[object Date]",SCe="[object Error]",jCe="[object Function]",ACe="[object Map]",ECe="[object Number]",CCe="[object Object]",NCe="[object RegExp]",PCe="[object Set]",TCe="[object String]",kCe="[object WeakMap]",OCe="[object ArrayBuffer]",MCe="[object DataView]",DCe="[object Float32Array]",RCe="[object Float64Array]",ICe="[object Int8Array]",$Ce="[object Int16Array]",LCe="[object Int32Array]",FCe="[object Uint8Array]",zCe="[object Uint8ClampedArray]",BCe="[object Uint16Array]",UCe="[object Uint32Array]",Qt={};Qt[DCe]=Qt[RCe]=Qt[ICe]=Qt[$Ce]=Qt[LCe]=Qt[FCe]=Qt[zCe]=Qt[BCe]=Qt[UCe]=!0;Qt[xCe]=Qt[bCe]=Qt[OCe]=Qt[wCe]=Qt[MCe]=Qt[_Ce]=Qt[SCe]=Qt[jCe]=Qt[ACe]=Qt[ECe]=Qt[CCe]=Qt[NCe]=Qt[PCe]=Qt[TCe]=Qt[kCe]=!1;function HCe(t){return yCe(t)&&vCe(t.length)&&!!Qt[gCe(t)]}var WCe=HCe;function VCe(t){return function(e){return t(e)}}var GY=VCe,Bj={exports:{}};Bj.exports;(function(t,e){var r=eY,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Bj,Bj.exports);var qCe=Bj.exports,GCe=WCe,KCe=GY,D3=qCe,R3=D3&&D3.isTypedArray,YCe=R3?KCe(R3):GCe,KY=YCe,XCe=JEe,ZCe=pI,QCe=Yi,JCe=qY,eNe=mI,tNe=KY,rNe=Object.prototype,nNe=rNe.hasOwnProperty;function iNe(t,e){var r=QCe(t),n=!r&&ZCe(t),i=!r&&!n&&JCe(t),s=!r&&!n&&!i&&tNe(t),a=r||n||i||s,o=a?XCe(t.length,String):[],c=o.length;for(var u in t)(e||nNe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eNe(u,c)))&&o.push(u);return o}var sNe=iNe,aNe=Object.prototype;function oNe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||aNe;return t===r}var lNe=oNe;function cNe(t,e){return function(r){return t(e(r))}}var YY=cNe,uNe=YY,dNe=uNe(Object.keys,Object),hNe=dNe,fNe=lNe,pNe=hNe,mNe=Object.prototype,gNe=mNe.hasOwnProperty;function vNe(t){if(!fNe(t))return pNe(t);var e=[];for(var r in Object(t))gNe.call(t,r)&&r!="constructor"&&e.push(r);return e}var yNe=vNe,xNe=ZR,bNe=gI;function wNe(t){return t!=null&&bNe(t.length)&&!xNe(t)}var l_=wNe,_Ne=sNe,SNe=yNe,jNe=l_;function ANe(t){return jNe(t)?_Ne(t):SNe(t)}var DC=ANe,ENe=BEe,CNe=ZEe,NNe=DC;function PNe(t){return ENe(t,NNe,CNe)}var TNe=PNe,I3=TNe,kNe=1,ONe=Object.prototype,MNe=ONe.hasOwnProperty;function DNe(t,e,r,n,i,s){var a=r&kNe,o=I3(t),c=o.length,u=I3(e),d=u.length;if(c!=d&&!a)return!1;for(var h=c;h--;){var f=o[h];if(!(a?f in e:MNe.call(e,f)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var g=!0;s.set(t,e),s.set(e,t);for(var x=a;++h<c;){f=o[h];var y=t[f],b=e[f];if(n)var w=a?n(b,y,f,e,t,s):n(y,b,f,t,e,s);if(!(w===void 0?y===b||i(y,b,r,n,s):w)){g=!1;break}x||(x=f=="constructor")}if(g&&!x){var S=t.constructor,_=e.constructor;S!=_&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return s.delete(t),s.delete(e),g}var RNe=DNe,INe=bp,$Ne=vl,LNe=INe($Ne,"DataView"),FNe=LNe,zNe=bp,BNe=vl,UNe=zNe(BNe,"Promise"),HNe=UNe,WNe=bp,VNe=vl,qNe=WNe(VNe,"Set"),XY=qNe,GNe=bp,KNe=vl,YNe=GNe(KNe,"WeakMap"),XNe=YNe,d2=FNe,h2=JR,f2=HNe,p2=XY,m2=XNe,ZY=Uc,hy=rY,$3="[object Map]",ZNe="[object Object]",L3="[object Promise]",F3="[object Set]",z3="[object WeakMap]",B3="[object DataView]",QNe=hy(d2),JNe=hy(h2),ePe=hy(f2),tPe=hy(p2),rPe=hy(m2),ih=ZY;(d2&&ih(new d2(new ArrayBuffer(1)))!=B3||h2&&ih(new h2)!=$3||f2&&ih(f2.resolve())!=L3||p2&&ih(new p2)!=F3||m2&&ih(new m2)!=z3)&&(ih=function(t){var e=ZY(t),r=e==ZNe?t.constructor:void 0,n=r?hy(r):"";if(n)switch(n){case QNe:return B3;case JNe:return $3;case ePe:return L3;case tPe:return F3;case rPe:return z3}return e});var nPe=ih,xP=FY,iPe=HY,sPe=IEe,aPe=RNe,U3=nPe,H3=Yi,W3=qY,oPe=KY,lPe=1,V3="[object Arguments]",q3="[object Array]",u1="[object Object]",cPe=Object.prototype,G3=cPe.hasOwnProperty;function uPe(t,e,r,n,i,s){var a=H3(t),o=H3(e),c=a?q3:U3(t),u=o?q3:U3(e);c=c==V3?u1:c,u=u==V3?u1:u;var d=c==u1,h=u==u1,f=c==u;if(f&&W3(t)){if(!W3(e))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new xP),a||oPe(t)?iPe(t,e,r,n,i,s):sPe(t,e,c,r,n,i,s);if(!(r&lPe)){var p=d&&G3.call(t,"__wrapped__"),v=h&&G3.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,x=v?e.value():e;return s||(s=new xP),i(g,x,r,n,s)}}return f?(s||(s=new xP),aPe(t,e,r,n,i,s)):!1}var dPe=uPe,hPe=dPe,K3=Hc;function QY(t,e,r,n,i){return t===e?!0:t==null||e==null||!K3(t)&&!K3(e)?t!==t&&e!==e:hPe(t,e,r,n,QY,i)}var vI=QY,fPe=FY,pPe=vI,mPe=1,gPe=2;function vPe(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var c=o[0],u=t[c],d=o[1];if(a&&o[2]){if(u===void 0&&!(c in t))return!1}else{var h=new fPe;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?pPe(d,u,mPe|gPe,n,h):f))return!1}}return!0}var yPe=vPe,xPe=zd;function bPe(t){return t===t&&!xPe(t)}var JY=bPe,wPe=JY,_Pe=DC;function SPe(t){for(var e=_Pe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,wPe(i)]}return e}var jPe=SPe;function APe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var eX=APe,EPe=yPe,CPe=jPe,NPe=eX;function PPe(t){var e=CPe(t);return e.length==1&&e[0][2]?NPe(e[0][0],e[0][1]):function(r){return r===t||EPe(r,t,e)}}var TPe=PPe;function kPe(t,e){return t!=null&&e in Object(t)}var OPe=kPe,MPe=oY,DPe=pI,RPe=Yi,IPe=mI,$Pe=gI,LPe=xC;function FPe(t,e,r){e=MPe(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=LPe(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&$Pe(i)&&IPe(a,i)&&(RPe(t)||DPe(t)))}var zPe=FPe,BPe=OPe,UPe=zPe;function HPe(t,e){return t!=null&&UPe(t,e,BPe)}var WPe=HPe,VPe=vI,qPe=lY,GPe=WPe,KPe=XR,YPe=JY,XPe=eX,ZPe=xC,QPe=1,JPe=2;function eTe(t,e){return KPe(t)&&YPe(e)?XPe(ZPe(t),e):function(r){var n=qPe(r,t);return n===void 0&&n===e?GPe(r,t):VPe(e,n,QPe|JPe)}}var tTe=eTe;function rTe(t){return t}var fy=rTe;function nTe(t){return function(e){return e==null?void 0:e[t]}}var iTe=nTe,sTe=nI;function aTe(t){return function(e){return sTe(e,t)}}var oTe=aTe,lTe=iTe,cTe=oTe,uTe=XR,dTe=xC;function hTe(t){return uTe(t)?lTe(dTe(t)):cTe(t)}var fTe=hTe,pTe=TPe,mTe=tTe,gTe=fy,vTe=Yi,yTe=fTe;function xTe(t){return typeof t=="function"?t:t==null?gTe:typeof t=="object"?vTe(t)?mTe(t[0],t[1]):pTe(t):yTe(t)}var Bd=xTe;function bTe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var tX=bTe;function wTe(t){return t!==t}var _Te=wTe;function STe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var jTe=STe,ATe=tX,ETe=_Te,CTe=jTe;function NTe(t,e,r){return e===e?CTe(t,e,r):ATe(t,ETe,r)}var PTe=NTe,TTe=PTe;function kTe(t,e){var r=t==null?0:t.length;return!!r&&TTe(t,e,0)>-1}var OTe=kTe;function MTe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var DTe=MTe;function RTe(){}var ITe=RTe,bP=XY,$Te=ITe,LTe=fI,FTe=1/0,zTe=bP&&1/LTe(new bP([,-0]))[1]==FTe?function(t){return new bP(t)}:$Te,BTe=zTe,UTe=zY,HTe=OTe,WTe=DTe,VTe=UY,qTe=BTe,GTe=fI,KTe=200;function YTe(t,e,r){var n=-1,i=HTe,s=t.length,a=!0,o=[],c=o;if(r)a=!1,i=WTe;else if(s>=KTe){var u=e?null:qTe(t);if(u)return GTe(u);a=!1,i=VTe,c=new UTe}else c=e?[]:o;e:for(;++n<s;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,a&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),o.push(d)}else i(c,h,r)||(c!==o&&c.push(h),o.push(d))}return o}var XTe=YTe,ZTe=Bd,QTe=XTe;function JTe(t,e){return t&&t.length?QTe(t,ZTe(e)):[]}var eke=JTe;const Y3=Ft(eke);function rX(t,e,r){return e===!0?Y3(t,r):Ze(e)?Y3(t,e):t}function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}var tke=["ref"];function X3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(r),!0).forEach(function(n){RC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iX(n.key),n)}}function nke(t,e,r){return e&&Z3(t.prototype,e),r&&Z3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ike(t,e,r){return e=Uj(e),ske(t,nX()?Reflect.construct(e,r||[],Uj(t).constructor):e.apply(t,r))}function ske(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ake(t)}function ake(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nX=function(){return!!t})()}function Uj(t){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uj(t)}function oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g2(t,e)}function g2(t,e){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g2(t,e)}function RC(t,e,r){return e=iX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iX(t){var e=lke(t,"string");return bv(e)=="symbol"?e:e+""}function lke(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cke(t,e){if(t==null)return{};var r=uke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dke(t){return t.value}function hke(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=cke(e,tke);return z.createElement(hI,r)}var Q3=1,Cm=function(t){function e(){var r;rke(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=ike(this,e,[].concat(i)),RC(r,"lastBoundingBox",{width:-1,height:-1}),r}return oke(e,t),nke(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Q3||Math.abs(i.height-this.lastBoundingBox.height)>Q3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_l({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _l(_l({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=_l(_l({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},hke(s,_l(_l({},this.props),{},{payload:rX(d,u,dke)})))}}],[{key:"getWithHeight",value:function(n,i){var s=_l(_l({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&ve(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);RC(Cm,"displayName","Legend");RC(Cm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var J3=o_,fke=pI,pke=Yi,e5=J3?J3.isConcatSpreadable:void 0;function mke(t){return pke(t)||fke(t)||!!(e5&&t&&t[e5])}var gke=mke,vke=WY,yke=gke;function sX(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=yke),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?sX(o,e-1,r,n,i):vke(i,o):n||(i[i.length]=o)}return i}var aX=sX;function xke(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var c=a[t?o:++i];if(r(s[c],c,s)===!1)break}return e}}var bke=xke,wke=bke,_ke=wke(),Ske=_ke,jke=Ske,Ake=DC;function Eke(t,e){return t&&jke(t,e,Ake)}var oX=Eke,Cke=l_;function Nke(t,e){return function(r,n){if(r==null)return r;if(!Cke(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var Pke=Nke,Tke=oX,kke=Pke,Oke=kke(Tke),yI=Oke,Mke=yI,Dke=l_;function Rke(t,e){var r=-1,n=Dke(t)?Array(t.length):[];return Mke(t,function(i,s,a){n[++r]=e(i,s,a)}),n}var lX=Rke;function Ike(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var $ke=Ike,t5=iy;function Lke(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=t5(t),a=e!==void 0,o=e===null,c=e===e,u=t5(e);if(!o&&!u&&!s&&t>e||s&&a&&c&&!o&&!u||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&t<e||u&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!c)return-1}return 0}var Fke=Lke,zke=Fke;function Bke(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,o=r.length;++n<a;){var c=zke(i[n],s[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Uke=Bke,wP=rI,Hke=nI,Wke=Bd,Vke=lX,qke=$ke,Gke=GY,Kke=Uke,Yke=fy,Xke=Yi;function Zke(t,e,r){e.length?e=wP(e,function(s){return Xke(s)?function(a){return Hke(a,s.length===1?s[0]:s)}:s}):e=[Yke];var n=-1;e=wP(e,Gke(Wke));var i=Vke(t,function(s,a,o){var c=wP(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return qke(i,function(s,a){return Kke(s,a,r)})}var Qke=Zke;function Jke(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var eOe=Jke,tOe=eOe,r5=Math.max;function rOe(t,e,r){return e=r5(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=r5(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),tOe(t,this,o)}}var nOe=rOe;function iOe(t){return function(){return t}}var sOe=iOe,aOe=bp,oOe=function(){try{var t=aOe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cX=oOe,lOe=sOe,n5=cX,cOe=fy,uOe=n5?function(t,e){return n5(t,"toString",{configurable:!0,enumerable:!1,value:lOe(e),writable:!0})}:cOe,dOe=uOe,hOe=800,fOe=16,pOe=Date.now;function mOe(t){var e=0,r=0;return function(){var n=pOe(),i=fOe-(n-r);if(r=n,i>0){if(++e>=hOe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gOe=mOe,vOe=dOe,yOe=gOe,xOe=yOe(vOe),bOe=xOe,wOe=fy,_Oe=nOe,SOe=bOe;function jOe(t,e){return SOe(_Oe(t,e,wOe),t+"")}var AOe=jOe,EOe=QR,COe=l_,NOe=mI,POe=zd;function TOe(t,e,r){if(!POe(r))return!1;var n=typeof e;return(n=="number"?COe(r)&&NOe(e,r.length):n=="string"&&e in r)?EOe(r[e],t):!1}var IC=TOe,kOe=aX,OOe=Qke,MOe=AOe,i5=IC,DOe=MOe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&i5(t,e[0],e[1])?e=[]:r>2&&i5(e[0],e[1],e[2])&&(e=[e[0]]),OOe(t,kOe(e,1),[])}),ROe=DOe;const xI=Ft(ROe);function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v2.apply(this,arguments)}function IOe(t,e){return zOe(t)||FOe(t,e)||LOe(t,e)||$Oe()}function $Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(t,e){if(t){if(typeof t=="string")return s5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s5(t,e)}}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function zOe(t){if(Array.isArray(t))return t}function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){BOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BOe(t,e,r){return e=UOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UOe(t){var e=HOe(t,"string");return Eb(e)=="symbol"?e:e+""}function HOe(t,e){if(Eb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WOe(t){return Array.isArray(t)&&on(t[0])&&on(t[1])?t.join(" ~ "):t}var VOe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,g=e.label,x=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var I={padding:0,margin:0},F=(f?xI(d,f):d).map(function($,B){if($.type==="none")return null;var L=_P({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),P=$.formatter||h||WOe,R=$.value,U=$.name,Y=R,J=U;if(P&&Y!=null&&J!=null){var X=P(R,U,$,B,d);if(Array.isArray(X)){var ee=IOe(X,2);Y=ee[0],J=ee[1]}else Y=X}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:L},on(J)?z.createElement("span",{className:"recharts-tooltip-item-name"},J):null,on(J)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Y),z.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},F)}return null},S=_P({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=_P({margin:0},u),A=!ot(g),E=A?g:"",N=mt("recharts-default-tooltip",p),T=mt("recharts-tooltip-label",v);A&&x&&d!==void 0&&d!==null&&(E=x(g,d));var D=b?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",v2({className:N,style:S},D),z.createElement("p",{className:T,style:_},z.isValidElement(E)?E:"".concat(E)),w())};function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function d1(t,e,r){return e=qOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qOe(t){var e=GOe(t,"string");return Cb(e)=="symbol"?e:e+""}function GOe(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ly="recharts-tooltip-wrapper",KOe={visibility:"hidden"};function YOe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return mt(Ly,d1(d1(d1(d1({},"".concat(Ly,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(Ly,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(Ly,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(Ly,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function o5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ve(s[n]))return s[n];var d=r[n]-o-i,h=r[n]+i;if(e[n])return a[n]?d:h;if(a[n]){var f=d,p=c[n];return f<p?Math.max(h,c[n]):Math.max(d,c[n])}var v=h+o,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(h,c[n])}function XOe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ZOe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,h;return a.height>0&&a.width>0&&r?(d=o5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),h=o5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=XOe({translateX:d,translateY:h,useTranslate3d:o})):u=KOe,{cssProperties:u,cssClasses:YOe({translateX:d,translateY:h,coordinate:r})}}function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){x2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dX(n.key),n)}}function e2e(t,e,r){return e&&JOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t2e(t,e,r){return e=Hj(e),r2e(t,uX()?Reflect.construct(e,r||[],Hj(t).constructor):e.apply(t,r))}function r2e(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n2e(t)}function n2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function Hj(t){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hj(t)}function i2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y2(t,e)}function y2(t,e){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y2(t,e)}function x2(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=s2e(t,"string");return wv(e)=="symbol"?e:e+""}function s2e(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u5=1,a2e=function(t){function e(){var r;QOe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=t2e(this,e,[].concat(i)),x2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),x2(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return i2e(e,t),e2e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>u5||Math.abs(n.height-this.state.lastBoundingBox.height)>u5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,v=i.position,g=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=ZOe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=w.cssClasses,_=w.cssProperties,A=c5(c5({transition:f&&s?"transform ".concat(o,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return z.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(N){n.wrapperNode=N}},u)}}])}(j.PureComponent),o2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wp={isSsr:o2e()};function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function d5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(r),!0).forEach(function(n){bI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fX(n.key),n)}}function u2e(t,e,r){return e&&c2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d2e(t,e,r){return e=Wj(e),h2e(t,hX()?Reflect.construct(e,r||[],Wj(t).constructor):e.apply(t,r))}function h2e(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f2e(t)}function f2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function Wj(t){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(t)}function p2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b2(t,e)}function bI(t,e,r){return e=fX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fX(t){var e=m2e(t,"string");return _v(e)=="symbol"?e:e+""}function m2e(t,e){if(_v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g2e(t){return t.dataKey}function v2e(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(VOe,e)}var zr=function(t){function e(){return l2e(this,e),d2e(this,e,arguments)}return p2e(e,t),u2e(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,v=i.payload,g=i.payloadUniqBy,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,_=v??[];h&&_.length&&(_=rX(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,g2e));var A=_.length>0;return z.createElement(a2e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:f,active:s,coordinate:d,hasPayload:A,offset:p,position:x,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:S},v2e(u,h5(h5({},this.props),{},{payload:_})))}}])}(j.PureComponent);bI(zr,"displayName","Tooltip");bI(zr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var y2e=vl,x2e=function(){return y2e.Date.now()},b2e=x2e,w2e=/\s/;function _2e(t){for(var e=t.length;e--&&w2e.test(t.charAt(e)););return e}var S2e=_2e,j2e=S2e,A2e=/^\s+/;function E2e(t){return t&&t.slice(0,j2e(t)+1).replace(A2e,"")}var C2e=E2e,N2e=C2e,f5=zd,P2e=iy,p5=NaN,T2e=/^[-+]0x[0-9a-f]+$/i,k2e=/^0b[01]+$/i,O2e=/^0o[0-7]+$/i,M2e=parseInt;function D2e(t){if(typeof t=="number")return t;if(P2e(t))return p5;if(f5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=f5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=N2e(t);var r=k2e.test(t);return r||O2e.test(t)?M2e(t.slice(2),r?2:8):T2e.test(t)?p5:+t}var pX=D2e,R2e=zd,SP=b2e,m5=pX,I2e="Expected a function",$2e=Math.max,L2e=Math.min;function F2e(t,e,r){var n,i,s,a,o,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(I2e);e=m5(e)||0,R2e(r)&&(d=!!r.leading,h="maxWait"in r,s=h?$2e(m5(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function p(A){var E=n,N=i;return n=i=void 0,u=A,a=t.apply(N,E),a}function v(A){return u=A,o=setTimeout(y,e),d?p(A):a}function g(A){var E=A-c,N=A-u,T=e-E;return h?L2e(T,s-N):T}function x(A){var E=A-c,N=A-u;return c===void 0||E>=e||E<0||h&&N>=s}function y(){var A=SP();if(x(A))return b(A);o=setTimeout(y,g(A))}function b(A){return o=void 0,f&&n?p(A):(n=i=void 0,a)}function w(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function S(){return o===void 0?a:b(SP())}function _(){var A=SP(),E=x(A);if(n=arguments,i=this,c=A,E){if(o===void 0)return v(c);if(h)return clearTimeout(o),o=setTimeout(y,e),p(c)}return o===void 0&&(o=setTimeout(y,e)),a}return _.cancel=w,_.flush=S,_}var z2e=F2e,B2e=z2e,U2e=zd,H2e="Expected a function";function W2e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(H2e);return U2e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),B2e(t,e,{leading:n,maxWait:e,trailing:i})}var V2e=W2e;const mX=Ft(V2e);function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function g5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(r),!0).forEach(function(n){q2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q2e(t,e,r){return e=G2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G2e(t){var e=K2e(t,"string");return Nb(e)=="symbol"?e:e+""}function K2e(t,e){if(Nb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y2e(t,e){return J2e(t)||Q2e(t,e)||Z2e(t,e)||X2e()}function X2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(t,e){if(t){if(typeof t=="string")return v5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v5(t,e)}}function v5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function J2e(t){if(Array.isArray(t))return t}var Zo=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,g=v===void 0?0:v,x=t.id,y=t.className,b=t.onResize,w=t.style,S=w===void 0?{}:w,_=j.useRef(null),A=j.useRef();A.current=b,j.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=j.useState({containerWidth:i.width,containerHeight:i.height}),N=Y2e(E,2),T=N[0],D=N[1],O=j.useCallback(function(F,$){D(function(B){var L=Math.round(F),P=Math.round($);return B.containerWidth===L&&B.containerHeight===P?B:{containerWidth:L,containerHeight:P}})},[]);j.useEffect(function(){var F=function(U){var Y,J=U[0].contentRect,X=J.width,ee=J.height;O(X,ee),(Y=A.current)===null||Y===void 0||Y.call(A,X,ee)};g>0&&(F=mX(F,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),B=_.current.getBoundingClientRect(),L=B.width,P=B.height;return O(L,P),$.observe(_.current),function(){$.disconnect()}},[O,g]);var I=j.useMemo(function(){var F=T.containerWidth,$=T.containerHeight;if(F<0||$<0)return null;jc(mh(a)||mh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),jc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=mh(a)?F:a,L=mh(c)?$:c;r&&r>0&&(B?L=B/r:L&&(B=L*r),f&&L>f&&(L=f)),jc(B>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,L,a,c,d,h,r);var P=!Array.isArray(p)&&Sc(p.type).endsWith("Chart");return z.Children.map(p,function(R){return z.isValidElement(R)?j.cloneElement(R,h1({width:B,height:L},P?{style:h1({height:"100%",width:"100%",maxHeight:L,maxWidth:B},R.props.style)}:{})):R})},[r,p,c,f,h,d,T,a]);return z.createElement("div",{id:x?"".concat(x):void 0,className:mt("recharts-responsive-container",y),style:h1(h1({},S),{},{width:a,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:_},I)}),gX=function(e){return null};gX.displayName="Cell";function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(r),!0).forEach(function(n){eMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eMe(t,e,r){return e=tMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tMe(t){var e=rMe(t,"string");return Pb(e)=="symbol"?e:e+""}function rMe(t,e){if(Pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ip={widthCache:{},cacheCount:0},nMe=2e3,iMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x5="recharts_measurement_span";function sMe(t){var e=w2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Lx=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wp.isSsr)return{width:0,height:0};var n=sMe(r),i=JSON.stringify({text:e,copyStyle:n});if(Ip.widthCache[i])return Ip.widthCache[i];try{var s=document.getElementById(x5);s||(s=document.createElement("span"),s.setAttribute("id",x5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=w2(w2({},iMe),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),c={width:o.width,height:o.height};return Ip.widthCache[i]=c,++Ip.cacheCount>nMe&&(Ip.cacheCount=0,Ip.widthCache={}),c}catch{return{width:0,height:0}}},aMe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function Vj(t,e){return uMe(t)||cMe(t,e)||lMe(t,e)||oMe()}function oMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lMe(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function uMe(t){if(Array.isArray(t))return t}function dMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fMe(n.key),n)}}function hMe(t,e,r){return e&&w5(t.prototype,e),r&&w5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fMe(t){var e=pMe(t,"string");return Tb(e)=="symbol"?e:e+""}function pMe(t,e){if(Tb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vMe=Object.keys(vX),cm="NaN";function yMe(t,e){return t*vX[e]}var f1=function(){function t(e,r){dMe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!mMe.test(r)&&(this.num=NaN,this.unit=""),vMe.includes(r)&&(this.num=yMe(e,r),this.unit="px")}return hMe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=gMe.exec(r))!==null&&n!==void 0?n:[],s=Vj(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function yX(t){if(t.includes(cm))return cm;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=_5.exec(e))!==null&&r!==void 0?r:[],i=Vj(n,4),s=i[1],a=i[2],o=i[3],c=f1.parse(s??""),u=f1.parse(o??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return cm;e=e.replace(_5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=S5.exec(e))!==null&&h!==void 0?h:[],p=Vj(f,4),v=p[1],g=p[2],x=p[3],y=f1.parse(v??""),b=f1.parse(x??""),w=g==="+"?y.add(b):y.subtract(b);if(w.isNaN())return cm;e=e.replace(S5,w.toString())}return e}var j5=/\(([^()]*)\)/;function xMe(t){for(var e=t;e.includes("(");){var r=j5.exec(e),n=Vj(r,2),i=n[1];e=e.replace(j5,yX(i))}return e}function bMe(t){var e=t.replace(/\s+/g,"");return e=xMe(e),e=yX(e),e}function wMe(t){try{return bMe(t)}catch{return cm}}function jP(t){var e=wMe(t.slice(5,-1));return e===cm?"":e}var _Me=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],SMe=["dx","dy","angle","className","breakAll"];function _2(){return _2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_2.apply(this,arguments)}function A5(t,e){if(t==null)return{};var r=jMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function E5(t,e){return NMe(t)||CMe(t,e)||EMe(t,e)||AMe()}function AMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EMe(t,e){if(t){if(typeof t=="string")return C5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C5(t,e)}}function C5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function NMe(t){if(Array.isArray(t))return t}var xX=/[ \f\n\r\t\v\u2028\u2029]+/,bX=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ot(r)||(n?s=r.toString().split(""):s=r.toString().split(xX));var a=s.map(function(c){return{word:c,width:Lx(c,i).width}}),o=n?0:Lx(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},PMe=function(e,r,n,i,s){var a=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=ve(a),h=o,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(L,P){var R=P.word,U=P.width,Y=L[L.length-1];if(Y&&(i==null||s||Y.width+U+n<Number(i)))Y.words.push(R),Y.width+=U+n;else{var J={words:[R],width:U};L.push(J)}return L},[])},p=f(r),v=function(B){return B.reduce(function(L,P){return L.width>P.width?L:P})};if(!d)return p;for(var g="…",x=function(B){var L=h.slice(0,B),P=bX({breakAll:u,style:c,children:L+g}).wordsWithComputedWidth,R=f(P),U=R.length>a||v(R).width>Number(i);return[U,R]},y=0,b=h.length-1,w=0,S;y<=b&&w<=h.length-1;){var _=Math.floor((y+b)/2),A=_-1,E=x(A),N=E5(E,2),T=N[0],D=N[1],O=x(_),I=E5(O,1),F=I[0];if(!T&&!F&&(y=_+1),T&&F&&(b=_-1),!T&&F){S=D;break}w++}return S||p},N5=function(e){var r=ot(e)?[]:e.toString().split(xX);return[{words:r}]},TMe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!wp.isSsr){var c,u,d=bX({breakAll:a,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return N5(i);return PMe({breakAll:a,children:i,maxLines:o,style:s},c,u,r,n)}return N5(i)},P5="#808080",qj=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,g=v===void 0?"end":v,x=e.fill,y=x===void 0?P5:x,b=A5(e,_Me),w=j.useMemo(function(){return TMe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),S=b.dx,_=b.dy,A=b.angle,E=b.className,N=b.breakAll,T=A5(b,SMe);if(!on(n)||!on(s))return null;var D=n+(ve(S)?S:0),O=s+(ve(_)?_:0),I;switch(g){case"start":I=jP("calc(".concat(u,")"));break;case"middle":I=jP("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:I=jP("calc(".concat(w.length-1," * -").concat(o,")"));break}var F=[];if(h){var $=w[0].width,B=b.width;F.push("scale(".concat((ve(B)?B/$:1)/$,")"))}return A&&F.push("rotate(".concat(A,", ").concat(D,", ").concat(O,")")),F.length&&(T.transform=F.join(" ")),z.createElement("text",_2({},et(T,!0),{x:D,y:O,className:mt("recharts-text",E),textAnchor:p,fill:y.includes("url")?P5:y}),w.map(function(L,P){var R=L.words.join(N?"":" ");return z.createElement("tspan",{x:D,dy:P===0?I:o,key:"".concat(R,"-").concat(P)},R)}))};function _d(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wI(t){let e,r,n;t.length!==2?(e=_d,r=(o,c)=>_d(t(o),c),n=(o,c)=>t(o)-c):(e=t===_d||t===kMe?t:OMe,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){const h=i(o,c,u,d-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:a,right:s}}function OMe(){return 0}function wX(t){return t===null?NaN:+t}function*MMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const DMe=wI(_d),c_=DMe.right;wI(wX).center;class T5 extends Map{constructor(e,r=$Me){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(k5(this,e))}has(e){return super.has(k5(this,e))}set(e,r){return super.set(RMe(this,e),r)}delete(e){return super.delete(IMe(this,e))}}function k5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function RMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function IMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $Me(t){return t!==null&&typeof t=="object"?t.valueOf():t}function LMe(t=_d){if(t===_d)return _X;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function _X(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FMe=Math.sqrt(50),zMe=Math.sqrt(10),BMe=Math.sqrt(2);function Gj(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=FMe?10:s>=zMe?5:s>=BMe?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?Gj(t,e,r*2):[o,c,u]}function S2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Gj(e,t,r):Gj(t,e,r);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function j2(t,e,r){return e=+e,t=+t,r=+r,Gj(t,e,r)[2]}function A2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?j2(e,t,r):j2(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function O5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function M5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SX(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?_X:LMe(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+f)),v=Math.min(n,Math.floor(e+(c-u)*h/c+f));SX(t,e,p,v,i)}const s=t[e];let a=r,o=n;for(Fy(t,r,e),i(t[n],s)>0&&Fy(t,r,n);a<o;){for(Fy(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Fy(t,r,o):(++o,Fy(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Fy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function UMe(t,e,r){if(t=Float64Array.from(MMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return M5(t);if(e>=1)return O5(t);var n,i=(n-1)*e,s=Math.floor(i),a=O5(SX(t,s).subarray(0,s+1)),o=M5(t.subarray(s+1));return a+(o-a)*(i-s)}}function HMe(t,e,r=wX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function WMe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function pa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const E2=Symbol("implicit");function _I(){var t=new T5,e=[],r=[],n=E2;function i(s){let a=t.get(s);if(a===void 0){if(n!==E2)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new T5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return _I(e,r).unknown(n)},pa.apply(i,arguments),i}function kb(){var t=_I().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,v=p?i:n,g=p?n:i;s=(g-v)/Math.max(1,f-c+u*2),o&&(s=Math.floor(s)),v+=(g-v-s*(f-c))*d,a=s*(1-c),o&&(v=Math.round(v),a=Math.round(a));var x=WMe(f).map(function(y){return v+s*y});return r(p?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return kb(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},pa.apply(h(),arguments)}function jX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jX(e())},t}function Fx(){return jX(kb.apply(null,arguments).paddingInner(1))}function SI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function AX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function u_(){}var Ob=.7,Kj=1/Ob,Nm="\\s*([+-]?\\d+)\\s*",Mb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VMe=/^#([0-9a-f]{3,8})$/,qMe=new RegExp(`^rgb\\(${Nm},${Nm},${Nm}\\)$`),GMe=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),KMe=new RegExp(`^rgba\\(${Nm},${Nm},${Nm},${Mb}\\)$`),YMe=new RegExp(`^rgba\\(${il},${il},${il},${Mb}\\)$`),XMe=new RegExp(`^hsl\\(${Mb},${il},${il}\\)$`),ZMe=new RegExp(`^hsla\\(${Mb},${il},${il},${Mb}\\)$`),D5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SI(u_,Db,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:R5,formatHex:R5,formatHex8:QMe,formatHsl:JMe,formatRgb:I5,toString:I5});function R5(){return this.rgb().formatHex()}function QMe(){return this.rgb().formatHex8()}function JMe(){return EX(this).formatHsl()}function I5(){return this.rgb().formatRgb()}function Db(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=VMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?$5(e):r===3?new Wi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?p1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?p1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qMe.exec(t))?new Wi(e[1],e[2],e[3],1):(e=GMe.exec(t))?new Wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KMe.exec(t))?p1(e[1],e[2],e[3],e[4]):(e=YMe.exec(t))?p1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XMe.exec(t))?z5(e[1],e[2]/100,e[3]/100,1):(e=ZMe.exec(t))?z5(e[1],e[2]/100,e[3]/100,e[4]):D5.hasOwnProperty(t)?$5(D5[t]):t==="transparent"?new Wi(NaN,NaN,NaN,0):null}function $5(t){return new Wi(t>>16&255,t>>8&255,t&255,1)}function p1(t,e,r,n){return n<=0&&(t=e=r=NaN),new Wi(t,e,r,n)}function eDe(t){return t instanceof u_||(t=Db(t)),t?(t=t.rgb(),new Wi(t.r,t.g,t.b,t.opacity)):new Wi}function C2(t,e,r,n){return arguments.length===1?eDe(t):new Wi(t,e,r,n??1)}function Wi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}SI(Wi,C2,AX(u_,{brighter(t){return t=t==null?Kj:Math.pow(Kj,t),new Wi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ob:Math.pow(Ob,t),new Wi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wi(Rf(this.r),Rf(this.g),Rf(this.b),Yj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L5,formatHex:L5,formatHex8:tDe,formatRgb:F5,toString:F5}));function L5(){return`#${gh(this.r)}${gh(this.g)}${gh(this.b)}`}function tDe(){return`#${gh(this.r)}${gh(this.g)}${gh(this.b)}${gh((isNaN(this.opacity)?1:this.opacity)*255)}`}function F5(){const t=Yj(this.opacity);return`${t===1?"rgb(":"rgba("}${Rf(this.r)}, ${Rf(this.g)}, ${Rf(this.b)}${t===1?")":`, ${t})`}`}function Yj(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gh(t){return t=Rf(t),(t<16?"0":"")+t.toString(16)}function z5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ga(t,e,r,n)}function EX(t){if(t instanceof Ga)return new Ga(t.h,t.s,t.l,t.opacity);if(t instanceof u_||(t=Db(t)),!t)return new Ga;if(t instanceof Ga)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Ga(a,o,c,t.opacity)}function rDe(t,e,r,n){return arguments.length===1?EX(t):new Ga(t,e,r,n??1)}function Ga(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}SI(Ga,rDe,AX(u_,{brighter(t){return t=t==null?Kj:Math.pow(Kj,t),new Ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ob:Math.pow(Ob,t),new Ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Wi(AP(t>=240?t-240:t+120,i,n),AP(t,i,n),AP(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ga(B5(this.h),m1(this.s),m1(this.l),Yj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yj(this.opacity);return`${t===1?"hsl(":"hsla("}${B5(this.h)}, ${m1(this.s)*100}%, ${m1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function B5(t){return t=(t||0)%360,t<0?t+360:t}function m1(t){return Math.max(0,Math.min(1,t||0))}function AP(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const jI=t=>()=>t;function nDe(t,e){return function(r){return t+r*e}}function iDe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function sDe(t){return(t=+t)==1?CX:function(e,r){return r-e?iDe(e,r,t):jI(isNaN(e)?r:e)}}function CX(t,e){var r=e-t;return r?nDe(t,r):jI(isNaN(t)?e:t)}const U5=function t(e){var r=sDe(e);function n(i,s){var a=r((i=C2(i)).r,(s=C2(s)).r),o=r(i.g,s.g),c=r(i.b,s.b),u=CX(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function aDe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function oDe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lDe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=py(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function cDe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Xj(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function uDe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=py(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var N2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EP=new RegExp(N2.source,"g");function dDe(t){return function(){return t}}function hDe(t){return function(e){return t(e)+""}}function fDe(t,e){var r=N2.lastIndex=EP.lastIndex=0,n,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(n=N2.exec(t))&&(i=EP.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:Xj(n,i)})),r=EP.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?hDe(c[0].x):dDe(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function py(t,e){var r=typeof e,n;return e==null||r==="boolean"?jI(e):(r==="number"?Xj:r==="string"?(n=Db(e))?(e=n,U5):fDe:e instanceof Db?U5:e instanceof Date?cDe:oDe(e)?aDe:Array.isArray(e)?lDe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uDe:Xj)(t,e)}function AI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function pDe(t,e){e===void 0&&(e=t,t=py);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function mDe(t){return function(){return t}}function Zj(t){return+t}var H5=[0,1];function xi(t){return t}function P2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mDe(isNaN(e)?NaN:.5)}function gDe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vDe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=P2(i,n),s=r(a,s)):(n=P2(n,i),s=r(s,a)),function(o){return s(n(o))}}function yDe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=P2(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var c=c_(t,o,1,n)-1;return s[c](i[c](o))}}function d_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $C(){var t=H5,e=H5,r=py,n,i,s,a=xi,o,c,u;function d(){var f=Math.min(t.length,e.length);return a!==xi&&(a=gDe(t[0],t[f-1])),o=f>2?yDe:vDe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(c||(c=o(t.map(n),e,r)))(n(a(f)))}return h.invert=function(f){return a(i((u||(u=o(e,t.map(n),Xj)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Zj),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=AI,d()},h.clamp=function(f){return arguments.length?(a=f?!0:xi,d()):a!==xi},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return n=f,i=p,d()}}function EI(){return $C()(xi,xi)}function xDe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qj(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Sv(t){return t=Qj(Math.abs(t)),t?t[1]:NaN}function bDe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function wDe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _De=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rb(t){if(!(e=_De.exec(t)))throw new Error("invalid format: "+t);var e;return new CI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rb.prototype=CI.prototype;function CI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}CI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SDe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var NX;function jDe(t,e){var r=Qj(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(NX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qj(t,Math.max(0,e+s-1))[0]}function W5(t,e){var r=Qj(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const V5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xDe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>W5(t*100,e),r:W5,s:jDe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function q5(t){return t}var G5=Array.prototype.map,K5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ADe(t){var e=t.grouping===void 0||t.thousands===void 0?q5:bDe(G5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?q5:wDe(G5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Rb(h);var f=h.fill,p=h.align,v=h.sign,g=h.symbol,x=h.zero,y=h.width,b=h.comma,w=h.precision,S=h.trim,_=h.type;_==="n"?(b=!0,_="g"):V5[_]||(w===void 0&&(w=12),S=!0,_="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=g==="$"?n:/[%p]/.test(_)?a:"",N=V5[_],T=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(O){var I=A,F=E,$,B,L;if(_==="c")F=N(O)+F,O="";else{O=+O;var P=O<0||1/O<0;if(O=isNaN(O)?c:N(Math.abs(O),w),S&&(O=SDe(O)),P&&+O==0&&v!=="+"&&(P=!1),I=(P?v==="("?v:o:v==="-"||v==="("?"":v)+I,F=(_==="s"?K5[8+NX/3]:"")+F+(P&&v==="("?")":""),T){for($=-1,B=O.length;++$<B;)if(L=O.charCodeAt($),48>L||L>57){F=(L===46?i+O.slice($+1):O.slice($))+F,O=O.slice(0,$);break}}}b&&!x&&(O=e(O,1/0));var R=I.length+O.length+F.length,U=R<y?new Array(y-R+1).join(f):"";switch(b&&x&&(O=e(U+O,U.length?y-F.length:1/0),U=""),p){case"<":O=I+O+F+U;break;case"=":O=I+U+O+F;break;case"^":O=U.slice(0,R=U.length>>1)+I+O+F+U.slice(R);break;default:O=U+I+O+F;break}return s(O)}return D.toString=function(){return h+""},D}function d(h,f){var p=u((h=Rb(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Sv(f)/3)))*3,g=Math.pow(10,-v),x=K5[8+v/3];return function(y){return p(g*y)+x}}return{format:u,formatPrefix:d}}var g1,NI,PX;EDe({thousands:",",grouping:[3],currency:["$",""]});function EDe(t){return g1=ADe(t),NI=g1.format,PX=g1.formatPrefix,g1}function CDe(t){return Math.max(0,-Sv(Math.abs(t)))}function NDe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sv(e)/3)))*3-Sv(Math.abs(t)))}function PDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sv(e)-Sv(t))+1}function TX(t,e,r,n){var i=A2(t,e,r),s;switch(n=Rb(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=NDe(i,a))&&(n.precision=s),PX(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=PDe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=CDe(i))&&(n.precision=s-(n.type==="%")*2);break}}return NI(n)}function Ud(t){var e=t.domain;return t.ticks=function(r){var n=e();return S2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return TX(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=j2(a,o,r),u===c)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function Jj(){var t=EI();return t.copy=function(){return d_(t,Jj())},pa.apply(t,arguments),Ud(t)}function kX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Zj),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return kX(t).unknown(e)},t=arguments.length?Array.from(t,Zj):[0,1],Ud(r)}function OX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function Y5(t){return Math.log(t)}function X5(t){return Math.exp(t)}function TDe(t){return-Math.log(-t)}function kDe(t){return-Math.exp(-t)}function ODe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function MDe(t){return t===10?ODe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function DDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Z5(t){return(e,r)=>-t(-e,r)}function PI(t){const e=t(Y5,X5),r=e.domain;let n=10,i,s;function a(){return i=DDe(n),s=MDe(n),r()[0]<0?(i=Z5(i),s=Z5(s),t(TDe,kDe)):t(Y5,X5),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),v,g;const x=o==null?10:+o;let y=[];if(!(n%1)&&p-f<x){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<n;++v)if(g=f<0?v/s(-f):v*s(f),!(g<u)){if(g>d)break;y.push(g)}}else for(;f<=p;++f)for(v=n-1;v>=1;--v)if(g=f>0?v/s(-f):v*s(f),!(g<u)){if(g>d)break;y.push(g)}y.length*2<x&&(y=S2(u,d,x))}else y=S2(f,p,Math.min(p-f,x)).map(s);return h?y.reverse():y},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rb(c)).precision==null&&(c.trim=!0),c=NI(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(OX(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function MX(){const t=PI($C()).domain([1,10]);return t.copy=()=>d_(t,MX()).base(t.base()),pa.apply(t,arguments),t}function Q5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function J5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TI(t){var e=1,r=t(Q5(e),J5(e));return r.constant=function(n){return arguments.length?t(Q5(e=+n),J5(e)):e},Ud(r)}function DX(){var t=TI($C());return t.copy=function(){return d_(t,DX()).constant(t.constant())},pa.apply(t,arguments)}function ez(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function RDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function IDe(t){return t<0?-t*t:t*t}function kI(t){var e=t(xi,xi),r=1;function n(){return r===1?t(xi,xi):r===.5?t(RDe,IDe):t(ez(r),ez(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ud(e)}function OI(){var t=kI($C());return t.copy=function(){return d_(t,OI()).exponent(t.exponent())},pa.apply(t,arguments),t}function $De(){return OI.apply(null,arguments).exponent(.5)}function tz(t){return Math.sign(t)*t*t}function LDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RX(){var t=EI(),e=[0,1],r=!1,n;function i(s){var a=LDe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(tz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Zj)).map(tz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return RX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},pa.apply(i,arguments),Ud(i)}function IX(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=HMe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[c_(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(_d),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return IX().domain(t).range(e).unknown(n)},pa.apply(s,arguments)}function $X(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[c_(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return $X().domain([t,e]).range(i).unknown(s)},pa.apply(Ud(a),arguments)}function LX(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[c_(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return LX().domain(t).range(e).unknown(r)},pa.apply(i,arguments)}const CP=new Date,NP=new Date;function hn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return c},i.filter=s=>hn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(CP.setTime(+s),NP.setTime(+a),t(CP),t(NP),Math.floor(r(CP,NP))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const eA=hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);eA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):eA);eA.range;const xc=1e3,Zs=xc*60,bc=Zs*60,$c=bc*24,MI=$c*7,rz=$c*30,PP=$c*365,vh=hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xc)},(t,e)=>(e-t)/xc,t=>t.getUTCSeconds());vh.range;const DI=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xc)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getMinutes());DI.range;const RI=hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getUTCMinutes());RI.range;const II=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xc-t.getMinutes()*Zs)},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getHours());II.range;const $I=hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getUTCHours());$I.range;const h_=hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zs)/$c,t=>t.getDate()-1);h_.range;const LC=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$c,t=>t.getUTCDate()-1);LC.range;const FX=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$c,t=>Math.floor(t/$c));FX.range;function _p(t){return hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Zs)/MI)}const FC=_p(0),tA=_p(1),FDe=_p(2),zDe=_p(3),jv=_p(4),BDe=_p(5),UDe=_p(6);FC.range;tA.range;FDe.range;zDe.range;jv.range;BDe.range;UDe.range;function Sp(t){return hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/MI)}const zC=Sp(0),rA=Sp(1),HDe=Sp(2),WDe=Sp(3),Av=Sp(4),VDe=Sp(5),qDe=Sp(6);zC.range;rA.range;HDe.range;WDe.range;Av.range;VDe.range;qDe.range;const LI=hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LI.range;const FI=hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FI.range;const Lc=hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Lc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Lc.range;const Fc=hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Fc.range;function zX(t,e,r,n,i,s){const a=[[vh,1,xc],[vh,5,5*xc],[vh,15,15*xc],[vh,30,30*xc],[s,1,Zs],[s,5,5*Zs],[s,15,15*Zs],[s,30,30*Zs],[i,1,bc],[i,3,3*bc],[i,6,6*bc],[i,12,12*bc],[n,1,$c],[n,2,2*$c],[r,1,MI],[e,1,rz],[e,3,3*rz],[t,1,PP]];function o(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),v=p?p.range(u,+d+1):[];return f?v.reverse():v}function c(u,d,h){const f=Math.abs(d-u)/h,p=wI(([,,x])=>x).right(a,f);if(p===a.length)return t.every(A2(u/PP,d/PP,h));if(p===0)return eA.every(Math.max(A2(u,d,h),1));const[v,g]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return v.every(g)}return[o,c]}const[GDe,KDe]=zX(Fc,FI,zC,FX,$I,RI),[YDe,XDe]=zX(Lc,LI,FC,h_,II,DI);function TP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ZDe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=By(i),d=Uy(i),h=By(s),f=Uy(s),p=By(a),v=Uy(a),g=By(o),x=Uy(o),y=By(c),b=Uy(c),w={a:P,A:R,b:U,B:Y,c:null,d:lz,e:lz,f:bRe,g:TRe,G:ORe,H:vRe,I:yRe,j:xRe,L:BX,m:wRe,M:_Re,p:J,q:X,Q:dz,s:hz,S:SRe,u:jRe,U:ARe,V:ERe,w:CRe,W:NRe,x:null,X:null,y:PRe,Y:kRe,Z:MRe,"%":uz},S={a:ee,A:ue,b:we,B:je,c:null,d:cz,e:cz,f:$Re,g:GRe,G:YRe,H:DRe,I:RRe,j:IRe,L:HX,m:LRe,M:FRe,p:V,q:H,Q:dz,s:hz,S:zRe,u:BRe,U:URe,V:HRe,w:WRe,W:VRe,x:null,X:null,y:qRe,Y:KRe,Z:XRe,"%":uz},_={a:D,A:O,b:I,B:F,c:$,d:az,e:az,f:fRe,g:sz,G:iz,H:oz,I:oz,j:cRe,L:hRe,m:lRe,M:uRe,p:T,q:oRe,Q:mRe,s:gRe,S:dRe,u:rRe,U:nRe,V:iRe,w:tRe,W:sRe,x:B,X:L,y:sz,Y:iz,Z:aRe,"%":pRe};w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),S.x=A(r,S),S.X=A(n,S),S.c=A(e,S);function A(Q,ie){return function(ae){var W=[],me=-1,Ae=0,Oe=Q.length,Fe,rt,kr;for(ae instanceof Date||(ae=new Date(+ae));++me<Oe;)Q.charCodeAt(me)===37&&(W.push(Q.slice(Ae,me)),(rt=nz[Fe=Q.charAt(++me)])!=null?Fe=Q.charAt(++me):rt=Fe==="e"?" ":"0",(kr=ie[Fe])&&(Fe=kr(ae,rt)),W.push(Fe),Ae=me+1);return W.push(Q.slice(Ae,me)),W.join("")}}function E(Q,ie){return function(ae){var W=zy(1900,void 0,1),me=N(W,Q,ae+="",0),Ae,Oe;if(me!=ae.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ie&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ae=kP(zy(W.y,0,1)),Oe=Ae.getUTCDay(),Ae=Oe>4||Oe===0?rA.ceil(Ae):rA(Ae),Ae=LC.offset(Ae,(W.V-1)*7),W.y=Ae.getUTCFullYear(),W.m=Ae.getUTCMonth(),W.d=Ae.getUTCDate()+(W.w+6)%7):(Ae=TP(zy(W.y,0,1)),Oe=Ae.getDay(),Ae=Oe>4||Oe===0?tA.ceil(Ae):tA(Ae),Ae=h_.offset(Ae,(W.V-1)*7),W.y=Ae.getFullYear(),W.m=Ae.getMonth(),W.d=Ae.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Oe="Z"in W?kP(zy(W.y,0,1)).getUTCDay():TP(zy(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Oe+5)%7:W.w+W.U*7-(Oe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,kP(W)):TP(W)}}function N(Q,ie,ae,W){for(var me=0,Ae=ie.length,Oe=ae.length,Fe,rt;me<Ae;){if(W>=Oe)return-1;if(Fe=ie.charCodeAt(me++),Fe===37){if(Fe=ie.charAt(me++),rt=_[Fe in nz?ie.charAt(me++):Fe],!rt||(W=rt(Q,ae,W))<0)return-1}else if(Fe!=ae.charCodeAt(W++))return-1}return W}function T(Q,ie,ae){var W=u.exec(ie.slice(ae));return W?(Q.p=d.get(W[0].toLowerCase()),ae+W[0].length):-1}function D(Q,ie,ae){var W=p.exec(ie.slice(ae));return W?(Q.w=v.get(W[0].toLowerCase()),ae+W[0].length):-1}function O(Q,ie,ae){var W=h.exec(ie.slice(ae));return W?(Q.w=f.get(W[0].toLowerCase()),ae+W[0].length):-1}function I(Q,ie,ae){var W=y.exec(ie.slice(ae));return W?(Q.m=b.get(W[0].toLowerCase()),ae+W[0].length):-1}function F(Q,ie,ae){var W=g.exec(ie.slice(ae));return W?(Q.m=x.get(W[0].toLowerCase()),ae+W[0].length):-1}function $(Q,ie,ae){return N(Q,e,ie,ae)}function B(Q,ie,ae){return N(Q,r,ie,ae)}function L(Q,ie,ae){return N(Q,n,ie,ae)}function P(Q){return a[Q.getDay()]}function R(Q){return s[Q.getDay()]}function U(Q){return c[Q.getMonth()]}function Y(Q){return o[Q.getMonth()]}function J(Q){return i[+(Q.getHours()>=12)]}function X(Q){return 1+~~(Q.getMonth()/3)}function ee(Q){return a[Q.getUTCDay()]}function ue(Q){return s[Q.getUTCDay()]}function we(Q){return c[Q.getUTCMonth()]}function je(Q){return o[Q.getUTCMonth()]}function V(Q){return i[+(Q.getUTCHours()>=12)]}function H(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ie=A(Q+="",w);return ie.toString=function(){return Q},ie},parse:function(Q){var ie=E(Q+="",!1);return ie.toString=function(){return Q},ie},utcFormat:function(Q){var ie=A(Q+="",S);return ie.toString=function(){return Q},ie},utcParse:function(Q){var ie=E(Q+="",!0);return ie.toString=function(){return Q},ie}}}var nz={"-":"",_:" ",0:"0"},An=/^\s*\d+/,QDe=/^%/,JDe=/[\\^$*+?|[\]().{}]/g;function jt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function eRe(t){return t.replace(JDe,"\\$&")}function By(t){return new RegExp("^(?:"+t.map(eRe).join("|")+")","i")}function Uy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tRe(t,e,r){var n=An.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rRe(t,e,r){var n=An.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nRe(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iRe(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function sRe(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function iz(t,e,r){var n=An.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function sz(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aRe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oRe(t,e,r){var n=An.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lRe(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function az(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cRe(t,e,r){var n=An.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function oz(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uRe(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dRe(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function hRe(t,e,r){var n=An.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function fRe(t,e,r){var n=An.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pRe(t,e,r){var n=QDe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function mRe(t,e,r){var n=An.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gRe(t,e,r){var n=An.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function lz(t,e){return jt(t.getDate(),e,2)}function vRe(t,e){return jt(t.getHours(),e,2)}function yRe(t,e){return jt(t.getHours()%12||12,e,2)}function xRe(t,e){return jt(1+h_.count(Lc(t),t),e,3)}function BX(t,e){return jt(t.getMilliseconds(),e,3)}function bRe(t,e){return BX(t,e)+"000"}function wRe(t,e){return jt(t.getMonth()+1,e,2)}function _Re(t,e){return jt(t.getMinutes(),e,2)}function SRe(t,e){return jt(t.getSeconds(),e,2)}function jRe(t){var e=t.getDay();return e===0?7:e}function ARe(t,e){return jt(FC.count(Lc(t)-1,t),e,2)}function UX(t){var e=t.getDay();return e>=4||e===0?jv(t):jv.ceil(t)}function ERe(t,e){return t=UX(t),jt(jv.count(Lc(t),t)+(Lc(t).getDay()===4),e,2)}function CRe(t){return t.getDay()}function NRe(t,e){return jt(tA.count(Lc(t)-1,t),e,2)}function PRe(t,e){return jt(t.getFullYear()%100,e,2)}function TRe(t,e){return t=UX(t),jt(t.getFullYear()%100,e,2)}function kRe(t,e){return jt(t.getFullYear()%1e4,e,4)}function ORe(t,e){var r=t.getDay();return t=r>=4||r===0?jv(t):jv.ceil(t),jt(t.getFullYear()%1e4,e,4)}function MRe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function cz(t,e){return jt(t.getUTCDate(),e,2)}function DRe(t,e){return jt(t.getUTCHours(),e,2)}function RRe(t,e){return jt(t.getUTCHours()%12||12,e,2)}function IRe(t,e){return jt(1+LC.count(Fc(t),t),e,3)}function HX(t,e){return jt(t.getUTCMilliseconds(),e,3)}function $Re(t,e){return HX(t,e)+"000"}function LRe(t,e){return jt(t.getUTCMonth()+1,e,2)}function FRe(t,e){return jt(t.getUTCMinutes(),e,2)}function zRe(t,e){return jt(t.getUTCSeconds(),e,2)}function BRe(t){var e=t.getUTCDay();return e===0?7:e}function URe(t,e){return jt(zC.count(Fc(t)-1,t),e,2)}function WX(t){var e=t.getUTCDay();return e>=4||e===0?Av(t):Av.ceil(t)}function HRe(t,e){return t=WX(t),jt(Av.count(Fc(t),t)+(Fc(t).getUTCDay()===4),e,2)}function WRe(t){return t.getUTCDay()}function VRe(t,e){return jt(rA.count(Fc(t)-1,t),e,2)}function qRe(t,e){return jt(t.getUTCFullYear()%100,e,2)}function GRe(t,e){return t=WX(t),jt(t.getUTCFullYear()%100,e,2)}function KRe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function YRe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Av(t):Av.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function XRe(){return"+0000"}function uz(){return"%"}function dz(t){return+t}function hz(t){return Math.floor(+t/1e3)}var $p,VX,qX;ZRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZRe(t){return $p=ZDe(t),VX=$p.format,$p.parse,qX=$p.utcFormat,$p.utcParse,$p}function QRe(t){return new Date(t)}function JRe(t){return t instanceof Date?+t:+new Date(+t)}function zI(t,e,r,n,i,s,a,o,c,u){var d=EI(),h=d.invert,f=d.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function _(A){return(c(A)<A?p:o(A)<A?v:a(A)<A?g:s(A)<A?x:n(A)<A?i(A)<A?y:b:r(A)<A?w:S)(A)}return d.invert=function(A){return new Date(h(A))},d.domain=function(A){return arguments.length?f(Array.from(A,JRe)):f().map(QRe)},d.ticks=function(A){var E=f();return t(E[0],E[E.length-1],A??10)},d.tickFormat=function(A,E){return E==null?_:u(E)},d.nice=function(A){var E=f();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?f(OX(E,A)):d},d.copy=function(){return d_(d,zI(t,e,r,n,i,s,a,o,c,u))},d}function eIe(){return pa.apply(zI(YDe,XDe,Lc,LI,FC,h_,II,DI,vh,VX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tIe(){return pa.apply(zI(GDe,KDe,Fc,FI,zC,LC,$I,RI,vh,qX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function BC(){var t=0,e=1,r,n,i,s,a=xi,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(f){var p,v;return arguments.length?([p,v]=f,a=h(p,v),u):[a(0),a(1)]}}return u.range=d(py),u.rangeRound=d(AI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Hd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function GX(){var t=Ud(BC()(xi));return t.copy=function(){return Hd(t,GX())},Wc.apply(t,arguments)}function KX(){var t=PI(BC()).domain([1,10]);return t.copy=function(){return Hd(t,KX()).base(t.base())},Wc.apply(t,arguments)}function YX(){var t=TI(BC());return t.copy=function(){return Hd(t,YX()).constant(t.constant())},Wc.apply(t,arguments)}function BI(){var t=kI(BC());return t.copy=function(){return Hd(t,BI()).exponent(t.exponent())},Wc.apply(t,arguments)}function rIe(){return BI.apply(null,arguments).exponent(.5)}function XX(){var t=[],e=xi;function r(n){if(n!=null&&!isNaN(n=+n))return e((c_(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_d),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>UMe(t,s/n))},r.copy=function(){return XX(e).domain(t)},Wc.apply(r,arguments)}function UC(){var t=0,e=.5,r=1,n=1,i,s,a,o,c,u=xi,d,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-s)*(n*g<n*s?o:c),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,u=pDe(g,[y,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(py),p.rangeRound=v(AI),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return d=g,i=g(t),s=g(e),a=g(r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function ZX(){var t=Ud(UC()(xi));return t.copy=function(){return Hd(t,ZX())},Wc.apply(t,arguments)}function QX(){var t=PI(UC()).domain([.1,1,10]);return t.copy=function(){return Hd(t,QX()).base(t.base())},Wc.apply(t,arguments)}function JX(){var t=TI(UC());return t.copy=function(){return Hd(t,JX()).constant(t.constant())},Wc.apply(t,arguments)}function UI(){var t=kI(UC());return t.copy=function(){return Hd(t,UI()).exponent(t.exponent())},Wc.apply(t,arguments)}function nIe(){return UI.apply(null,arguments).exponent(.5)}const fz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kb,scaleDiverging:ZX,scaleDivergingLog:QX,scaleDivergingPow:UI,scaleDivergingSqrt:nIe,scaleDivergingSymlog:JX,scaleIdentity:kX,scaleImplicit:E2,scaleLinear:Jj,scaleLog:MX,scaleOrdinal:_I,scalePoint:Fx,scalePow:OI,scaleQuantile:IX,scaleQuantize:$X,scaleRadial:RX,scaleSequential:GX,scaleSequentialLog:KX,scaleSequentialPow:BI,scaleSequentialQuantile:XX,scaleSequentialSqrt:rIe,scaleSequentialSymlog:YX,scaleSqrt:$De,scaleSymlog:DX,scaleThreshold:LX,scaleTime:eIe,scaleUtc:tIe,tickFormat:TX},Symbol.toStringTag,{value:"Module"}));var iIe=iy;function sIe(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!iIe(a):r(a,o)))var o=a,c=s}return c}var eZ=sIe;function aIe(t,e){return t>e}var oIe=aIe,lIe=eZ,cIe=oIe,uIe=fy;function dIe(t){return t&&t.length?lIe(t,uIe,cIe):void 0}var hIe=dIe;const ld=Ft(hIe);function fIe(t,e){return t<e}var pIe=fIe,mIe=eZ,gIe=pIe,vIe=fy;function yIe(t){return t&&t.length?mIe(t,vIe,gIe):void 0}var xIe=yIe;const HC=Ft(xIe);var bIe=rI,wIe=Bd,_Ie=lX,SIe=Yi;function jIe(t,e){var r=SIe(t)?bIe:_Ie;return r(t,wIe(e))}var AIe=jIe,EIe=aX,CIe=AIe;function NIe(t,e){return EIe(CIe(t,e),1)}var PIe=NIe;const TIe=Ft(PIe);var kIe=vI;function OIe(t,e){return kIe(t,e)}var MIe=OIe;const Ev=Ft(MIe);var my=1e9,DIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WI,lr=!0,ua="[DecimalError] ",If=ua+"Invalid argument: ",HI=ua+"Exponent out of range: ",gy=Math.floor,sh=Math.pow,RIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_s,_n=1e7,Jt=7,tZ=9007199254740991,nA=gy(tZ/Jt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return Ac(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return zt(Ac(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Wr(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_s))throw Error(ua+"NaN");if(r.s<1)throw Error(ua+(r.s?"NaN":"-Infinity"));return r.eq(_s)?new n(0):(lr=!1,e=Ac(Ib(r,s),Ib(t,s),s),lr=!0,zt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iZ(e,t):rZ(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ua+"NaN");return r.s?(lr=!1,e=Ac(r,t,0,1).times(t),lr=!0,r.minus(e)):zt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return nZ(this)};Te.naturalLogarithm=Te.ln=function(){return Ib(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rZ(e,t):iZ(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(If+t);if(e=Wr(i)+1,n=i.d.length-1,r=n*Jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ua+"NaN")}for(t=Wr(o),lr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Ac(o,s,a+2)).times(.5),Qo(s.d).slice(0,a)===(e=Qo(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(zt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return lr=!0,zt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,s,a,o,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(s=f,f=p,p=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=s[i]+p[n]*f[i-n-1]+e,s[i--]=o%_n|0,e=o/_n|0;s[i]=(s[i]+e)%_n|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,lr?zt(t,h.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(dl(t,0,my),e===void 0?e=n.rounding:dl(e,0,8),zt(r,t+Wr(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=tp(n,!0):(dl(t,0,my),e===void 0?e=i.rounding:dl(e,0,8),n=zt(new i(n),t+1,e),r=tp(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?tp(i):(dl(t,0,my),e===void 0?e=s.rounding:dl(e,0,8),n=zt(new s(i),t+Wr(i)+1,e),r=tp(n.abs(),!1,t+Wr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Wr(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,s,a,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(_s);if(o=new c(o),!o.s){if(t.s<1)throw Error(ua+"Infinity");return o}if(o.eq(_s))return o;if(n=c.precision,t.eq(_s))return zt(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=tZ){for(i=new c(_s),e=Math.ceil(n/Jt+4),lr=!1;r%2&&(i=i.times(o),mz(i.d,e)),r=gy(r/2),r!==0;)o=o.times(o),mz(o.d,e);return lr=!0,t.s<0?new c(_s).div(i):zt(i,n)}}else if(s<0)throw Error(ua+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,lr=!1,i=t.times(Ib(o,n+u)),lr=!0,i=nZ(i),i.s=s,i};Te.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Wr(i),n=tp(i,r<=s.toExpNeg||r>=s.toExpPos)):(dl(t,1,my),e===void 0?e=s.rounding:dl(e,0,8),i=zt(new s(i),t,e),r=Wr(i),n=tp(i,t<=r||r<=s.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(dl(t,1,my),e===void 0?e=n.rounding:dl(e,0,8)),zt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wr(t),r=t.constructor;return tp(t,e<=r.toExpNeg||e>=r.toExpPos)};function rZ(t,e){var r,n,i,s,a,o,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),lr?zt(e,h):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,i=a,o=c.length),a=Math.ceil(h/Jt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/_n|0,c[s]%=_n;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,lr?zt(e,h):e}function dl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(If+t)}function Qo(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Jt-n.length,r&&(s+=au(r)),s+=n;a=t[e],n=a+"",r=Jt-n.length,r&&(s+=au(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ac=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%_n|0,a=s/_n|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*_n+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,c,u,d,h,f,p,v,g,x,y,b,w,S,_,A,E,N,T=n.constructor,D=n.s==i.s?1:-1,O=n.d,I=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(ua+"Division by zero");for(c=n.e-i.e,E=I.length,_=O.length,p=new T(D),v=p.d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,s==null?b=s=T.precision:a?b=s+(Wr(n)-Wr(i))+1:b=s,b<0)return new T(0);if(b=b/Jt+2|0,u=0,E==1)for(d=0,I=I[0],b++;(u<_||d)&&b--;u++)w=d*_n+(O[u]||0),v[u]=w/I|0,d=w%I|0;else{for(d=_n/(I[0]+1)|0,d>1&&(I=t(I,d),O=t(O,d),E=I.length,_=O.length),S=E,g=O.slice(0,E),x=g.length;x<E;)g[x++]=0;N=I.slice(),N.unshift(0),A=I[0],I[1]>=_n/2&&++A;do d=0,o=e(I,g,E,x),o<0?(y=g[0],E!=x&&(y=y*_n+(g[1]||0)),d=y/A|0,d>1?(d>=_n&&(d=_n-1),h=t(I,d),f=h.length,x=g.length,o=e(h,g,f,x),o==1&&(d--,r(h,E<f?N:I,f))):(d==0&&(o=d=1),h=I.slice()),f=h.length,f<x&&h.unshift(0),r(g,h,x),o==-1&&(x=g.length,o=e(I,g,E,x),o<1&&(d++,r(g,E<x?N:I,x))),x=g.length):o===0&&(d++,g=[0]),v[u++]=d,o&&g[0]?g[x++]=O[S]||0:(g=[O[S]],x=1);while((S++<_||g[0]!==void 0)&&b--)}return v[0]||v.shift(),p.e=c,zt(p,a?s+Wr(p)+1:s)}}();function nZ(t,e){var r,n,i,s,a,o,c=0,u=0,d=t.constructor,h=d.precision;if(Wr(t)>16)throw Error(HI+Wr(t));if(!t.s)return new d(_s);for(lr=!1,o=h,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(sh(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new d(_s),d.precision=o;;){if(i=zt(i.times(t),o),r=r.times(++c),a=s.plus(Ac(i,r,o)),Qo(a.d).slice(0,o)===Qo(s.d).slice(0,o)){for(;u--;)s=zt(s.times(s),o);return d.precision=h,e==null?(lr=!0,zt(s,h)):s}s=a}}function Wr(t){for(var e=t.e*Jt,r=t.d[0];r>=10;r/=10)e++;return e}function OP(t,e,r){if(e>t.LN10.sd())throw lr=!0,r&&(t.precision=r),Error(ua+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function au(t){for(var e="";t--;)e+="0";return e}function Ib(t,e){var r,n,i,s,a,o,c,u,d,h=1,f=10,p=t,v=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(ua+(p.s?"NaN":"-Infinity"));if(p.eq(_s))return new g(0);if(e==null?(lr=!1,u=x):u=e,p.eq(10))return e==null&&(lr=!0),OP(g,u);if(u+=f,g.precision=u,r=Qo(v),n=r.charAt(0),s=Wr(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Qo(p.d),n=r.charAt(0),h++;s=Wr(p),n>1?(p=new g("0."+r),s++):p=new g(n+"."+r.slice(1))}else return c=OP(g,u+2,x).times(s+""),p=Ib(new g(n+"."+r.slice(1)),u-f).plus(c),g.precision=x,e==null?(lr=!0,zt(p,x)):p;for(o=a=p=Ac(p.minus(_s),p.plus(_s),u),d=zt(p.times(p),u),i=3;;){if(a=zt(a.times(d),u),c=o.plus(Ac(a,new g(i),u)),Qo(c.d).slice(0,u)===Qo(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(OP(g,u+2,x).times(s+""))),o=Ac(o,new g(h),u),g.precision=x,e==null?(lr=!0,zt(o,x)):o;o=c,i+=2}}function pz(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=gy(r/Jt),t.d=[],n=(r+1)%Jt,r<0&&(n+=Jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Jt;n<i;)t.d.push(+e.slice(n,n+=Jt));e=e.slice(n),n=Jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),lr&&(t.e>nA||t.e<-nA))throw Error(HI+r)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,r){var n,i,s,a,o,c,u,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Jt,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Jt),s=h.length,d>=s)return t;for(u=s=h[d],a=1;s>=10;s/=10)a++;n%=Jt,i=n-Jt+a}if(r!==void 0&&(s=sh(10,a-i-1),o=u/s%10|0,c=e<0||h[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/sh(10,a-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(s=Wr(t),h.length=1,e=e-s-1,h[0]=sh(10,(Jt-e%Jt)%Jt),t.e=gy(-e/Jt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=sh(10,Jt-n),h[d]=i>0?(u/sh(10,a-i)%sh(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==_n&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=_n)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(lr&&(t.e>nA||t.e<-nA))throw Error(HI+Wr(t));return t}function iZ(t,e){var r,n,i,s,a,o,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),lr?zt(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,o=h.length):(r=h,n=u,o=c.length),i=Math.max(Math.ceil(p/Jt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=_n-1;--c[s],c[i]+=_n}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,lr?zt(e,p):e):new f(0)}function tp(t,e,r){var n,i=Wr(t),s=Qo(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+au(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+au(-i-1)+s,r&&(n=r-a)>0&&(s+=au(n))):i>=a?(s+=au(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+au(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=au(n))),t.s<0?"-"+s:s}function mz(t,e){if(t.length>e)return t.length=e,!0}function sZ(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(If+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return pz(a,s.toString())}else if(typeof s!="string")throw Error(If+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,RIe.test(s))pz(a,s);else throw Error(If+s)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sZ,i.config=i.set=IIe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function IIe(t){if(!t||typeof t!="object")throw Error(ua+"Object expected");var e,r,n,i=["precision",1,my,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(gy(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(If+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(If+r+": "+n);return this}var WI=sZ(DIe);_s=new WI(1);const It=WI;function $Ie(t){return BIe(t)||zIe(t)||FIe(t)||LIe()}function LIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FIe(t,e){if(t){if(typeof t=="string")return T2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T2(t,e)}}function zIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BIe(t){if(Array.isArray(t))return T2(t)}function T2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var UIe=function(e){return e},aZ={},oZ=function(e){return e===aZ},gz=function(e){return function r(){return arguments.length===0||arguments.length===1&&oZ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},HIe=function t(e,r){return e===1?r:gz(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==aZ}).length;return a>=e?r.apply(void 0,i):t(e-a,gz(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(h){return oZ(h)?c.shift():h});return r.apply(void 0,$Ie(d).concat(c))}))})},WC=function(e){return HIe(e.length,e)},k2=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},WIe=WC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),VIe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return UIe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,c){return c(o)},s.apply(void 0,arguments))}},O2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lZ=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,c){return o===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function qIe(t){var e;return t===0?e=1:e=Math.floor(new It(t).abs().log(10).toNumber())+1,e}function GIe(t,e,r){for(var n=new It(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var KIe=WC(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),YIe=WC(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),XIe=WC(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const VC={rangeStep:GIe,getDigitCount:qIe,interpolateNumber:KIe,uninterpolateNumber:YIe,uninterpolateTruncation:XIe};function M2(t){return JIe(t)||QIe(t)||cZ(t)||ZIe()}function ZIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function JIe(t){if(Array.isArray(t))return D2(t)}function $b(t,e){return r$e(t)||t$e(t,e)||cZ(t,e)||e$e()}function e$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(t,e){if(t){if(typeof t=="string")return D2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D2(t,e)}}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t$e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function r$e(t){if(Array.isArray(t))return t}function uZ(t){var e=$b(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function dZ(t,e,r){if(t.lte(0))return new It(0);var n=VC.getDigitCount(t.toNumber()),i=new It(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new It(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=o.mul(i);return e?c:new It(Math.ceil(c))}function n$e(t,e,r){var n=1,i=new It(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new It(10).pow(VC.getDigitCount(t)-1),i=new It(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new It(Math.floor(t)))}else t===0?i=new It(Math.floor((e-1)/2)):r||(i=new It(Math.floor(t)));var a=Math.floor((e-1)/2),o=VIe(WIe(function(c){return i.add(new It(c-a).mul(n)).toNumber()}),k2);return o(0,e)}function hZ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var s=dZ(new It(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new It(0):(a=new It(t).add(e).div(2),a=a.sub(new It(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new It(e).sub(a).div(s).toNumber()),u=o+c+1;return u>r?hZ(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,o=e>0?o:o+(r-u)),{step:s,tickMin:a.sub(new It(o).mul(s)),tickMax:a.add(new It(c).mul(s))})}function i$e(t){var e=$b(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=uZ([r,n]),c=$b(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(M2(k2(0,i-1).map(function(){return 1/0}))):[].concat(M2(k2(0,i-1).map(function(){return-1/0})),[d]);return r>n?O2(h):h}if(u===d)return n$e(u,i,s);var f=hZ(u,d,a,s),p=f.step,v=f.tickMin,g=f.tickMax,x=VC.rangeStep(v,g.add(new It(.1).mul(p)),p);return r>n?O2(x):x}function s$e(t,e){var r=$b(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=uZ([n,i]),o=$b(a,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=dZ(new It(u).sub(c).div(d-1),s,0),f=[].concat(M2(VC.rangeStep(new It(c),new It(u).sub(new It(.99).mul(h)),h)),[u]);return n>i?O2(f):f}var a$e=lZ(i$e),o$e=lZ(s$e),l$e="Invariant failed";function rp(t,e){throw new Error(l$e)}var c$e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iA.apply(this,arguments)}function u$e(t,e){return p$e(t)||f$e(t,e)||h$e(t,e)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$e(t,e){if(t){if(typeof t=="string")return vz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vz(t,e)}}function vz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function p$e(t){if(Array.isArray(t))return t}function m$e(t,e){if(t==null)return{};var r=g$e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mZ(n.key),n)}}function x$e(t,e,r){return e&&y$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b$e(t,e,r){return e=sA(e),w$e(t,fZ()?Reflect.construct(e,r||[],sA(t).constructor):e.apply(t,r))}function w$e(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _$e(t)}function _$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fZ=function(){return!!t})()}function sA(t){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sA(t)}function S$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R2(t,e)}function pZ(t,e,r){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mZ(t){var e=j$e(t,"string");return Cv(e)=="symbol"?e:e+""}function j$e(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f_=function(t){function e(){return v$e(this,e),b$e(this,e,arguments)}return S$e(e,t),x$e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=m$e(n,c$e),p=et(f,!1);this.props.direction==="x"&&d.type!=="number"&&rp();var v=c.map(function(g){var x=u(g,o),y=x.x,b=x.y,w=x.value,S=x.errorVal;if(!S)return null;var _=[],A,E;if(Array.isArray(S)){var N=u$e(S,2);A=N[0],E=N[1]}else A=E=S;if(s==="vertical"){var T=d.scale,D=b+i,O=D+a,I=D-a,F=T(w-A),$=T(w+E);_.push({x1:$,y1:O,x2:$,y2:I}),_.push({x1:F,y1:D,x2:$,y2:D}),_.push({x1:F,y1:O,x2:F,y2:I})}else if(s==="horizontal"){var B=h.scale,L=y+i,P=L-a,R=L+a,U=B(w-A),Y=B(w+E);_.push({x1:P,y1:Y,x2:R,y2:Y}),_.push({x1:L,y1:U,x2:L,y2:Y}),_.push({x1:P,y1:U,x2:R,y2:U})}return z.createElement(qt,iA({className:"recharts-errorBar",key:"bar-".concat(_.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),_.map(function(J){return z.createElement("line",iA({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return z.createElement(qt,{className:"recharts-errorBars"},v)}}])}(z.Component);pZ(f_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pZ(f_,"displayName","ErrorBar");function Lb(t){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(t)}function yz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(r),!0).forEach(function(n){A$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A$e(t,e,r){return e=E$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$e(t){var e=C$e(t,"string");return Lb(e)=="symbol"?e:e+""}function C$e(t,e){if(Lb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gZ=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=gs(r,Cm);if(!a)return null;var o=Cm.defaultProps,c=o!==void 0?Yd(Yd({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,v=p.sectors||p.data||[];return d.concat(v.map(function(g){return{type:a.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?Yd(Yd({},f),h.props):{},v=p.dataKey,g=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:c.iconType||x||"square",color:VI(h),value:g||v,payload:p}}),Yd(Yd(Yd({},c),Cm.getWithHeight(a,i)),{},{payload:u,item:a})};function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function xz(t){return k$e(t)||T$e(t)||P$e(t)||N$e()}function N$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$e(t,e){if(t){if(typeof t=="string")return I2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(t,e)}}function T$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k$e(t){if(Array.isArray(t))return I2(t)}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(r),!0).forEach(function(n){Pm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pm(t,e,r){return e=O$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$e(t){var e=M$e(t,"string");return Fb(e)=="symbol"?e:e+""}function M$e(t,e){if(Fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ji(t,e,r){return ot(t)||ot(e)?r:on(e)?na(t,e,r):Ze(e)?e(t):r}function zx(t,e,r,n){var i=TIe(t,function(o){return ji(o,e)});if(r==="number"){var s=i.filter(function(o){return ve(o)||parseFloat(o)});return s.length?[HC(s),ld(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!ot(o)}):i;return a.map(function(o){return on(o)||o instanceof Date?o:""})}var D$e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,h=i[u].coordinate,f=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ka(h-d)!==Ka(f-h)){var v=[];if(Ka(f-h)===Ka(c[1]-c[0])){p=f;var g=h+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{p=d;var x=f+c[1]-c[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var b=Math.min(d,f),w=Math.max(d,f);if(e>(b+h)/2&&e<=(w+h)/2){a=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){a=n[S].index;break}return a},VI=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wr(wr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:o;break;default:c=o;break}return c},R$e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),c=0,u=o.length;c<u;c++)for(var d=s[o[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var v=d[h[f]],g=v.items,x=v.cateAxisId,y=g.filter(function(E){return Sc(E.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?wr(wr({},b),y[0].props):y[0].props,S=w.barSize,_=w[x];a[_]||(a[_]=[]);var A=ot(S)?r:S;a[_].push({item:y[0],stackList:y.slice(1),barSize:ot(A)?void 0:ep(A,n,0)})}}return a},I$e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,c=a.length;if(c<1)return null;var u=ep(r,i,0,!0),d,h=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/c,v=a.reduce(function(S,_){return S+_.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(f=!0,p*=.9,v=c*p);var g=(i-v)/2>>0,x={offset:g-u,size:0};d=a.reduce(function(S,_){var A={item:_.item,position:{offset:x.offset+x.size+u,size:f?p:_.barSize}},E=[].concat(xz(S),[A]);return x=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(N){E.push({item:N,position:x})}),E},h)}else{var y=ep(n,i,0,!0);i-2*y-(c-1)*u<=0&&(u=0);var b=(i-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;d=a.reduce(function(S,_,A){var E=[].concat(xz(S),[{item:_.item,position:{offset:y+(b+u)*A+(b-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(N){E.push({item:N,position:E[E.length-1].position})}),E},h)}return d},$$e=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,c=a-(o.left||0)-(o.right||0),u=gZ({children:s,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&ve(e[p]))return wr(wr({},e),{},Pm({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&ve(e[v]))return wr(wr({},e),{},Pm({},v,e[v]+(f||0)))}return e},L$e=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vZ=function(e,r,n,i,s){var a=r.props.children,o=ia(a,f_).filter(function(u){return L$e(i,s,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=ji(d,n);if(ot(h))return u;var f=Array.isArray(h)?[HC(h),ld(h)]:[h,h],p=c.reduce(function(v,g){var x=ji(d,g,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),b=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},F$e=function(e,r,n,i,s){var a=r.map(function(o){return vZ(e,o,n,s,i)}).filter(function(o){return!ot(o)});return a&&a.length?a.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},yZ=function(e,r,n,i,s){var a=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&vZ(e,c,u,i)||zx(e,u,n,s)});if(n==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},xZ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},bZ=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,a,o=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(a=!0),c.coordinate});return s||o.push(r),a||o.push(n),o},wc=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ka(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=s?s.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!cy(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:s?s[h]:h,index:f,offset:u}})},MP=new WeakMap,v1=function(e,r){if(typeof r!="function")return e;MP.has(e)||MP.set(e,new WeakMap);var n=MP.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},z$e=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:kb(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Jj(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fx(),realScaleType:"point"}:s==="category"?{scale:kb(),realScaleType:"band"}:{scale:Jj(),realScaleType:"linear"};if(Jf(i)){var c="scale".concat(TC(i));return{scale:(fz[c]||Fx)(),realScaleType:fz[c]?c:"point"}}return Ze(i)?{scale:i}:{scale:Fx(),realScaleType:"point"}},wz=1e-4,B$e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-wz,a=Math.max(i[0],i[1])+wz,o=e(r[0]),c=e(r[n-1]);(o<s||o>a||c<s||c>a)&&e.domain([r[0],r[n-1]])}},U$e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},H$e=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(s[0]=n),(!ve(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},W$e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var c=cy(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},V$e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=cy(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},q$e={sign:W$e,expand:oAe,none:yv,silhouette:lAe,wiggle:cAe,positive:V$e},G$e=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=q$e[n],a=aAe().keys(i).value(function(o,c){return+ji(o,c,0)}).order(o2).offset(s);return a(e)},K$e=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,c={},u=o.reduce(function(h,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?wr(wr({},f.type.defaultProps),f.props):f.props,g=v.stackId,x=v.hide;if(x)return h;var y=v[n],b=h[y]||{hasStack:!1,stackGroups:{}};if(on(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[uy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return wr(wr({},h),{},Pm({},y,b))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var y=p.stackGroups[x];return wr(wr({},g),{},Pm({},x,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:G$e(e,y.items,s)}))},v)}return wr(wr({},h),{},Pm({},f,p))},d)},Y$e=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=a$e(u,s,o);return e.domain([HC(d),ld(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),f=o$e(h,s,o);return{niceTicks:f}}return null};function aA(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ot(i[e.dataKey])){var o=Tj(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=ji(i,ot(a)?e.dataKey:a);return ot(c)?null:e.scale(c)}var _z=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=ji(a,r.dataKey,r.domain[o]);return ot(c)?null:r.scale(c)-s/2+i},X$e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Z$e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wr(wr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(on(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Q$e=function(e){return e.reduce(function(r,n){return[HC(n.concat([r[0]]).filter(ve)),ld(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},wZ=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,c=o.reduce(function(u,d){var h=Q$e(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Sz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$2=function(e,r,n){if(Ze(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(Sz.test(e[0])){var s=+Sz.exec(e[0])[1];i[0]=r[0]-s}else Ze(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(jz.test(e[1])){var a=+jz.exec(e[1])[1];i[1]=r[1]+a}else Ze(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},oA=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=xI(r,function(h){return h.coordinate}),a=1/0,o=1,c=s.length;o<c;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},Az=function(e,r,n){return!e||!e.length||Ev(e,na(n,"type.defaultProps.domain"))?r:e},_Z=function(e,r){var n=e.type.defaultProps?wr(wr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return wr(wr({},et(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:VI(e),value:ji(r,i),type:c,payload:r,chartType:u,hide:d})};function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}function Ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(r),!0).forEach(function(n){J$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J$e(t,e,r){return e=eLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eLe(t){var e=tLe(t,"string");return zb(e)=="symbol"?e:e+""}function tLe(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lA=Math.PI/180,rLe=function(e){return e*180/Math.PI},Ln=function(e,r,n,i){return{x:e+Math.cos(-lA*i)*n,y:r+Math.sin(-lA*i)*n}},nLe=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},iLe=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=nLe({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var c=(n-s)/o,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:o,angle:rLe(u),angleInRadian:u}},sLe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},aLe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},Nz=function(e,r){var n=e.x,i=e.y,s=iLe({x:n,y:i},r),a=s.radius,o=s.angle,c=r.innerRadius,u=r.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=sLe(r),h=d.startAngle,f=d.endAngle,p=o,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?Cz(Cz({},r),{},{radius:a,angle:aLe(p,r)}):null};function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var oLe=["offset"];function lLe(t){return hLe(t)||dLe(t)||uLe(t)||cLe()}function cLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uLe(t,e){if(t){if(typeof t=="string")return L2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(t,e)}}function dLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hLe(t){if(Array.isArray(t))return L2(t)}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fLe(t,e){if(t==null)return{};var r=pLe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){mLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mLe(t,e,r){return e=gLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gLe(t){var e=vLe(t,"string");return Bb(e)=="symbol"?e:e+""}function vLe(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(this,arguments)}var yLe=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return Ze(n)?n(i):i},xLe=function(e,r){var n=Ka(r-e),i=Math.min(Math.abs(r-e),360);return n*i},bLe=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,v=c.endAngle,g=c.clockWise,x=(h+f)/2,y=xLe(p,v),b=y>=0?1:-1,w,S;i==="insideStart"?(w=p+b*a,S=g):i==="insideEnd"?(w=v-b*a,S=!g):i==="end"&&(w=v+b*a,S=g),S=y<=0?S:!S;var _=Ln(u,d,x,w),A=Ln(u,d,x,w+(S?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),N=ot(e.id)?uy("recharts-radial-line-"):e.id;return z.createElement("text",Ub({},n,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:N,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(N)},r))},wLe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,f=(d+h)/2;if(i==="outside"){var p=Ln(a,o,u+n,f),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,y=Ln(a,o,x,f),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},_Le=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,c=a.y,u=a.width,d=a.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",v=h>0?"start":"end",g=u>=0?1:-1,x=g*i,y=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var w={x:o+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return Zr(Zr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:o+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:v};return Zr(Zr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:o-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Zr(Zr({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var A={x:o+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Zr(Zr({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return s==="insideLeft"?Zr({x:o+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):s==="insideRight"?Zr({x:o+u-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},E):s==="insideTop"?Zr({x:o+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},E):s==="insideBottom"?Zr({x:o+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},E):s==="insideTopLeft"?Zr({x:o+x,y:c+f,textAnchor:b,verticalAnchor:v},E):s==="insideTopRight"?Zr({x:o+u-x,y:c+f,textAnchor:y,verticalAnchor:v},E):s==="insideBottomLeft"?Zr({x:o+x,y:c+d-f,textAnchor:b,verticalAnchor:p},E):s==="insideBottomRight"?Zr({x:o+u-x,y:c+d-f,textAnchor:y,verticalAnchor:p},E):sy(s)&&(ve(s.x)||mh(s.x))&&(ve(s.y)||mh(s.y))?Zr({x:o+ep(s.x,u),y:c+ep(s.y,d),textAnchor:"end",verticalAnchor:"end"},E):Zr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},SLe=function(e){return"cx"in e&&ve(e.cx)};function ei(t){var e=t.offset,r=e===void 0?5:e,n=fLe(t,oLe),i=Zr({offset:r},n),s=i.viewBox,a=i.position,o=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!s||ot(o)&&ot(c)&&!j.isValidElement(u)&&!Ze(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(Ze(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=yLe(i);var v=SLe(s),g=et(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return bLe(i,p,g);var x=v?wLe(i):_Le(i);return z.createElement(qj,Ub({className:mt("recharts-label",h)},g,x,{breakAll:f}),p)}ei.displayName="Label";var SZ=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,v=e.left,g=e.width,x=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(ve(g)&&ve(x)){if(ve(h)&&ve(f))return{x:h,y:f,width:g,height:x};if(ve(p)&&ve(v))return{x:p,y:v,width:g,height:x}}return ve(h)&&ve(f)?{x:h,y:f,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},jLe=function(e,r){return e?e===!0?z.createElement(ei,{key:"label-implicit",viewBox:r}):on(e)?z.createElement(ei,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===ei?j.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(ei,{key:"label-implicit",content:e,viewBox:r}):Ze(e)?z.createElement(ei,{key:"label-implicit",content:e,viewBox:r}):sy(e)?z.createElement(ei,Ub({viewBox:r},e,{key:"label-implicit"})):null:null},ALe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=SZ(e),a=ia(i,ei).map(function(c,u){return j.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var o=jLe(e.label,r||s);return[o].concat(lLe(a))};ei.parseViewBox=SZ;ei.renderCallByParent=ALe;function ELe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var CLe=ELe;const NLe=Ft(CLe);function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}var PLe=["valueAccessor"],TLe=["data","dataKey","clockWise","id","textBreakAll"];function kLe(t){return RLe(t)||DLe(t)||MLe(t)||OLe()}function OLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MLe(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function DLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RLe(t){if(Array.isArray(t))return F2(t)}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cA(){return cA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cA.apply(this,arguments)}function Tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(r),!0).forEach(function(n){ILe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ILe(t,e,r){return e=$Le(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Le(t){var e=LLe(t,"string");return Hb(e)=="symbol"?e:e+""}function LLe(t,e){if(Hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oz(t,e){if(t==null)return{};var r=FLe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zLe=function(e){return Array.isArray(e.value)?NLe(e.value):e.value};function Ec(t){var e=t.valueAccessor,r=e===void 0?zLe:e,n=Oz(t,PLe),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,c=n.textBreakAll,u=Oz(n,TLe);return!i||!i.length?null:z.createElement(qt,{className:"recharts-label-list"},i.map(function(d,h){var f=ot(s)?r(d,h):ji(d&&d.payload,s),p=ot(o)?{}:{id:"".concat(o,"-").concat(h)};return z.createElement(ei,cA({},et(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:ei.parseViewBox(ot(a)?d:kz(kz({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}Ec.displayName="LabelList";function BLe(t,e){return t?t===!0?z.createElement(Ec,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ze(t)?z.createElement(Ec,{key:"labelList-implicit",data:e,content:t}):sy(t)?z.createElement(Ec,cA({data:e},t,{key:"labelList-implicit"})):null:null}function ULe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ia(n,Ec).map(function(a,o){return j.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=BLe(t.label,e);return[s].concat(kLe(i))}Ec.renderCallByParent=ULe;function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z2.apply(this,arguments)}function Mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(r),!0).forEach(function(n){HLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HLe(t,e,r){return e=WLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WLe(t){var e=VLe(t,"string");return Wb(e)=="symbol"?e:e+""}function VLe(t,e){if(Wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qLe=function(e,r){var n=Ka(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},y1=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,h=Math.asin(c/d)/lA,f=u?s:s+a*h,p=Ln(r,n,d,f),v=Ln(r,n,i,f),g=u?s-a*h:s,x=Ln(r,n,d*Math.cos(h*lA),g);return{center:p,circleTangency:v,lineTangency:x,theta:h}},jZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,c=qLe(a,o),u=a+c,d=Ln(r,n,s,a),h=Ln(r,n,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ln(r,n,i,a),v=Ln(r,n,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},GLe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=Ka(d-u),f=y1({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:a,cornerIsExternal:c}),p=f.circleTangency,v=f.lineTangency,g=f.theta,x=y1({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:c}),y=x.circleTangency,b=x.lineTangency,w=x.theta,S=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jZ({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var A=y1({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),E=A.circleTangency,N=A.lineTangency,T=A.theta,D=y1({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),O=D.circleTangency,I=D.lineTangency,F=D.theta,$=c?Math.abs(u-d):Math.abs(u-d)-T-F;if($<0&&a===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},KLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AZ=function(e){var r=Dz(Dz({},KLe),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(a<s||d===h)return null;var p=mt("recharts-sector",f),v=a-s,g=ep(o,v,0,!0),x;return g>0&&Math.abs(d-h)<360?x=GLe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=jZ({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:h}),z.createElement("path",z2({},et(r,!0),{className:p,d:x,role:"img"}))};function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B2.apply(this,arguments)}function Rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(r),!0).forEach(function(n){YLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YLe(t,e,r){return e=XLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XLe(t){var e=ZLe(t,"string");return Vb(e)=="symbol"?e:e+""}function ZLe(t,e){if(Vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z={curveBasisClosed:Yje,curveBasisOpen:Xje,curveBasis:Kje,curveBumpX:Dje,curveBumpY:Rje,curveLinearClosed:Zje,curveLinear:OC,curveMonotoneX:Qje,curveMonotoneY:Jje,curveNatural:eAe,curveStep:tAe,curveStepAfter:nAe,curveStepBefore:rAe},x1=function(e){return e.x===+e.x&&e.y===+e.y},Hy=function(e){return e.x},Wy=function(e){return e.y},QLe=function(e,r){if(Ze(e))return e;var n="curve".concat(TC(e));return(n==="curveMonotone"||n==="curveBump")&&r?$z["".concat(n).concat(r==="vertical"?"Y":"X")]:$z[n]||OC},JLe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=QLe(n,o),h=u?s.filter(function(g){return x1(g)}):s,f;if(Array.isArray(a)){var p=u?a.filter(function(g){return x1(g)}):a,v=h.map(function(g,x){return Iz(Iz({},g),{},{base:p[x]})});return o==="vertical"?f=c1().y(Wy).x1(Hy).x0(function(g){return g.base.x}):f=c1().x(Hy).y1(Wy).y0(function(g){return g.base.y}),f.defined(x1).curve(d),f(v)}return o==="vertical"&&ve(a)?f=c1().y(Wy).x1(Hy).x0(a):ve(a)?f=c1().x(Hy).y1(Wy).y0(a):f=AY().x(Hy).y(Wy),f.defined(x1).curve(d),f(h)},Tm=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?JLe(e):i;return j.createElement("path",B2({},et(e,!1),kj(e),{className:mt("recharts-curve",r),d:a,ref:s}))},EZ={exports:{}},eFe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tFe=eFe,rFe=tFe;function CZ(){}function NZ(){}NZ.resetWarningCache=CZ;var nFe=function(){function t(n,i,s,a,o,c){if(c!==rFe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NZ,resetWarningCache:CZ};return r.PropTypes=r,r};EZ.exports=nFe();var iFe=EZ.exports;const Et=Ft(iFe);var sFe=Object.getOwnPropertyNames,aFe=Object.getOwnPropertySymbols,oFe=Object.prototype.hasOwnProperty;function Lz(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function b1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function Fz(t){return sFe(t).concat(aFe(t))}var lFe=Object.hasOwn||function(t,e){return oFe.call(t,e)};function jp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var cFe="__v",uFe="__o",dFe="_owner",zz=Object.getOwnPropertyDescriptor,Bz=Object.keys;function hFe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function fFe(t,e){return jp(t.getTime(),e.getTime())}function pFe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mFe(t,e){return t===e}function Uz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,o,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,h=0;(o=u.next())&&!o.done;){if(i[h]){h++;continue}var f=a.value,p=o.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}var gFe=jp;function vFe(t,e,r){var n=Bz(t),i=n.length;if(Bz(e).length!==i)return!1;for(;i-- >0;)if(!PZ(t,e,r,n[i]))return!1;return!0}function Vy(t,e,r){var n=Fz(t),i=n.length;if(Fz(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],!PZ(t,e,r,s)||(a=zz(t,s),o=zz(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function yFe(t,e){return jp(t.valueOf(),e.valueOf())}function xFe(t,e){return t.source===e.source&&t.flags===e.flags}function Hz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bFe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function wFe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PZ(t,e,r,n){return(n===dFe||n===uFe||n===cFe)&&(t.$$typeof||e.$$typeof)?!0:lFe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var _Fe="[object Arguments]",SFe="[object Boolean]",jFe="[object Date]",AFe="[object Error]",EFe="[object Map]",CFe="[object Number]",NFe="[object Object]",PFe="[object RegExp]",TFe="[object Set]",kFe="[object String]",OFe="[object URL]",MFe=Array.isArray,Wz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Vz=Object.assign,DFe=Object.prototype.toString.call.bind(Object.prototype.toString);function RFe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var y=typeof v;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?a(v,g,x):y==="function"?i(v,g,x):!1;var b=v.constructor;if(b!==g.constructor)return!1;if(b===Object)return o(v,g,x);if(MFe(v))return e(v,g,x);if(Wz!=null&&Wz(v))return h(v,g,x);if(b===Date)return r(v,g,x);if(b===RegExp)return u(v,g,x);if(b===Map)return s(v,g,x);if(b===Set)return d(v,g,x);var w=DFe(v);return w===jFe?r(v,g,x):w===PFe?u(v,g,x):w===EFe?s(v,g,x):w===TFe?d(v,g,x):w===NFe?typeof v.then!="function"&&typeof g.then!="function"&&o(v,g,x):w===OFe?f(v,g,x):w===AFe?n(v,g,x):w===_Fe?o(v,g,x):w===SFe||w===CFe||w===kFe?c(v,g,x):!1}}function IFe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vy:hFe,areDatesEqual:fFe,areErrorsEqual:pFe,areFunctionsEqual:mFe,areMapsEqual:n?Lz(Uz,Vy):Uz,areNumbersEqual:gFe,areObjectsEqual:n?Vy:vFe,arePrimitiveWrappersEqual:yFe,areRegExpsEqual:xFe,areSetsEqual:n?Lz(Hz,Vy):Hz,areTypedArraysEqual:n?Vy:bFe,areUrlsEqual:wFe};if(r&&(i=Vz({},i,r(i))),e){var s=b1(i.areArraysEqual),a=b1(i.areMapsEqual),o=b1(i.areObjectsEqual),c=b1(i.areSetsEqual);i=Vz({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return i}function $Fe(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function LFe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,p=d.meta;return r(c,u,{cache:f,equals:i,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,a)}}var FFe=Wd();Wd({strict:!0});Wd({circular:!0});Wd({circular:!0,strict:!0});Wd({createInternalComparator:function(){return jp}});Wd({strict:!0,createInternalComparator:function(){return jp}});Wd({circular:!0,createInternalComparator:function(){return jp}});Wd({circular:!0,createInternalComparator:function(){return jp},strict:!0});function Wd(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=IFe(t),c=RFe(o),u=n?n(c):$Fe(c);return LFe({circular:r,comparator:c,createState:i,equals:u,strict:a})}function zFe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function qz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):zFe(i)};requestAnimationFrame(n)}function U2(t){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}function BFe(t){return VFe(t)||WFe(t)||HFe(t)||UFe()}function UFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HFe(t,e){if(t){if(typeof t=="string")return Gz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gz(t,e)}}function Gz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VFe(t){if(Array.isArray(t))return t}function qFe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=BFe(a),c=o[0],u=o.slice(1);if(typeof c=="number"){qz(i.bind(null,u),c);return}i(c),qz(i.bind(null,u));return}U2(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function Kz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(r),!0).forEach(function(n){TZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TZ(t,e,r){return e=GFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GFe(t){var e=KFe(t,"string");return qb(e)==="symbol"?e:String(e)}function KFe(t,e){if(qb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YFe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},XFe=function(e){return e},ZFe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bx=function(e,r){return Object.keys(r).reduce(function(n,i){return Yz(Yz({},n),{},TZ({},i,e(i,r[i])))},{})},Xz=function(e,r,n){return e.map(function(i){return"".concat(ZFe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function QFe(t,e){return t4e(t)||e4e(t,e)||kZ(t,e)||JFe()}function JFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function t4e(t){if(Array.isArray(t))return t}function r4e(t){return s4e(t)||i4e(t)||kZ(t)||n4e()}function n4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t,e){if(t){if(typeof t=="string")return H2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(t,e)}}function i4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s4e(t){if(Array.isArray(t))return H2(t)}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uA=1e-4,OZ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},MZ=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Zz=function(e,r){return function(n){var i=OZ(e,r);return MZ(i,n)}},a4e=function(e,r){return function(n){var i=OZ(e,r),s=[].concat(r4e(i.map(function(a,o){return a*o}).slice(1)),[0]);return MZ(s,n)}},Qz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=QFe(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var h=Zz(i,a),f=Zz(s,o),p=a4e(i,a),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,w=b,S=0;S<8;++S){var _=h(w)-b,A=p(w);if(Math.abs(_-b)<uA||A<uA)return f(w);w=v(w-_/A)}return f(w)};return g.isStepper=!1,g},o4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,c=function(d,h,f){var p=-(d-h)*n,v=f*s,g=f+(p-v)*o/1e3,x=f*o/1e3+d;return Math.abs(x-h)<uA&&Math.abs(g)<uA?[h,0]:[x,g]};return c.isStepper=!0,c.dt=o,c},l4e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qz(i);case"spring":return o4e();default:if(i.split("(")[0]==="cubic-bezier")return Qz(i)}return typeof i=="function"?i:null};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function Jz(t){return d4e(t)||u4e(t)||DZ(t)||c4e()}function c4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d4e(t){if(Array.isArray(t))return V2(t)}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(n){W2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W2(t,e,r){return e=h4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4e(t){var e=f4e(t,"string");return Gb(e)==="symbol"?e:String(e)}function f4e(t,e){if(Gb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4e(t,e){return v4e(t)||g4e(t,e)||DZ(t,e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(t,e){if(t){if(typeof t=="string")return V2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(t,e)}}function V2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function v4e(t){if(Array.isArray(t))return t}var dA=function(e,r,n){return e+(r-e)*n},q2=function(e){var r=e.from,n=e.to;return r!==n},y4e=function t(e,r,n){var i=Bx(function(s,a){if(q2(a)){var o=e(a.from,a.to,a.velocity),c=p4e(o,2),u=c[0],d=c[1];return On(On({},a),{},{from:u,velocity:d})}return a},r);return n<1?Bx(function(s,a){return q2(a)?On(On({},a),{},{velocity:dA(a.velocity,i[s].velocity,n),from:dA(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const x4e=function(t,e,r,n,i){var s=YFe(t,e),a=s.reduce(function(x,y){return On(On({},x),{},W2({},y,[t[y],e[y]]))},{}),o=s.reduce(function(x,y){return On(On({},x),{},W2({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Bx(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(q2).length},v=function(y){u||(u=y);var b=y-u,w=b/r.dt;o=y4e(r,o,w),i(On(On(On({},t),e),f())),u=y,p()||(c=requestAnimationFrame(h))},g=function(y){d||(d=y);var b=(y-d)/n,w=Bx(function(_,A){return dA.apply(void 0,Jz(A).concat([r(b)]))},a);if(i(On(On(On({},t),e),w)),b<1)c=requestAnimationFrame(h);else{var S=Bx(function(_,A){return dA.apply(void 0,Jz(A).concat([r(1)]))},a);i(On(On(On({},t),e),S))}};return h=r.isStepper?v:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}var b4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function w4e(t,e){if(t==null)return{};var r=_4e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _4e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function DP(t){return E4e(t)||A4e(t)||j4e(t)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function A4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E4e(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(r),!0).forEach(function(n){_x(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _x(t,e,r){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RZ(n.key),n)}}function P4e(t,e,r){return e&&N4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t){var e=T4e(t,"string");return Nv(e)==="symbol"?e:String(e)}function T4e(t,e){if(Nv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K2(t,e)}function K2(t,e){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K2(t,e)}function O4e(t){var e=M4e();return function(){var n=hA(t),i;if(e){var s=hA(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Y2(this,i)}}function Y2(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X2(t)}function X2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hA(t){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hA(t)}var hl=function(t){k4e(r,t);var e=O4e(r);function r(n,i){var s;C4e(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,c=a.attributeName,u=a.from,d=a.to,h=a.steps,f=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(X2(s)),s.changeStyle=s.changeStyle.bind(X2(s)),!o||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),Y2(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof f=="function")return s.state={style:u},Y2(s);s.state={style:c?_x({},c,u):u}}else s.state={style:{}};return s}return P4e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,f=this.state.style;if(o){if(!a){var p={style:c?_x({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(FFe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?h:i.to;if(this.state&&f){var x={style:c?_x({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(x)}this.runAnimation(ba(ba({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=x4e(a,o,l4e(u),c,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([f,d,v,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(g,x,y){if(y===0)return g;var b=x.duration,w=x.easing,S=w===void 0?"ease":w,_=x.style,A=x.properties,E=x.onAnimationEnd,N=y>0?a[y-1]:x,T=A||Object.keys(_);if(typeof S=="function"||S==="spring")return[].concat(DP(g),[s.runJSAnimation.bind(s,{from:N.style,to:_,duration:b,easing:S}),b]);var D=Xz(T,b,S),O=ba(ba(ba({},N.style),_),{},{transition:D});return[].concat(DP(g),[O,b,E]).filter(XFe)};return this.manager.start([c].concat(DP(a.reduce(p,[d,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qFe());var s=i.begin,a=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=o?_x({},o,c):c,x=Xz(Object.keys(g),a,u);v.start([d,s,ba(ba({},g),{},{transition:x}),a,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=w4e(i,b4e),u=j.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var h=function(p){var v=p.props,g=v.style,x=g===void 0?{}:g,y=v.className,b=j.cloneElement(p,ba(ba({},c),{},{style:ba(ba({},x),d),className:y}));return b};return u===1?h(j.Children.only(s)):z.createElement("div",null,j.Children.map(s,function(f){return h(f)}))}}]),r}(j.PureComponent);hl.displayName="Animate";hl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hl.propTypes={from:Et.oneOfType([Et.object,Et.string]),to:Et.oneOfType([Et.object,Et.string]),attributeName:Et.string,duration:Et.number,begin:Et.number,easing:Et.oneOfType([Et.string,Et.func]),steps:Et.arrayOf(Et.shape({duration:Et.number.isRequired,style:Et.object.isRequired,easing:Et.oneOfType([Et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Et.func]),properties:Et.arrayOf("string"),onAnimationEnd:Et.func})),children:Et.oneOfType([Et.node,Et.func]),isActive:Et.bool,canBegin:Et.bool,onAnimationEnd:Et.func,shouldReAnimate:Et.bool,onAnimationStart:Et.func,onAnimationReStart:Et.func};function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}function D4e(t,e){return L4e(t)||$4e(t,e)||I4e(t,e)||R4e()}function R4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(t,e){if(t){if(typeof t=="string")return rB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(t,e)}}function rB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function L4e(t){if(Array.isArray(t))return t}function nB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(r),!0).forEach(function(n){F4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F4e(t,e,r){return e=z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4e(t){var e=B4e(t,"string");return Kb(e)=="symbol"?e:e+""}function B4e(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sB=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=s[f]>a?a:s[f];d="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*h[1])),d+="L ".concat(e+n,",").concat(r+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*h[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);d="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},U4e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),h=Math.min(a,a+c),f=Math.max(a,a+c);return n>=u&&n<=d&&i>=h&&i<=f}return!1},H4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qI=function(e){var r=iB(iB({},H4e),e),n=j.useRef(),i=j.useState(-1),s=D4e(i,2),a=s[0],o=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=mt("recharts-rectangle",p);return b?z.createElement(hl,{canBegin:a>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(S){var _=S.width,A=S.height,E=S.x,N=S.y;return z.createElement(hl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:y,easing:v},z.createElement("path",fA({},et(r,!0),{className:w,d:sB(E,N,_,A,f),ref:n})))}):z.createElement("path",fA({},et(r,!0),{className:w,d:sB(c,u,d,h,f)}))};function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z2.apply(this,arguments)}var qC=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=mt("recharts-dot",s);return r===+r&&n===+n&&i===+i?j.createElement("circle",Z2({},et(e,!1),kj(e),{className:a,cx:r,cy:n,r:i})):null};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}var W4e=["x","y","top","left","width","height","className"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V4e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){q4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q4e(t,e,r){return e=G4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G4e(t){var e=K4e(t,"string");return Yb(e)=="symbol"?e:e+""}function K4e(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y4e(t,e){if(t==null)return{};var r=X4e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Z4e=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Q4e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,v=e.className,g=Y4e(e,W4e),x=V4e({x:n,y:s,top:o,left:u,width:h,height:p},g);return!ve(n)||!ve(s)||!ve(h)||!ve(p)||!ve(o)||!ve(u)?null:z.createElement("path",Q2({},et(x,!0),{className:mt("recharts-cross",v),d:Z4e(n,s,h,p,o,u)}))},J4e=YY,e3e=J4e(Object.getPrototypeOf,Object),t3e=e3e,r3e=Uc,n3e=t3e,i3e=Hc,s3e="[object Object]",a3e=Function.prototype,o3e=Object.prototype,IZ=a3e.toString,l3e=o3e.hasOwnProperty,c3e=IZ.call(Object);function u3e(t){if(!i3e(t)||r3e(t)!=s3e)return!1;var e=n3e(t);if(e===null)return!0;var r=l3e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&IZ.call(r)==c3e}var d3e=u3e;const h3e=Ft(d3e);var f3e=Uc,p3e=Hc,m3e="[object Boolean]";function g3e(t){return t===!0||t===!1||p3e(t)&&f3e(t)==m3e}var v3e=g3e;const y3e=Ft(v3e);function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pA.apply(this,arguments)}function x3e(t,e){return S3e(t)||_3e(t,e)||w3e(t,e)||b3e()}function b3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(t,e){if(t){if(typeof t=="string")return oB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oB(t,e)}}function oB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function S3e(t){if(Array.isArray(t))return t}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(n){j3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j3e(t,e,r){return e=A3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A3e(t){var e=E3e(t,"string");return Xb(e)=="symbol"?e:e+""}function E3e(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uB=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},C3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N3e=function(e){var r=cB(cB({},C3e),e),n=j.useRef(),i=j.useState(-1),s=x3e(i,2),a=s[0],o=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=mt("recharts-trapezoid",p);return y?z.createElement(hl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(w){var S=w.upperWidth,_=w.lowerWidth,A=w.height,E=w.x,N=w.y;return z.createElement(hl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},z.createElement("path",pA({},et(r,!0),{className:b,d:uB(E,N,S,_,A),ref:n})))}):z.createElement("g",null,z.createElement("path",pA({},et(r,!0),{className:b,d:uB(c,u,d,h,f)})))},P3e=["option","shapeType","propTransformer","activeClassName","isActive"];function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function T3e(t,e){if(t==null)return{};var r=k3e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){O3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O3e(t,e,r){return e=M3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M3e(t){var e=D3e(t,"string");return Zb(e)=="symbol"?e:e+""}function D3e(t,e){if(Zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R3e(t,e){return mA(mA({},e),t)}function I3e(t,e){return t==="symbols"}function hB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(qI,r);case"trapezoid":return z.createElement(N3e,r);case"sector":return z.createElement(AZ,r);case"symbols":if(I3e(e))return z.createElement(dI,r);break;default:return null}}function $3e(t){return j.isValidElement(t)?t.props:t}function L3e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?R3e:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,c=T3e(t,P3e),u;if(j.isValidElement(e))u=j.cloneElement(e,mA(mA({},c),$3e(e)));else if(Ze(e))u=e(c);else if(h3e(e)&&!y3e(e)){var d=i(e,c);u=z.createElement(hB,{shapeType:r,elementProps:d})}else{var h=c;u=z.createElement(hB,{shapeType:r,elementProps:h})}return o?z.createElement(qt,{className:a},u):u}function GC(t,e){return e!=null&&"trapezoids"in t.props}function KC(t,e){return e!=null&&"sectors"in t.props}function Qb(t,e){return e!=null&&"points"in t.props}function F3e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function z3e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function B3e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function U3e(t,e){var r;return GC(t,e)?r=F3e:KC(t,e)?r=z3e:Qb(t,e)&&(r=B3e),r}function H3e(t,e){var r;return GC(t,e)?r="trapezoids":KC(t,e)?r="sectors":Qb(t,e)&&(r="points"),r}function W3e(t,e){if(GC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(KC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Qb(t,e)?e.payload:{}}function V3e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=H3e(r,e),s=W3e(r,e),a=n.filter(function(c,u){var d=Ev(s,c),h=r.props[i].filter(function(v){var g=U3e(r,e);return g(v,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),o=n.indexOf(a[a.length-1]);return o}var q3e=Math.ceil,G3e=Math.max;function K3e(t,e,r,n){for(var i=-1,s=G3e(q3e((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=t,t+=r;return a}var Y3e=K3e,X3e=pX,fB=1/0,Z3e=17976931348623157e292;function Q3e(t){if(!t)return t===0?t:0;if(t=X3e(t),t===fB||t===-fB){var e=t<0?-1:1;return e*Z3e}return t===t?t:0}var $Z=Q3e,J3e=Y3e,e5e=IC,RP=$Z;function t5e(t){return function(e,r,n){return n&&typeof n!="number"&&e5e(e,r,n)&&(r=n=void 0),e=RP(e),r===void 0?(r=e,e=0):r=RP(r),n=n===void 0?e<r?1:-1:RP(n),J3e(e,r,n,t)}}var r5e=t5e,n5e=r5e,i5e=n5e(),s5e=i5e;const gA=Ft(s5e);function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){LZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LZ(t,e,r){return e=a5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a5e(t){var e=o5e(t,"string");return Jb(e)=="symbol"?e:e+""}function o5e(t,e){if(Jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l5e=["Webkit","Moz","O","ms"],c5e=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=l5e.reduce(function(s,a){return mB(mB({},s),{},LZ({},a+n,r))},{});return i[e]=r,i};function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(this,arguments)}function gB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(r),!0).forEach(function(n){Qi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zZ(n.key),n)}}function d5e(t,e,r){return e&&vB(t.prototype,e),r&&vB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h5e(t,e,r){return e=yA(e),f5e(t,FZ()?Reflect.construct(e,r||[],yA(t).constructor):e.apply(t,r))}function f5e(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p5e(t)}function p5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FZ=function(){return!!t})()}function yA(t){return yA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yA(t)}function m5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J2(t,e)}function Qi(t,e,r){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zZ(t){var e=g5e(t,"string");return Pv(e)=="symbol"?e:e+""}function g5e(t,e){if(Pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v5e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Fx().domain(gA(0,c)).range([s,s+a-o]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},yB=function(e){return e.changedTouches&&!!e.changedTouches.length},Tv=function(t){function e(r){var n;return u5e(this,e),n=h5e(this,e,[r]),Qi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Qi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Qi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),Qi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qi(n,"handleSlideDragStart",function(i){var s=yB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return m5e(e,t),d5e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,h=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(a,h),v=e.getIndexInRange(a,f);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,c=ji(s[n],o,n);return Ze(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,v=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-h-o,u+d-h-a):g<0&&(g=Math.max(g,u-a,u-o));var x=this.getIndex({startX:a+g,endX:o+g});(x.startIndex!==f||x.endIndex!==p)&&v&&v(x),this.setState({startX:a+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=yB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[a],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,v=d.onChange,g=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,h+f-p-u):b<0&&(b=Math.max(b,h-u)),y[a]=u+b;var w=this.getIndex(y),S=w.startIndex,_=w.endIndex,A=function(){var N=x.length-1;return a==="startX"&&(o>c?S%g===0:_%g===0)||o<c&&_===N||a==="endX"&&(o>c?_%g===0:S%g===0)||o>c&&_===N};this.setState(Qi(Qi({},a,u+b),"brushMoveStartX",n.pageX),function(){v&&A()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=o.length)){var p=o[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Qi({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,h=j.Children.only(u);return h?z.cloneElement(h,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,v=c.data,g=c.startIndex,x=c.endIndex,y=Math.max(n,this.props.x),b=IP(IP({},et(this.props,!1)),{},{x:y,y:u,width:d,height:h}),w=p||"Min value: ".concat((s=v[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[x])===null||a===void 0?void 0:a.name);return z.createElement(qt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,v={pointerEvents:"none",fill:u};return z.createElement(qt,{className:"recharts-brush-texts"},z.createElement(qj,vA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:a+o/2},v),this.getTextOfTick(i)),z.createElement(qj,vA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:a+o/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,v=f.endX,g=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!ve(o)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var w=mt("recharts-brush",s),S=z.Children.count(a)===1,_=c5e("userSelect","none");return z.createElement(qt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||y||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,c=n.stroke,u=Math.floor(s+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:a,height:o,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ze(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return IP({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?v5e({data:s,width:a,x:o,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+a-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var c=Math.floor((a+o)/2);n[c]>i?o=c:a=c}return i>=n[o]?o:a}}])}(j.PureComponent);Qi(Tv,"displayName","Brush");Qi(Tv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var y5e=yI;function x5e(t,e){var r;return y5e(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var b5e=x5e,w5e=BY,_5e=Bd,S5e=b5e,j5e=Yi,A5e=IC;function E5e(t,e,r){var n=j5e(t)?w5e:S5e;return r&&A5e(t,e,r)&&(e=void 0),n(t,_5e(e))}var C5e=E5e;const N5e=Ft(C5e);var sl=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},xB=cX;function P5e(t,e,r){e=="__proto__"&&xB?xB(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var T5e=P5e,k5e=T5e,O5e=oX,M5e=Bd;function D5e(t,e){var r={};return e=M5e(e),O5e(t,function(n,i,s){k5e(r,i,e(n,i,s))}),r}var R5e=D5e;const I5e=Ft(R5e);function $5e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var L5e=$5e,F5e=yI;function z5e(t,e){var r=!0;return F5e(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var B5e=z5e,U5e=L5e,H5e=B5e,W5e=Bd,V5e=Yi,q5e=IC;function G5e(t,e,r){var n=V5e(t)?U5e:H5e;return r&&q5e(t,e,r)&&(e=void 0),n(t,W5e(e))}var K5e=G5e;const BZ=Ft(K5e);var Y5e=["x","y"];function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function eM(){return eM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eM.apply(this,arguments)}function bB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(r),!0).forEach(function(n){X5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X5e(t,e,r){return e=Z5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z5e(t){var e=Q5e(t,"string");return e0(e)=="symbol"?e:e+""}function Q5e(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J5e(t,e){if(t==null)return{};var r=eze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tze(t,e){var r=t.x,n=t.y,i=J5e(t,Y5e),s="".concat(r),a=parseInt(s,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return qy(qy(qy(qy(qy({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function wB(t){return z.createElement(L3e,eM({shapeType:"rectangle",propTransformer:tze,activeClassName:"recharts-active-bar"},t))}var rze=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=ve(n)||bSe(n);return s?e(n,i):(s||rp(),r)}},nze=["value","background"],UZ;function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function ize(t,e){if(t==null)return{};var r=sze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(n){cd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WZ(n.key),n)}}function oze(t,e,r){return e&&SB(t.prototype,e),r&&SB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lze(t,e,r){return e=bA(e),cze(t,HZ()?Reflect.construct(e,r||[],bA(t).constructor):e.apply(t,r))}function cze(t,e){if(e&&(kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uze(t)}function uze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HZ=function(){return!!t})()}function bA(t){return bA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bA(t)}function dze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tM(t,e)}function tM(t,e){return tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tM(t,e)}function cd(t,e,r){return e=WZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WZ(t){var e=hze(t,"string");return kv(e)=="symbol"?e:e+""}function hze(t,e){if(kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sa=function(t){function e(){var r;aze(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=lze(this,e,[].concat(i)),cd(r,"state",{isAnimationFinished:!1}),cd(r,"id",uy("recharts-bar-")),cd(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),cd(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return dze(e,t),oze(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,c=s.activeIndex,u=s.activeBar,d=et(this.props,!1);return n&&n.map(function(h,f){var p=f===c,v=p?u:a,g=Rr(Rr(Rr({},d),h),{},{isActive:p,option:v,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(qt,xA({className:"recharts-bar-rectangle"},Oj(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),z.createElement(wB,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return z.createElement(hl,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=s.map(function(x,y){var b=f&&f[y];if(b){var w=In(b.x,x.x),S=In(b.y,x.y),_=In(b.width,x.width),A=In(b.height,x.height);return Rr(Rr({},x),{},{x:w(v),y:S(v),width:_(v),height:A(v)})}if(a==="horizontal"){var E=In(0,x.height),N=E(v);return Rr(Rr({},x),{},{y:x.y+x.height-N,height:N})}var T=In(0,x.width),D=T(v);return Rr(Rr({},x),{},{width:D})});return z.createElement(qt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Ev(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,c=et(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,f=ize(u,nze);if(!h)return null;var p=Rr(Rr(Rr(Rr(Rr({},f),{},{fill:"#eee"},h),c),Oj(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(wB,xA({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=ia(d,f_);if(!h)return null;var f=u==="vertical"?a[0].height/2:a[0].width/2,p=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:ji(x,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(qt,v,h.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:o,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,v=n.background,g=n.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=mt("recharts-bar",a),b=o&&o.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,_=ot(g)?this.id:g;return z.createElement(qt,{className:y},b||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:b?u:u-h/2,y:w?d:d-f/2,width:b?h:h*2,height:w?f:f*2}))):null,z.createElement(qt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,_),(!p||x)&&Ec.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);UZ=sa;cd(sa,"displayName","Bar");cd(sa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cd(sa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=U$e(n,r);if(!p)return null;var v=e.layout,g=r.type.defaultProps,x=g!==void 0?Rr(Rr({},g),r.props):r.props,y=x.dataKey,b=x.children,w=x.minPointSize,S=v==="horizontal"?a:s,_=u?S.scale.domain():null,A=X$e({numericAxis:S}),E=ia(b,gX),N=h.map(function(T,D){var O,I,F,$,B,L;u?O=H$e(u[d+D],_):(O=ji(T,y),Array.isArray(O)||(O=[A,O]));var P=rze(w,UZ.defaultProps.minPointSize)(O[1],D);if(v==="horizontal"){var R,U=[a.scale(O[0]),a.scale(O[1])],Y=U[0],J=U[1];I=_z({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:T,index:D}),F=(R=J??Y)!==null&&R!==void 0?R:void 0,$=p.size;var X=Y-J;if(B=Number.isNaN(X)?0:X,L={x:I,y:a.y,width:$,height:a.height},Math.abs(P)>0&&Math.abs(B)<Math.abs(P)){var ee=Ka(B||P)*(Math.abs(P)-Math.abs(B));F-=ee,B+=ee}}else{var ue=[s.scale(O[0]),s.scale(O[1])],we=ue[0],je=ue[1];if(I=we,F=_z({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:T,index:D}),$=je-we,B=p.size,L={x:s.x,y:F,width:s.width,height:B},Math.abs(P)>0&&Math.abs($)<Math.abs(P)){var V=Ka($||P)*(Math.abs(P)-Math.abs($));$+=V}}return Rr(Rr(Rr({},T),{},{x:I,y:F,width:$,height:B,value:u?O:O[1],payload:T,background:L},E&&E[D]&&E[D].props),{},{tooltipPayload:[_Z(r,T)],tooltipPosition:{x:I+$/2,y:F+B/2}})});return Rr({data:N,layout:v},f)});function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function fze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VZ(n.key),n)}}function pze(t,e,r){return e&&jB(t.prototype,e),r&&jB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(r),!0).forEach(function(n){YC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YC(t,e,r){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VZ(t){var e=mze(t,"string");return t0(e)=="symbol"?e:e+""}function mze(t,e){if(t0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GI=function(e,r,n,i,s){var a=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},f=!!gs(u,sa);return d.reduce(function(p,v){var g=r[v],x=g.orientation,y=g.domain,b=g.padding,w=b===void 0?{}:b,S=g.mirror,_=g.reversed,A="".concat(x).concat(S?"Mirror":""),E,N,T,D,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=y[1]-y[0],F=1/0,$=g.categoricalDomain.sort(SSe);if($.forEach(function(ue,we){we>0&&(F=Math.min((ue||0)-($[we-1]||0),F))}),Number.isFinite(F)){var B=F/I,L=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=B*L/2),g.padding==="no-gap"){var P=ep(e.barCategoryGap,B*L),R=B*L/2;E=R-P-(R-P)/L*P}}}i==="xAxis"?N=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:i==="yAxis"?N=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:N=g.range,_&&(N=[N[1],N[0]]);var U=z$e(g,s,f),Y=U.scale,J=U.realScaleType;Y.domain(y).range(N),B$e(Y);var X=Y$e(Y,Ua(Ua({},g),{},{realScaleType:J}));i==="xAxis"?(O=x==="top"&&!S||x==="bottom"&&S,T=n.left,D=h[A]-O*g.height):i==="yAxis"&&(O=x==="left"&&!S||x==="right"&&S,T=h[A]-O*g.width,D=n.top);var ee=Ua(Ua(Ua({},g),X),{},{realScaleType:J,x:T,y:D,scale:Y,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return ee.bandSize=oA(ee,X),!g.hide&&i==="xAxis"?h[A]+=(O?-1:1)*ee.height:g.hide||(h[A]+=(O?-1:1)*ee.width),Ua(Ua({},p),{},YC({},v,ee))},{})},qZ=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},gze=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return qZ({x:r,y:n},{x:i,y:s})},GZ=function(){function t(e){fze(this,t),this.scale=e}return pze(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();YC(GZ,"EPS",1e-4);var KI=function(e){var r=Object.keys(e).reduce(function(n,i){return Ua(Ua({},n),{},YC({},i,GZ.create(e[i])))},{});return Ua(Ua({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return I5e(i,function(c,u){return r[u].apply(c,{bandAware:a,position:o})})},isInRange:function(i){return BZ(i,function(s,a){return r[a].isInRange(s)})}})};function vze(t){return(t%180+180)%180}var yze=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=vze(i),a=s*Math.PI/180,o=Math.atan(n/r),c=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},xze=Bd,bze=l_,wze=DC;function _ze(t){return function(e,r,n){var i=Object(e);if(!bze(e)){var s=xze(r);e=wze(e),r=function(o){return s(i[o],o,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:void 0}}var Sze=_ze,jze=$Z;function Aze(t){var e=jze(t),r=e%1;return e===e?r?e-r:e:0}var Eze=Aze,Cze=tX,Nze=Bd,Pze=Eze,Tze=Math.max;function kze(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Pze(r);return i<0&&(i=Tze(n+i,0)),Cze(t,Nze(e),i)}var Oze=kze,Mze=Sze,Dze=Oze,Rze=Mze(Dze),Ize=Rze;const $ze=Ft(Ize);var Lze=E1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),YI=j.createContext(void 0),XI=j.createContext(void 0),KZ=j.createContext(void 0),YZ=j.createContext({}),XZ=j.createContext(void 0),ZZ=j.createContext(0),QZ=j.createContext(0),EB=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,c=e.width,u=e.height,d=Lze(s);return z.createElement(YI.Provider,{value:n},z.createElement(XI.Provider,{value:i},z.createElement(YZ.Provider,{value:s},z.createElement(KZ.Provider,{value:d},z.createElement(XZ.Provider,{value:a},z.createElement(ZZ.Provider,{value:u},z.createElement(QZ.Provider,{value:c},o)))))))},Fze=function(){return j.useContext(XZ)},JZ=function(e){var r=j.useContext(YI);r==null&&rp();var n=r[e];return n==null&&rp(),n},zze=function(){var e=j.useContext(YI);return du(e)},Bze=function(){var e=j.useContext(XI),r=$ze(e,function(n){return BZ(n.domain,Number.isFinite)});return r||du(e)},eQ=function(e){var r=j.useContext(XI);r==null&&rp();var n=r[e];return n==null&&rp(),n},Uze=function(){var e=j.useContext(KZ);return e},Hze=function(){return j.useContext(YZ)},ZI=function(){return j.useContext(QZ)},QI=function(){return j.useContext(ZZ)};function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function Wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rQ(n.key),n)}}function qze(t,e,r){return e&&Vze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gze(t,e,r){return e=wA(e),Kze(t,tQ()?Reflect.construct(e,r||[],wA(t).constructor):e.apply(t,r))}function Kze(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yze(t)}function Yze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!t})()}function wA(t){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wA(t)}function Xze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rM(t,e)}function rM(t,e){return rM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rM(t,e)}function CB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(r),!0).forEach(function(n){JI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JI(t,e,r){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rQ(t){var e=Zze(t,"string");return Ov(e)=="symbol"?e:e+""}function Zze(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qze(t,e){return rBe(t)||tBe(t,e)||eBe(t,e)||Jze()}function Jze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(t,e){if(t){if(typeof t=="string")return PB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PB(t,e)}}function PB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function rBe(t){if(Array.isArray(t))return t}function nM(){return nM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nM.apply(this,arguments)}var nBe=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ze(e)?n=e(r):n=z.createElement("line",nM({},r,{className:"recharts-reference-line-line"})),n},iBe=function(e,r,n,i,s,a,o,c,u){var d=s.x,h=s.y,f=s.width,p=s.height;if(n){var v=u.y,g=e.y.apply(v,{position:a});if(sl(u,"discard")&&!e.y.isInRange(g))return null;var x=[{x:d+f,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var y=u.x,b=e.x.apply(y,{position:a});if(sl(u,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:h+p},{x:b,y:h}];return o==="top"?w.reverse():w}if(i){var S=u.segment,_=S.map(function(A){return e.apply(A,{position:a})});return sl(u,"discard")&&N5e(_,function(A){return!e.isInRange(A)})?null:_}return null};function sBe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,c=t.alwaysShow,u=Fze(),d=JZ(i),h=eQ(s),f=Uze();if(!u||!f)return null;jc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=KI({x:d.scale,y:h.scale}),v=on(e),g=on(r),x=n&&n.length===2,y=iBe(p,v,g,x,f,t.position,d.orientation,h.orientation,t);if(!y)return null;var b=Qze(y,2),w=b[0],S=w.x,_=w.y,A=b[1],E=A.x,N=A.y,T=sl(t,"hidden")?"url(#".concat(u,")"):void 0,D=NB(NB({clipPath:T},et(t,!0)),{},{x1:S,y1:_,x2:E,y2:N});return z.createElement(qt,{className:mt("recharts-reference-line",o)},nBe(a,D),ei.renderCallByParent(t,gze({x1:S,y1:_,x2:E,y2:N})))}var e$=function(t){function e(){return Wze(this,e),Gze(this,e,arguments)}return Xze(e,t),qze(e,[{key:"render",value:function(){return z.createElement(sBe,this.props)}}])}(z.Component);JI(e$,"displayName","ReferenceLine");JI(e$,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iM(){return iM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iM.apply(this,arguments)}function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){XC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iQ(n.key),n)}}function lBe(t,e,r){return e&&oBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cBe(t,e,r){return e=_A(e),uBe(t,nQ()?Reflect.construct(e,r||[],_A(t).constructor):e.apply(t,r))}function uBe(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dBe(t)}function dBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!t})()}function _A(t){return _A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_A(t)}function hBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sM(t,e)}function sM(t,e){return sM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sM(t,e)}function XC(t,e,r){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iQ(t){var e=fBe(t,"string");return Mv(e)=="symbol"?e:e+""}function fBe(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pBe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=KI({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return sl(e,"discard")&&!a.isInRange(o)?null:o},ZC=function(t){function e(){return aBe(this,e),cBe(this,e,arguments)}return hBe(e,t),lBe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,c=n.clipPathId,u=on(i),d=on(s);if(jc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=pBe(this.props);if(!h)return null;var f=h.x,p=h.y,v=this.props,g=v.shape,x=v.className,y=sl(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=kB(kB({clipPath:y},et(this.props,!0)),{},{cx:f,cy:p});return z.createElement(qt,{className:mt("recharts-reference-dot",x)},e.renderDot(g,b),ei.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(z.Component);XC(ZC,"displayName","ReferenceDot");XC(ZC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});XC(ZC,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ze(t)?r=t(e):r=z.createElement(qC,iM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function aM(){return aM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aM.apply(this,arguments)}function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){QC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aQ(n.key),n)}}function vBe(t,e,r){return e&&gBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yBe(t,e,r){return e=SA(e),xBe(t,sQ()?Reflect.construct(e,r||[],SA(t).constructor):e.apply(t,r))}function xBe(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bBe(t)}function bBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sQ=function(){return!!t})()}function SA(t){return SA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SA(t)}function wBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oM(t,e)}function oM(t,e){return oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oM(t,e)}function QC(t,e,r){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=_Be(t,"string");return Dv(e)=="symbol"?e:e+""}function _Be(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SBe=function(e,r,n,i,s){var a=s.x1,o=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var f=KI({x:d.scale,y:h.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return sl(s,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:qZ(p,v)},JC=function(t){function e(){return mBe(this,e),yBe(this,e,arguments)}return wBe(e,t),vBe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;jc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=on(i),f=on(s),p=on(a),v=on(o),g=this.props.shape;if(!h&&!f&&!p&&!v&&!g)return null;var x=SBe(h,f,p,v,this.props);if(!x&&!g)return null;var y=sl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(qt,{className:mt("recharts-reference-area",c)},e.renderRect(g,MB(MB({clipPath:y},et(this.props,!0)),x)),ei.renderCallByParent(this.props,x))}}])}(z.Component);QC(JC,"displayName","ReferenceArea");QC(JC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});QC(JC,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ze(t)?r=t(e):r=z.createElement(qI,aM({},e,{className:"recharts-reference-area-rect"})),r});function oQ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function jBe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return yze(n,r)}function ABe(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function jA(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function EBe(t,e){return oQ(t,e+1)}function CBe(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,c=0,u=1,d=a,h=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:oQ(n,u)};var g=c,x,y=function(){return x===void 0&&(x=r(v,g)),x},b=v.coordinate,w=c===0||jA(t,b,y,d,o);w||(c=0,d=a,u+=1),w&&(d=b+t*(y()/2+i),c+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function DB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(r),!0).forEach(function(n){NBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NBe(t,e,r){return e=PBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PBe(t){var e=TBe(t,"string");return r0(e)=="symbol"?e:e+""}function TBe(t,e){if(r0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kBe(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,c=e.end,u=function(f){var p=s[f],v,g=function(){return v===void 0&&(v=r(p,f)),v};if(f===a-1){var x=t*(p.coordinate+t*g()/2-c);s[f]=p=Qn(Qn({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else s[f]=p=Qn(Qn({},p),{},{tickCoord:p.coordinate});var y=jA(t,p.tickCoord,g,o,c);y&&(c=p.tickCoord-t*(g()/2+i),s[f]=Qn(Qn({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function OBe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,c=e.start,u=e.end;if(s){var d=n[o-1],h=r(d,o-1),f=t*(d.coordinate+t*h/2-u);a[o-1]=d=Qn(Qn({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=jA(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),a[o-1]=Qn(Qn({},d),{},{isShow:!0}))}for(var v=s?o-1:o,g=function(b){var w=a[b],S,_=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var A=t*(w.coordinate-t*_()/2-c);a[b]=w=Qn(Qn({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else a[b]=w=Qn(Qn({},w),{},{tickCoord:w.coordinate});var E=jA(t,w.tickCoord,_,c,u);E&&(c=w.tickCoord+t*(_()/2+i),a[b]=Qn(Qn({},w),{},{isShow:!0}))},x=0;x<v;x++)g(x);return a}function t$(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(ve(c)||wp.isSsr)return EBe(i,typeof c=="number"&&ve(c)?c:0);var f=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?Lx(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,S){var _=Ze(u)?u(w.value,S):w.value;return p==="width"?jBe(Lx(_,{fontSize:e,letterSpacing:r}),v,h):Lx(_,{fontSize:e,letterSpacing:r})[p]},x=i.length>=2?Ka(i[1].coordinate-i[0].coordinate):1,y=ABe(s,x,p);return c==="equidistantPreserveStart"?CBe(x,y,g,i,a):(c==="preserveStart"||c==="preserveStartEnd"?f=OBe(x,y,g,i,a,c==="preserveStartEnd"):f=kBe(x,y,g,i,a),f.filter(function(b){return b.isShow}))}var MBe=["viewBox"],DBe=["viewBox"],RBe=["ticks"];function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}function RB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(r),!0).forEach(function(n){r$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $P(t,e){if(t==null)return{};var r=IBe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cQ(n.key),n)}}function LBe(t,e,r){return e&&IB(t.prototype,e),r&&IB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FBe(t,e,r){return e=AA(e),zBe(t,lQ()?Reflect.construct(e,r||[],AA(t).constructor):e.apply(t,r))}function zBe(t,e){if(e&&(Rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BBe(t)}function BBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!t})()}function AA(t){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AA(t)}function UBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lM(t,e)}function lM(t,e){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lM(t,e)}function r$(t,e,r){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cQ(t){var e=HBe(t,"string");return Rv(e)=="symbol"?e:e+""}function HBe(t,e){if(Rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vy=function(t){function e(r){var n;return $Be(this,e),n=FBe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return UBe(e,t),LBe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=$P(n,MBe),o=this.props,c=o.viewBox,u=$P(o,DBe);return!Em(s,c)||!Em(a,u)||!Em(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,v,g,x,y,b,w=h?-1:1,S=n.tickSize||d,_=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=a+ +!h*c,g=x-w*S,b=g-w*f,y=_;break;case"left":g=x=n.coordinate,v=s+ +!h*o,p=v-w*S,y=p-w*f,b=_;break;case"right":g=x=n.coordinate,v=s+ +h*o,p=v+w*S,y=p+w*f,b=_;break;default:p=v=n.coordinate,x=a+ +h*c,g=x+w*S,b=g+w*f,y=_;break}return{line:{x1:p,y1:g,x2:v,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Xr(Xr(Xr({},et(this.props,!1)),et(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Xr(Xr({},h),{},{x1:i,y1:s+f*o,x2:i+a,y2:s+f*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Xr(Xr({},h),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return z.createElement("line",um({},h,{className:mt("recharts-cartesian-axis-line",na(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,h=o.tickFormatter,f=o.unit,p=t$(Xr(Xr({},this.props),{},{ticks:n}),i,s),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=et(this.props,!1),y=et(d,!1),b=Xr(Xr({},x),{},{fill:"none"},et(c,!1)),w=p.map(function(S,_){var A=a.getTickLineCoord(S),E=A.line,N=A.tick,T=Xr(Xr(Xr(Xr({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:u},y),N),{},{index:_,payload:S,visibleTicksCount:p.length,tickFormatter:h});return z.createElement(qt,um({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Oj(a.props,S,_)),c&&z.createElement("line",um({},b,E,{className:mt("recharts-cartesian-axis-tick-line",na(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ze(h)?h(S.value,_):S.value).concat(f||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=$P(h,RBe),v=f;return Ze(c)&&(v=f&&f.length>0?c(this.props):c(p)),a<=0||o<=0||!v||!v.length?null:z.createElement(qt,{className:mt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ei.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,o=mt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?a=z.cloneElement(n,Xr(Xr({},i),{},{className:o})):Ze(n)?a=n(Xr(Xr({},i),{},{className:o})):a=z.createElement(qj,um({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(j.Component);r$(vy,"displayName","CartesianAxis");r$(vy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WBe=["x1","y1","x2","y2","key"],VBe=["offset"];function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function $B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(r),!0).forEach(function(n){qBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qBe(t,e,r){return e=GBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GBe(t){var e=KBe(t,"string");return np(e)=="symbol"?e:e+""}function KBe(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yh.apply(this,arguments)}function LB(t,e){if(t==null)return{};var r=YBe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XBe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,c=e.ry;return z.createElement("rect",{x:i,y:s,ry:c,width:a,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uQ(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ze(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,c=LB(e,WBe),u=et(c,!1);u.offset;var d=LB(u,VBe);r=z.createElement("line",yh({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function ZBe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=ti(ti({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return uQ(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function QBe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=ti(ti({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return uQ(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function JBe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],g=v?i+a-f:d[p+1]-f;if(g<=0)return null;var x=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function e6e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],g=v?s+o-f:d[p+1]-f;if(g<=0)return null;var x=p%n.length;return z.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var t6e=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return bZ(t$(ti(ti(ti({},vy.defaultProps),n),{},{ticks:wc(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},r6e=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return bZ(t$(ti(ti(ti({},vy.defaultProps),n),{},{ticks:wc(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},Lp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qs(t){var e,r,n,i,s,a,o=ZI(),c=QI(),u=Hze(),d=ti(ti({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Lp.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Lp.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Lp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Lp.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Lp.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Lp.verticalFill,x:ve(t.x)?t.x:u.left,y:ve(t.y)?t.y:u.top,width:ve(t.width)?t.width:u.width,height:ve(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,v=d.height,g=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,b=zze(),w=Bze();if(!ve(p)||p<=0||!ve(v)||v<=0||!ve(h)||h!==+h||!ve(f)||f!==+f)return null;var S=d.verticalCoordinatesGenerator||t6e,_=d.horizontalCoordinatesGenerator||r6e,A=d.horizontalPoints,E=d.verticalPoints;if((!A||!A.length)&&Ze(_)){var N=x&&x.length,T=_({yAxis:w?ti(ti({},w),{},{ticks:N?x:w.ticks}):void 0,width:o,height:c,offset:u},N?!0:g);jc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(np(T),"]")),Array.isArray(T)&&(A=T)}if((!E||!E.length)&&Ze(S)){var D=y&&y.length,O=S({xAxis:b?ti(ti({},b),{},{ticks:D?y:b.ticks}):void 0,width:o,height:c,offset:u},D?!0:g);jc(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(np(O),"]")),Array.isArray(O)&&(E=O)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(XBe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(ZBe,yh({},d,{offset:u,horizontalPoints:A,xAxis:b,yAxis:w})),z.createElement(QBe,yh({},d,{offset:u,verticalPoints:E,xAxis:b,yAxis:w})),z.createElement(JBe,yh({},d,{horizontalPoints:A})),z.createElement(e6e,yh({},d,{verticalPoints:E})))}Qs.displayName="CartesianGrid";var n6e=["type","layout","connectNulls","ref"],i6e=["key"];function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function FB(t,e){if(t==null)return{};var r=s6e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ux.apply(this,arguments)}function zB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(r),!0).forEach(function(n){Ha(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fp(t){return c6e(t)||l6e(t)||o6e(t)||a6e()}function a6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(t,e){if(t){if(typeof t=="string")return cM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cM(t,e)}}function l6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c6e(t){if(Array.isArray(t))return cM(t)}function cM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hQ(n.key),n)}}function d6e(t,e,r){return e&&BB(t.prototype,e),r&&BB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h6e(t,e,r){return e=EA(e),f6e(t,dQ()?Reflect.construct(e,r||[],EA(t).constructor):e.apply(t,r))}function f6e(t,e){if(e&&(Iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p6e(t)}function p6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!t})()}function EA(t){return EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},EA(t)}function m6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uM(t,e)}function uM(t,e){return uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uM(t,e)}function Ha(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=g6e(t,"string");return Iv(e)=="symbol"?e:e+""}function g6e(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p_=function(t){function e(){var r;u6e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=h6e(this,e,[].concat(i)),Ha(r,"state",{isAnimationFinished:!0,totalLength:0}),Ha(r,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Ha(r,"getStrokeDasharray",function(a,o,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/u),h=a%u,f=o-a,p=[],v=0,g=0;v<c.length;g+=c[v],++v)if(g+c[v]>h){p=[].concat(Fp(c.slice(0,v)),[h-g]);break}var x=p.length%2===0?[0,f]:[f];return[].concat(Fp(e.repeat(c,d)),Fp(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Ha(r,"id",uy("recharts-line-")),Ha(r,"pathRef",function(a){r.mainCurve=a}),Ha(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ha(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return m6e(e,t),d6e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=ia(d,f_);if(!h)return null;var f=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:ji(g.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(qt,p,h.map(function(v){return z.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:o,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,h=et(this.props,!1),f=et(c,!0),p=u.map(function(g,x){var y=Xi(Xi(Xi({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(qt,Ux({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,s,a){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var h=FB(o,n6e),f=Xi(Xi(Xi({},et(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:c,layout:u,connectNulls:d});return z.createElement(Tm,Ux({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,c=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,v=a.animateNewValues,g=a.width,x=a.height,y=this.state,b=y.prevPoints,w=y.totalLength;return z.createElement(hl,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var _=S.t;if(b){var A=b.length/o.length,E=o.map(function(I,F){var $=Math.floor(F*A);if(b[$]){var B=b[$],L=In(B.x,I.x),P=In(B.y,I.y);return Xi(Xi({},I),{},{x:L(_),y:P(_)})}if(v){var R=In(g*2,I.x),U=In(x/2,I.y);return Xi(Xi({},I),{},{x:R(_),y:U(_)})}return Xi(Xi({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(E,n,i)}var N=In(0,w),T=N(_),D;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});D=s.getStrokeDasharray(T,w,O)}else D=s.generateSimpleStrokeDasharray(w,T);return s.renderCurveStatically(o,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var s=this.props,a=s.points,o=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&a&&a.length&&(!u&&d>0||!Ev(u,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,v=i.height,g=i.isAnimationActive,x=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=mt("recharts-line",c),S=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,A=S||_,E=ot(x)?this.id:x,N=(n=et(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=N.r,D=T===void 0?3:T,O=N.strokeWidth,I=O===void 0?2:O,F=hY(a)?a:{},$=F.clipDot,B=$===void 0?!0:$,L=D*2+I;return z.createElement(qt,{className:w},S||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:S?f:f-p/2,y:_?h:h-v/2,width:S?p:p*2,height:_?v:v*2})),!B&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:f-L/2,y:h-L/2,width:p+L,height:v+L}))):null,!b&&this.renderCurve(A,E),this.renderErrorBar(A,E),(b||a)&&this.renderDots(A,B,E),(!g||y)&&Ec.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Fp(n),[0]):n,a=[],o=0;o<i;++o)a=[].concat(Fp(a),Fp(s));return a}},{key:"renderDotItem",value:function(n,i){var s;if(z.isValidElement(n))s=z.cloneElement(n,i);else if(Ze(n))s=n(i);else{var a=i.key,o=FB(i,i6e),c=mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=z.createElement(qC,Ux({key:a},o,{className:c}))}return s}}])}(j.PureComponent);Ha(p_,"displayName","Line");Ha(p_,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ha(p_,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var v=ji(f,a);return d==="horizontal"?{x:aA({axis:r,ticks:i,bandSize:o,entry:f,index:p}),y:ot(v)?null:n.scale(v),value:v,payload:f}:{x:ot(v)?null:r.scale(v),y:aA({axis:n,ticks:s,bandSize:o,entry:f,index:p}),value:v,payload:f}});return Xi({points:h,layout:d},u)});var v6e=["layout","type","stroke","connectNulls","isRange","ref"],y6e=["key"],fQ;function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function pQ(t,e){if(t==null)return{};var r=x6e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xh.apply(this,arguments)}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gQ(n.key),n)}}function w6e(t,e,r){return e&&HB(t.prototype,e),r&&HB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _6e(t,e,r){return e=CA(e),S6e(t,mQ()?Reflect.construct(e,r||[],CA(t).constructor):e.apply(t,r))}function S6e(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6e(t)}function j6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mQ=function(){return!!t})()}function CA(t){return CA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CA(t)}function A6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dM(t,e)}function dM(t,e){return dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dM(t,e)}function Jo(t,e,r){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gQ(t){var e=E6e(t,"string");return $v(e)=="symbol"?e:e+""}function E6e(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lo=function(t){function e(){var r;b6e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=_6e(this,e,[].concat(i)),Jo(r,"state",{isAnimationFinished:!0}),Jo(r,"id",uy("recharts-area-")),Jo(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ze(a)&&a()}),Jo(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ze(a)&&a()}),r}return A6e(e,t),w6e(e,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=et(this.props,!1),p=et(u,!0),v=d.map(function(x,y){var b=nu(nu(nu({key:"dot-".concat(y),r:3},f),p),{},{index:y,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:d});return e.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(qt,xh({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=n*Math.abs(c-u),h=ld(a.map(function(f){return f.y||0}));return ve(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(ld(s.map(function(f){return f.y||0})),h)),ve(h)?z.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=n*Math.abs(c-u),h=ld(a.map(function(f){return f.x||0}));return ve(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(ld(s.map(function(f){return f.x||0})),h)),ve(h)?z.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var o=this.props,c=o.layout,u=o.type,d=o.stroke,h=o.connectNulls,f=o.isRange;o.ref;var p=pQ(o,v6e);return z.createElement(qt,{clipPath:s?"url(#clipPath-".concat(a,")"):null},z.createElement(Tm,xh({},et(p,!0),{points:n,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&z.createElement(Tm,xh({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&f&&z.createElement(Tm,xh({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,v=this.state,g=v.prevPoints,x=v.prevBaseLine;return z.createElement(hl,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(g){var w=g.length/o.length,S=o.map(function(N,T){var D=Math.floor(T*w);if(g[D]){var O=g[D],I=In(O.x,N.x),F=In(O.y,N.y);return nu(nu({},N),{},{x:I(b),y:F(b)})}return N}),_;if(ve(c)&&typeof c=="number"){var A=In(x,c);_=A(b)}else if(ot(c)||cy(c)){var E=In(x,0);_=E(b)}else _=c.map(function(N,T){var D=Math.floor(T*w);if(x[D]){var O=x[D],I=In(O.x,N.x),F=In(O.y,N.y);return nu(nu({},N),{},{x:I(b),y:F(b)})}return N});return s.renderAreaStatically(S,_,n,i)}return z.createElement(qt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(b))),z.createElement(qt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,o=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&a&&a.length&&(!d&&f>0||!Ev(d,a)||!Ev(h,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,c=i.className,u=i.top,d=i.left,h=i.xAxis,f=i.yAxis,p=i.width,v=i.height,g=i.isAnimationActive,x=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=mt("recharts-area",c),S=h&&h.allowDataOverflow,_=f&&f.allowDataOverflow,A=S||_,E=ot(x)?this.id:x,N=(n=et(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=N.r,D=T===void 0?3:T,O=N.strokeWidth,I=O===void 0?2:O,F=hY(a)?a:{},$=F.clipDot,B=$===void 0?!0:$,L=D*2+I;return z.createElement(qt,{className:w},S||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:S?d:d-p/2,y:_?u:u-v/2,width:S?p:p*2,height:_?v:v*2})),!B&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:d-L/2,y:u-L/2,width:p+L,height:v+L}))):null,b?null:this.renderArea(A,E),(a||b)&&this.renderDots(A,B,E),(!g||y)&&Ec.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);fQ=lo;Jo(lo,"displayName","Area");Jo(lo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Jo(lo,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(ve(o)&&typeof o=="number")return o;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return o==="dataMin"?h:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Jo(lo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=e.layout,v=u&&u.length,g=fQ.getBaseValue(e,r,n,i),x=p==="horizontal",y=!1,b=h.map(function(S,_){var A;v?A=u[d+_]:(A=ji(S,c),Array.isArray(A)?y=!0:A=[g,A]);var E=A[1]==null||v&&ji(S,c)==null;return x?{x:aA({axis:n,ticks:s,bandSize:o,entry:S,index:_}),y:E?null:i.scale(A[1]),value:A,payload:S}:{x:E?null:n.scale(A[1]),y:aA({axis:i,ticks:a,bandSize:o,entry:S,index:_}),value:A,payload:S}}),w;return v||y?w=b.map(function(S){var _=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:_!=null&&S.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:S.y}}):w=x?i.scale(g):n.scale(g),nu({points:b,baseLine:w,layout:p,isRange:y},f)});Jo(lo,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ze(t))r=t(e);else{var n=mt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=pQ(e,y6e);r=z.createElement(qC,xh({},s,{key:i,className:n}))}return r});function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function C6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xQ(n.key),n)}}function P6e(t,e,r){return e&&N6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6e(t,e,r){return e=NA(e),k6e(t,vQ()?Reflect.construct(e,r||[],NA(t).constructor):e.apply(t,r))}function k6e(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6e(t)}function O6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vQ=function(){return!!t})()}function NA(t){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NA(t)}function M6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hM(t,e)}function hM(t,e){return hM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hM(t,e)}function yQ(t,e,r){return e=xQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xQ(t){var e=D6e(t,"string");return Lv(e)=="symbol"?e:e+""}function D6e(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fM(){return fM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fM.apply(this,arguments)}function R6e(t){var e=t.xAxisId,r=ZI(),n=QI(),i=JZ(e);return i==null?null:j.createElement(vy,fM({},i,{className:mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return wc(a,!0)}}))}var ni=function(t){function e(){return C6e(this,e),T6e(this,e,arguments)}return M6e(e,t),P6e(e,[{key:"render",value:function(){return j.createElement(R6e,this.props)}}])}(j.Component);yQ(ni,"displayName","XAxis");yQ(ni,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function I6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_Q(n.key),n)}}function L6e(t,e,r){return e&&$6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F6e(t,e,r){return e=PA(e),z6e(t,bQ()?Reflect.construct(e,r||[],PA(t).constructor):e.apply(t,r))}function z6e(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B6e(t)}function B6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bQ=function(){return!!t})()}function PA(t){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PA(t)}function U6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pM(t,e)}function pM(t,e){return pM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pM(t,e)}function wQ(t,e,r){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Q(t){var e=H6e(t,"string");return Fv(e)=="symbol"?e:e+""}function H6e(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mM(){return mM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mM.apply(this,arguments)}var W6e=function(e){var r=e.yAxisId,n=ZI(),i=QI(),s=eQ(r);return s==null?null:j.createElement(vy,mM({},s,{className:mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return wc(o,!0)}}))},ii=function(t){function e(){return I6e(this,e),F6e(this,e,arguments)}return U6e(e,t),L6e(e,[{key:"render",value:function(){return j.createElement(W6e,this.props)}}])}(j.Component);wQ(ii,"displayName","YAxis");wQ(ii,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WB(t){return K6e(t)||G6e(t)||q6e(t)||V6e()}function V6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q6e(t,e){if(t){if(typeof t=="string")return gM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gM(t,e)}}function G6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K6e(t){if(Array.isArray(t))return gM(t)}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vM=function(e,r,n,i,s){var a=ia(e,e$),o=ia(e,ZC),c=[].concat(WB(a),WB(o)),u=ia(e,JC),d="".concat(i,"Id"),h=i[0],f=r;if(c.length&&(f=c.reduce(function(g,x){if(x.props[d]===n&&sl(x.props,"extendDomain")&&ve(x.props[h])){var y=x.props[h];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},f)),u.length){var p="".concat(h,"1"),v="".concat(h,"2");f=u.reduce(function(g,x){if(x.props[d]===n&&sl(x.props,"extendDomain")&&ve(x.props[p])&&ve(x.props[v])){var y=x.props[p],b=x.props[v];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},f)}return s&&s.length&&(f=s.reduce(function(g,x){return ve(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},f)),f},SQ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,v=new Array(p);f<p;f++)v[f]=h[f].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,f,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,p),!0;case 6:return x.fn.call(x.context,d,h,f,p,v),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var S=x.length,_;for(w=0;w<S;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,f);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];x[w].fn.apply(x[w].context,b)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!f||v.once)&&(!h||v.context===h)&&a(this,p);else{for(var g=0,x=[],y=v.length;g<y;g++)(v[g].fn!==d||f&&!v[g].once||h&&v[g].context!==h)&&x.push(v[g]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(SQ);var Y6e=SQ.exports;const X6e=Ft(Y6e);var LP=new X6e,FP="recharts.syncMouseEvents";function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function Z6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jQ(n.key),n)}}function J6e(t,e,r){return e&&Q6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zP(t,e,r){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jQ(t){var e=eUe(t,"string");return n0(e)=="symbol"?e:e+""}function eUe(t,e){if(n0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tUe=function(){function t(){Z6e(this,t),zP(this,"activeIndex",0),zP(this,"coordinateList",[]),zP(this,"layout","horizontal")}return J6e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+u,f=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function rUe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function nUe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function AQ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=Ln(e,r,n,i),o=Ln(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function iUe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=Ln(o,c,u,h),p=Ln(o,c,d,h);n=f.x,i=f.y,s=p.x,a=p.y}else return AQ(e);return[{x:n,y:i},{x:s,y:a}]}function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function VB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(r),!0).forEach(function(n){sUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sUe(t,e,r){return e=aUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aUe(t){var e=oUe(t,"string");return i0(e)=="symbol"?e:e+""}function oUe(t,e){if(i0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lUe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!a||f!=="ScatterChart"&&i!=="axis")return null;var v,g=Tm;if(f==="ScatterChart")v=a,g=Q4e;else if(f==="BarChart")v=nUe(h,a,c,d),g=qI;else if(h==="radial"){var x=AQ(a),y=x.cx,b=x.cy,w=x.radius,S=x.startAngle,_=x.endAngle;v={cx:y,cy:b,startAngle:S,endAngle:_,innerRadius:w,outerRadius:w},g=AZ}else v={points:iUe(h,a,c)},g=Tm;var A=w1(w1(w1(w1({stroke:"#ccc",pointerEvents:"none"},c),v),et(p,!1)),{},{payload:o,payloadIndex:u,className:mt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,A):j.createElement(g,A)}var cUe=["item"],uUe=["children","className","width","height","style","compact","title","desc"];function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}function qB(t,e){return fUe(t)||hUe(t,e)||CQ(t,e)||dUe()}function dUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function fUe(t){if(Array.isArray(t))return t}function GB(t,e){if(t==null)return{};var r=pUe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NQ(n.key),n)}}function vUe(t,e,r){return e&&gUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yUe(t,e,r){return e=TA(e),xUe(t,EQ()?Reflect.construct(e,r||[],TA(t).constructor):e.apply(t,r))}function xUe(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bUe(t)}function bUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EQ=function(){return!!t})()}function TA(t){return TA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TA(t)}function wUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yM(t,e)}function yM(t,e){return yM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yM(t,e)}function Bv(t){return jUe(t)||SUe(t)||CQ(t)||_Ue()}function _Ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return xM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xM(t,e)}}function SUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jUe(t){if(Array.isArray(t))return xM(t)}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(r),!0).forEach(function(n){He(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function He(t,e,r){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NQ(t){var e=AUe(t,"string");return zv(e)=="symbol"?e:e+""}function AUe(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EUe={xAxis:["bottom","top"],yAxis:["left","right"]},CUe={width:"100%",height:"100%"},PQ={x:0,y:0};function _1(t){return t}var NUe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},PUe=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return re(re(re({},i),Ln(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var c=s.coordinate,u=i.angle;return re(re(re({},i),Ln(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return PQ},eN=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Bv(o),Bv(u)):o},[]);return a.length>0?a:e&&e.length&&ve(i)&&ve(s)?e.slice(i,s+1):[]};function TQ(t){return t==="number"?[0,"auto"]:void 0}var bM=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=eN(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?o:h;f=Tj(p,a.dataKey,i)}else f=h&&h[n]||o[n];return f?[].concat(Bv(c),[_Z(u,f)]):c},[])},YB=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=NUe(s,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=D$e(a,o,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=bM(e,r,d,h),p=PUe(n,o,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},TUe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=xZ(d,s);return n.reduce(function(v,g){var x,y=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,b=y.type,w=y.dataKey,S=y.allowDataOverflow,_=y.allowDuplicatedCategory,A=y.scale,E=y.ticks,N=y.includeHidden,T=y[a];if(v[T])return v;var D=eN(e.data,{graphicalItems:i.filter(function(X){var ee,ue=a in X.props?X.props[a]:(ee=X.type.defaultProps)===null||ee===void 0?void 0:ee[a];return ue===T}),dataStartIndex:c,dataEndIndex:u}),O=D.length,I,F,$;rUe(y.domain,S,b)&&(I=$2(y.domain,null,S),p&&(b==="number"||A!=="auto")&&($=zx(D,w,"category")));var B=TQ(b);if(!I||I.length===0){var L,P=(L=y.domain)!==null&&L!==void 0?L:B;if(w){if(I=zx(D,w,b),b==="category"&&p){var R=_Se(I);_&&R?(F=I,I=gA(0,O)):_||(I=Az(P,I,g).reduce(function(X,ee){return X.indexOf(ee)>=0?X:[].concat(Bv(X),[ee])},[]))}else if(b==="category")_?I=I.filter(function(X){return X!==""&&!ot(X)}):I=Az(P,I,g).reduce(function(X,ee){return X.indexOf(ee)>=0||ee===""||ot(ee)?X:[].concat(Bv(X),[ee])},[]);else if(b==="number"){var U=F$e(D,i.filter(function(X){var ee,ue,we=a in X.props?X.props[a]:(ee=X.type.defaultProps)===null||ee===void 0?void 0:ee[a],je="hide"in X.props?X.props.hide:(ue=X.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return we===T&&(N||!je)}),w,s,d);U&&(I=U)}p&&(b==="number"||A!=="auto")&&($=zx(D,w,"category"))}else p?I=gA(0,O):o&&o[T]&&o[T].hasStack&&b==="number"?I=f==="expand"?[0,1]:wZ(o[T].stackGroups,c,u):I=yZ(D,i.filter(function(X){var ee=a in X.props?X.props[a]:X.type.defaultProps[a],ue="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ee===T&&(N||!ue)}),b,d,!0);if(b==="number")I=vM(h,I,T,s,E),P&&(I=$2(P,I,S));else if(b==="category"&&P){var Y=P,J=I.every(function(X){return Y.indexOf(X)>=0});J&&(I=Y)}}return re(re({},v),{},He({},T,re(re({},y),{},{axisType:s,domain:I,categoricalDomain:$,duplicateDomain:F,originalDomain:(x=y.domain)!==null&&x!==void 0?x:B,isCategorical:p,layout:d})))},{})},kUe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=eN(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,v=xZ(d,s),g=-1;return n.reduce(function(x,y){var b=y.type.defaultProps!==void 0?re(re({},y.type.defaultProps),y.props):y.props,w=b[a],S=TQ("number");if(!x[w]){g++;var _;return v?_=gA(0,p):o&&o[w]&&o[w].hasStack?(_=wZ(o[w].stackGroups,c,u),_=vM(h,_,w,s)):(_=$2(S,yZ(f,n.filter(function(A){var E,N,T=a in A.props?A.props[a]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[a],D="hide"in A.props?A.props.hide:(N=A.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===w&&!D}),"number",d),i.defaultProps.allowDataOverflow),_=vM(h,_,w,s)),re(re({},x),{},He({},w,re(re({axisType:s},i.defaultProps),{},{hide:!0,orientation:na(EUe,"".concat(s,".").concat(g%2),null),domain:_,originalDomain:S,isCategorical:v,layout:d})))}return x},{})},OUe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=ia(d,s),p={};return f&&f.length?p=TUe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=kUe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},MUe=function(e){var r=du(e),n=wc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:oA(r,n)}},XB=function(e){var r=e.children,n=e.defaultShowTooltip,i=gs(r,Tv),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},DUe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Sc(r&&r.type);return n&&n.indexOf("Bar")>=0})},ZB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RUe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=gs(h,Tv),v=gs(h,Cm),g=Object.keys(c).reduce(function(_,A){var E=c[A],N=E.orientation;return!E.mirror&&!E.hide?re(re({},_),{},He({},N,_[N]+E.width)):_},{left:f.left||0,right:f.right||0}),x=Object.keys(a).reduce(function(_,A){var E=a[A],N=E.orientation;return!E.mirror&&!E.hide?re(re({},_),{},He({},N,na(_,"".concat(N))+E.height)):_},{top:f.top||0,bottom:f.bottom||0}),y=re(re({},x),g),b=y.bottom;p&&(y.bottom+=p.props.height||Tv.defaultProps.height),v&&r&&(y=$$e(y,i,n,r));var w=u-y.left-y.right,S=d-y.top-y.bottom;return re(re({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})},IUe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},n$=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(y,b){var w=b.graphicalItems,S=b.stackGroups,_=b.offset,A=b.updateId,E=b.dataStartIndex,N=b.dataEndIndex,T=y.barSize,D=y.layout,O=y.barGap,I=y.barCategoryGap,F=y.maxBarSize,$=ZB(D),B=$.numericAxisName,L=$.cateAxisName,P=DUe(w),R=[];return w.forEach(function(U,Y){var J=eN(y.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:N}),X=U.type.defaultProps!==void 0?re(re({},U.type.defaultProps),U.props):U.props,ee=X.dataKey,ue=X.maxBarSize,we=X["".concat(B,"Id")],je=X["".concat(L,"Id")],V={},H=c.reduce(function(q,Z){var le=b["".concat(Z.axisType,"Map")],ge=X["".concat(Z.axisType,"Id")];le&&le[ge]||Z.axisType==="zAxis"||rp();var fe=le[ge];return re(re({},q),{},He(He({},Z.axisType,fe),"".concat(Z.axisType,"Ticks"),wc(fe)))},V),Q=H[L],ie=H["".concat(L,"Ticks")],ae=S&&S[we]&&S[we].hasStack&&Z$e(U,S[we].stackGroups),W=Sc(U.type).indexOf("Bar")>=0,me=oA(Q,ie),Ae=[],Oe=P&&R$e({barSize:T,stackGroups:S,totalSize:IUe(H,L)});if(W){var Fe,rt,kr=ot(ue)?F:ue,Yr=(Fe=(rt=oA(Q,ie,!0))!==null&&rt!==void 0?rt:kr)!==null&&Fe!==void 0?Fe:0;Ae=I$e({barGap:O,barCategoryGap:I,bandSize:Yr!==me?Yr:me,sizeList:Oe[je],maxBarSize:kr}),Yr!==me&&(Ae=Ae.map(function(q){return re(re({},q),{},{position:re(re({},q.position),{},{offset:q.position.offset-Yr/2})})}))}var K=U&&U.type&&U.type.getComposedData;K&&R.push({props:re(re({},K(re(re({},H),{},{displayedData:J,props:y,dataKey:ee,item:U,bandSize:me,barPosition:Ae,offset:_,stackedData:ae,layout:D,dataStartIndex:E,dataEndIndex:N}))),{},He(He(He({key:U.key||"item-".concat(Y)},B,H[B]),L,H[L]),"animationId",A)),childIndex:DSe(U,y.children),item:U})}),R},p=function(y,b){var w=y.props,S=y.dataStartIndex,_=y.dataEndIndex,A=y.updateId;if(!x3({props:w}))return null;var E=w.children,N=w.layout,T=w.stackOffset,D=w.data,O=w.reverseStackOrder,I=ZB(N),F=I.numericAxisName,$=I.cateAxisName,B=ia(E,n),L=K$e(D,B,"".concat(F,"Id"),"".concat($,"Id"),T,O),P=c.reduce(function(X,ee){var ue="".concat(ee.axisType,"Map");return re(re({},X),{},He({},ue,OUe(w,re(re({},ee),{},{graphicalItems:B,stackGroups:ee.axisType===F&&L,dataStartIndex:S,dataEndIndex:_}))))},{}),R=RUe(re(re({},P),{},{props:w,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(P).forEach(function(X){P[X]=d(w,P[X],R,X.replace("Map",""),r)});var U=P["".concat($,"Map")],Y=MUe(U),J=f(w,re(re({},P),{},{dataStartIndex:S,dataEndIndex:_,updateId:A,graphicalItems:B,stackGroups:L,offset:R}));return re(re({formattedGraphicalItems:J,graphicalItems:B,offset:R,stackGroups:L},Y),P)},v=function(x){function y(b){var w,S,_;return mUe(this,y),_=yUe(this,y,[b]),He(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(_,"accessibilityManager",new tUe),He(_,"handleLegendBBoxUpdate",function(A){if(A){var E=_.state,N=E.dataStartIndex,T=E.dataEndIndex,D=E.updateId;_.setState(re({legendBBox:A},p({props:_.props,dataStartIndex:N,dataEndIndex:T,updateId:D},re(re({},_.state),{},{legendBBox:A}))))}}),He(_,"handleReceiveSyncEvent",function(A,E,N){if(_.props.syncId===A){if(N===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),He(_,"handleBrushChange",function(A){var E=A.startIndex,N=A.endIndex;if(E!==_.state.dataStartIndex||N!==_.state.dataEndIndex){var T=_.state.updateId;_.setState(function(){return re({dataStartIndex:E,dataEndIndex:N},p({props:_.props,dataStartIndex:E,dataEndIndex:N,updateId:T},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:N})}}),He(_,"handleMouseEnter",function(A){var E=_.getMouseInfo(A);if(E){var N=re(re({},E),{},{isTooltipActive:!0});_.setState(N),_.triggerSyncEvent(N);var T=_.props.onMouseEnter;Ze(T)&&T(N,A)}}),He(_,"triggeredAfterMouseMove",function(A){var E=_.getMouseInfo(A),N=E?re(re({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(N),_.triggerSyncEvent(N);var T=_.props.onMouseMove;Ze(T)&&T(N,A)}),He(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),He(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),He(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),He(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var N=_.props.onMouseLeave;Ze(N)&&N(E,A)}),He(_,"handleOuterEvent",function(A){var E=MSe(A),N=na(_.props,"".concat(E));if(E&&Ze(N)){var T,D;/.*touch.*/i.test(E)?D=_.getMouseInfo(A.changedTouches[0]):D=_.getMouseInfo(A),N((T=D)!==null&&T!==void 0?T:{},A)}}),He(_,"handleClick",function(A){var E=_.getMouseInfo(A);if(E){var N=re(re({},E),{},{isTooltipActive:!0});_.setState(N),_.triggerSyncEvent(N);var T=_.props.onClick;Ze(T)&&T(N,A)}}),He(_,"handleMouseDown",function(A){var E=_.props.onMouseDown;if(Ze(E)){var N=_.getMouseInfo(A);E(N,A)}}),He(_,"handleMouseUp",function(A){var E=_.props.onMouseUp;if(Ze(E)){var N=_.getMouseInfo(A);E(N,A)}}),He(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),He(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),He(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),He(_,"handleDoubleClick",function(A){var E=_.props.onDoubleClick;if(Ze(E)){var N=_.getMouseInfo(A);E(N,A)}}),He(_,"handleContextMenu",function(A){var E=_.props.onContextMenu;if(Ze(E)){var N=_.getMouseInfo(A);E(N,A)}}),He(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&LP.emit(FP,_.props.syncId,A,_.eventEmitterSymbol)}),He(_,"applySyncEvent",function(A){var E=_.props,N=E.layout,T=E.syncMethod,D=_.state.updateId,O=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(re({dataStartIndex:O,dataEndIndex:I},p({props:_.props,dataStartIndex:O,dataEndIndex:I,updateId:D},_.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,$=A.chartY,B=A.activeTooltipIndex,L=_.state,P=L.offset,R=L.tooltipTicks;if(!P)return;if(typeof T=="function")B=T(R,A);else if(T==="value"){B=-1;for(var U=0;U<R.length;U++)if(R[U].value===A.activeLabel){B=U;break}}var Y=re(re({},P),{},{x:P.left,y:P.top}),J=Math.min(F,Y.x+Y.width),X=Math.min($,Y.y+Y.height),ee=R[B]&&R[B].value,ue=bM(_.state,_.props.data,B),we=R[B]?{x:N==="horizontal"?R[B].coordinate:J,y:N==="horizontal"?X:R[B].coordinate}:PQ;_.setState(re(re({},A),{},{activeLabel:ee,activeCoordinate:we,activePayload:ue,activeTooltipIndex:B}))}else _.setState(A)}),He(_,"renderCursor",function(A){var E,N=_.state,T=N.isTooltipActive,D=N.activeCoordinate,O=N.activePayload,I=N.offset,F=N.activeTooltipIndex,$=N.tooltipAxisBandSize,B=_.getTooltipEventType(),L=(E=A.props.active)!==null&&E!==void 0?E:T,P=_.props.layout,R=A.key||"_recharts-cursor";return z.createElement(lUe,{key:R,activeCoordinate:D,activePayload:O,activeTooltipIndex:F,chartName:r,element:A,isActive:L,layout:P,offset:I,tooltipAxisBandSize:$,tooltipEventType:B})}),He(_,"renderPolarAxis",function(A,E,N){var T=na(A,"type.axisType"),D=na(_.state,"".concat(T,"Map")),O=A.type.defaultProps,I=O!==void 0?re(re({},O),A.props):A.props,F=D&&D[I["".concat(T,"Id")]];return j.cloneElement(A,re(re({},F),{},{className:mt(T,F.className),key:A.key||"".concat(E,"-").concat(N),ticks:wc(F,!0)}))}),He(_,"renderPolarGrid",function(A){var E=A.props,N=E.radialLines,T=E.polarAngles,D=E.polarRadius,O=_.state,I=O.radiusAxisMap,F=O.angleAxisMap,$=du(I),B=du(F),L=B.cx,P=B.cy,R=B.innerRadius,U=B.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(T)?T:wc(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(D)?D:wc($,!0).map(function(Y){return Y.coordinate}),cx:L,cy:P,innerRadius:R,outerRadius:U,key:A.key||"polar-grid",radialLines:N})}),He(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,E=_.props,N=E.children,T=E.width,D=E.height,O=_.props.margin||{},I=T-(O.left||0)-(O.right||0),F=gZ({children:N,formattedGraphicalItems:A,legendWidth:I,legendContent:u});if(!F)return null;var $=F.item,B=GB(F,cUe);return j.cloneElement($,re(re({},B),{},{chartWidth:T,chartHeight:D,margin:O,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),He(_,"renderTooltip",function(){var A,E=_.props,N=E.children,T=E.accessibilityLayer,D=gs(N,zr);if(!D)return null;var O=_.state,I=O.isTooltipActive,F=O.activeCoordinate,$=O.activePayload,B=O.activeLabel,L=O.offset,P=(A=D.props.active)!==null&&A!==void 0?A:I;return j.cloneElement(D,{viewBox:re(re({},L),{},{x:L.left,y:L.top}),active:P,label:B,payload:P?$:[],coordinate:F,accessibilityLayer:T})}),He(_,"renderBrush",function(A){var E=_.props,N=E.margin,T=E.data,D=_.state,O=D.offset,I=D.dataStartIndex,F=D.dataEndIndex,$=D.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:v1(_.handleBrushChange,A.props.onChange),data:T,x:ve(A.props.x)?A.props.x:O.left,y:ve(A.props.y)?A.props.y:O.top+O.height+O.brushBottom-(N.bottom||0),width:ve(A.props.width)?A.props.width:O.width,startIndex:I,endIndex:F,updateId:"brush-".concat($)})}),He(_,"renderReferenceElement",function(A,E,N){if(!A)return null;var T=_,D=T.clipPathId,O=_.state,I=O.xAxisMap,F=O.yAxisMap,$=O.offset,B=A.type.defaultProps||{},L=A.props,P=L.xAxisId,R=P===void 0?B.xAxisId:P,U=L.yAxisId,Y=U===void 0?B.yAxisId:U;return j.cloneElement(A,{key:A.key||"".concat(E,"-").concat(N),xAxis:I[R],yAxis:F[Y],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:D})}),He(_,"renderActivePoints",function(A){var E=A.item,N=A.activePoint,T=A.basePoint,D=A.childIndex,O=A.isRange,I=[],F=E.props.key,$=E.item.type.defaultProps!==void 0?re(re({},E.item.type.defaultProps),E.item.props):E.item.props,B=$.activeDot,L=$.dataKey,P=re(re({index:D,dataKey:L,cx:N.x,cy:N.y,r:4,fill:VI(E.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},et(B,!1)),kj(B));return I.push(y.renderActiveDot(B,P,"".concat(F,"-activePoint-").concat(D))),T?I.push(y.renderActiveDot(B,re(re({},P),{},{cx:T.x,cy:T.y}),"".concat(F,"-basePoint-").concat(D))):O&&I.push(null),I}),He(_,"renderGraphicChild",function(A,E,N){var T=_.filterFormatItem(A,E,N);if(!T)return null;var D=_.getTooltipEventType(),O=_.state,I=O.isTooltipActive,F=O.tooltipAxis,$=O.activeTooltipIndex,B=O.activeLabel,L=_.props.children,P=gs(L,zr),R=T.props,U=R.points,Y=R.isRange,J=R.baseLine,X=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,ee=X.activeDot,ue=X.hide,we=X.activeBar,je=X.activeShape,V=!!(!ue&&I&&P&&(ee||we||je)),H={};D!=="axis"&&P&&P.props.trigger==="click"?H={onClick:v1(_.handleItemMouseEnter,A.props.onClick)}:D!=="axis"&&(H={onMouseLeave:v1(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:v1(_.handleItemMouseEnter,A.props.onMouseEnter)});var Q=j.cloneElement(A,re(re({},T.props),H));function ie(Z){return typeof F.dataKey=="function"?F.dataKey(Z.payload):null}if(V)if($>=0){var ae,W;if(F.dataKey&&!F.allowDuplicatedCategory){var me=typeof F.dataKey=="function"?ie:"payload.".concat(F.dataKey.toString());ae=Tj(U,me,B),W=Y&&J&&Tj(J,me,B)}else ae=U==null?void 0:U[$],W=Y&&J&&J[$];if(je||we){var Ae=A.props.activeIndex!==void 0?A.props.activeIndex:$;return[j.cloneElement(A,re(re(re({},T.props),H),{},{activeIndex:Ae})),null,null]}if(!ot(ae))return[Q].concat(Bv(_.renderActivePoints({item:T,activePoint:ae,basePoint:W,childIndex:$,isRange:Y})))}else{var Oe,Fe=(Oe=_.getItemByXY(_.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:Q},rt=Fe.graphicalItem,kr=rt.item,Yr=kr===void 0?A:kr,K=rt.childIndex,q=re(re(re({},T.props),H),{},{activeIndex:K});return[j.cloneElement(Yr,q),null,null]}return Y?[Q,null,null]:[Q,null]}),He(_,"renderCustomized",function(A,E,N){return j.cloneElement(A,re(re({key:"recharts-customized-".concat(N)},_.props),_.state))}),He(_,"renderMap",{CartesianGrid:{handler:_1,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:_1},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:_1},YAxis:{handler:_1},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:uy("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=mX(_.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),_.state={},_}return wUe(y,x),vUe(y,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,_=w.data,A=w.height,E=w.layout,N=gs(S,zr);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=bM(this.state,_,T,D),I=this.state.tooltipTicks[T].coordinate,F=(this.state.offset.top+A)/2,$=E==="horizontal",B=$?{x:I,y:F}:{y:I,x:F},L=this.state.formattedGraphicalItems.find(function(R){var U=R.item;return U.type.name==="Scatter"});L&&(B=re(re({},B),L.props.points[T].tooltipPosition),O=L.props.points[T].tooltipPayload);var P={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:D,activePayload:O,activeCoordinate:B};this.setState(P),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){QO([gs(w.children,zr)],[gs(this.props.children,zr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=gs(this.props.children,zr);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,_=S.getBoundingClientRect(),A=aMe(_),E={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},N=_.width/S.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,N);if(!T)return null;var D=this.state,O=D.xAxisMap,I=D.yAxisMap,F=this.getTooltipEventType(),$=YB(this.state,this.props.data,this.props.layout,T);if(F!=="axis"&&O&&I){var B=du(O).scale,L=du(I).scale,P=B&&B.invert?B.invert(E.chartX):null,R=L&&L.invert?L.invert(E.chartY):null;return re(re({},E),{},{xValue:P,yValue:R},$)}return $?re(re({},E),$):null}},{key:"inRange",value:function(w,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=w/_,N=S/_;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,D=E>=T.left&&E<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return D?{x:E,y:N}:null}var O=this.state,I=O.angleAxisMap,F=O.radiusAxisMap;if(I&&F){var $=du(I);return Nz({x:E,y:N},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),_=gs(w,zr),A={};_&&S==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=kj(this.props,this.handleOuterEvent);return re(re({},E),A)}},{key:"addListener",value:function(){LP.on(FP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){LP.removeListener(FP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,_){for(var A=this.state.formattedGraphicalItems,E=0,N=A.length;E<N;E++){var T=A[E];if(T.item===w||T.props.key===w.key||S===Sc(T.item.type)&&_===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,_=S.left,A=S.top,E=S.height,N=S.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:_,y:A,height:E,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,_){var A=qB(_,2),E=A[0],N=A[1];return re(re({},S),{},He({},E,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,_){var A=qB(_,2),E=A[0],N=A[1];return re(re({},S),{},He({},E,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,_=S.formattedGraphicalItems,A=S.activeItem;if(_&&_.length)for(var E=0,N=_.length;E<N;E++){var T=_[E],D=T.props,O=T.item,I=O.type.defaultProps!==void 0?re(re({},O.type.defaultProps),O.props):O.props,F=Sc(O.type);if(F==="Bar"){var $=(D.data||[]).find(function(R){return U4e(w,R)});if($)return{graphicalItem:T,payload:$}}else if(F==="RadialBar"){var B=(D.data||[]).find(function(R){return Nz(w,R)});if(B)return{graphicalItem:T,payload:B}}else if(GC(T,A)||KC(T,A)||Qb(T,A)){var L=V3e({graphicalItem:T,activeTooltipItem:A,itemData:I.data}),P=I.activeIndex===void 0?L:I.activeIndex;return{graphicalItem:re(re({},T),{},{childIndex:P}),payload:Qb(T,A)?I.data[L]:T.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!x3(this))return null;var S=this.props,_=S.children,A=S.className,E=S.width,N=S.height,T=S.style,D=S.compact,O=S.title,I=S.desc,F=GB(S,uUe),$=et(F,!1);if(D)return z.createElement(EB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(e2,dm({},$,{width:E,height:N,title:O,desc:I}),this.renderClipPath(),w3(_,this.renderMap)));if(this.props.accessibilityLayer){var B,L;$.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,$.role=(L=this.props.role)!==null&&L!==void 0?L:"application",$.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},$.onFocus=function(){w.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return z.createElement(EB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",dm({className:mt("recharts-wrapper",A),style:re({position:"relative",cursor:"default",width:E,height:N},T)},P,{ref:function(U){w.container=U}}),z.createElement(e2,dm({},$,{width:E,height:N,title:O,desc:I,style:CUe}),this.renderClipPath(),w3(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);He(v,"displayName",r),He(v,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),He(v,"getDerivedStateFromProps",function(x,y){var b=x.dataKey,w=x.data,S=x.children,_=x.width,A=x.height,E=x.layout,N=x.stackOffset,T=x.margin,D=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var I=XB(x);return re(re(re({},I),{},{updateId:0},p(re(re({props:x},I),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:A,prevLayout:E,prevStackOffset:N,prevMargin:T,prevChildren:S})}if(b!==y.prevDataKey||w!==y.prevData||_!==y.prevWidth||A!==y.prevHeight||E!==y.prevLayout||N!==y.prevStackOffset||!Em(T,y.prevMargin)){var F=XB(x),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=re(re({},YB(y,w,E)),{},{updateId:y.updateId+1}),L=re(re(re({},F),$),B);return re(re(re({},L),p(re({props:x},L),y)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:A,prevLayout:E,prevStackOffset:N,prevMargin:T,prevChildren:S})}if(!QO(S,y.prevChildren)){var P,R,U,Y,J=gs(S,Tv),X=J&&(P=(R=J.props)===null||R===void 0?void 0:R.startIndex)!==null&&P!==void 0?P:D,ee=J&&(U=(Y=J.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&U!==void 0?U:O,ue=X!==D||ee!==O,we=!ot(w),je=we&&!ue?y.updateId:y.updateId+1;return re(re({updateId:je},p(re(re({props:x},y),{},{updateId:je,dataStartIndex:X,dataEndIndex:ee}),y)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:ee})}return null}),He(v,"renderActiveDot",function(x,y,b){var w;return j.isValidElement(x)?w=j.cloneElement(x,y):Ze(x)?w=x(y):w=z.createElement(qC,y),z.createElement(qt,{className:"recharts-active-dot",key:b},w)});var g=j.forwardRef(function(y,b){return z.createElement(v,dm({},y,{ref:b}))});return g.displayName=v.displayName,g},$Ue=n$({chartName:"LineChart",GraphicalChild:p_,axisComponents:[{axisType:"xAxis",AxisComp:ni},{axisType:"yAxis",AxisComp:ii}],formatAxisMap:GI}),km=n$({chartName:"BarChart",GraphicalChild:sa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ni},{axisType:"yAxis",AxisComp:ii}],formatAxisMap:GI}),tN=n$({chartName:"AreaChart",GraphicalChild:lo,axisComponents:[{axisType:"xAxis",AxisComp:ni},{axisType:"yAxis",AxisComp:ii}],formatAxisMap:GI});const LUe=({trigger:t})=>{const[e,r]=j.useState(!1),{user:n}=tr(),{toast:i}=Os(),[s,a]=j.useState(!1),[o,c]=j.useState([]),[u,d]=j.useState([]),[h,f]=j.useState(null),[p,v]=j.useState(!1),[g,x]=j.useState(""),[y,b]=j.useState("all"),[w,S]=j.useState("date_desc"),_=[{value:"sleep",label:"Sono",icon:sv,color:"blue"},{value:"nutrition",label:"Nutrição",icon:xd,color:"orange"},{value:"training",label:"Treino",icon:Gt,color:"green"},{value:"physiotherapy",label:"Fisioterapia",icon:cb,color:"purple"},{value:"medical",label:"Médico",icon:ov,color:"red"},{value:"vitals",label:"Vitais",icon:As,color:"pink"}];j.useEffect(()=>{e&&n&&A()},[e,n]),j.useEffect(()=>{E()},[o,g,y,w]);const A=async()=>{try{a(!0);const{data:F,error:$}=await ce.from("athlete_data").select("*").eq("athlete_id",n==null?void 0:n.id).order("recorded_at",{ascending:!1});if($)throw $;c(F||[])}catch(F){console.error("Error fetching athlete data:",F),i({title:"Erro",description:"Não foi possível carregar os dados.",variant:"destructive"})}finally{a(!1)}},E=()=>{let F=[...o];if(y!=="all"&&(F=F.filter($=>$.data_type===y)),g){const $=new Date(g);F=F.filter(B=>new Date(B.recorded_at).toDateString()===$.toDateString())}F.sort(($,B)=>{const L=new Date($.recorded_at),P=new Date(B.recorded_at);return w==="date_desc"?P.getTime()-L.getTime():w==="date_asc"?L.getTime()-P.getTime():w==="type"?$.data_type.localeCompare(B.data_type):0}),d(F)},N=async F=>{try{const{error:$}=await ce.from("athlete_data").delete().eq("id",F);if($)throw $;i({title:"Registro removido",description:"O registro foi removido com sucesso."}),c(B=>B.filter(L=>L.id!==F))}catch($){console.error("Error deleting record:",$),i({title:"Erro",description:"Não foi possível remover o registro.",variant:"destructive"})}},T=F=>_.find($=>$.value===F)||_[0],D=F=>{const{data:$,data_type:B}=F;switch(B){case"sleep":return`${$.hours||0}h de sono • Qualidade: ${$.quality||"N/A"}`;case"nutrition":return`${$.calories||0} kcal • ${$.protein||0}g proteína`;case"training":return`${$.type||"Treino"} • ${$.duration||0} min • ${$.intensity||"N/A"}`;case"physiotherapy":return`${$.sessionType||"Sessão"} • Dor: ${$.painLevel||0}/10`;case"medical":return`${$.appointmentType||"Consulta"} • Dr. ${$.doctorName||"N/A"}`;case"vitals":return`FC: ${$.heartRate||0} bpm • Peso: ${$.weight||0} kg`;default:return"Dados registrados"}},O=()=>y==="all"?[]:u.filter($=>$.data_type===y).slice(0,7).reverse().map($=>{const B=new Date($.recorded_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});let L=0;switch(y){case"sleep":L=parseFloat($.data.hours)||0;break;case"nutrition":L=parseFloat($.data.calories)||0;break;case"training":L=parseFloat($.data.duration)||0;break;case"vitals":L=parseFloat($.data.heartRate)||0;break;default:L=Math.random()*100}return{date:B,value:L}}),I=l.jsxs(te,{variant:"outline",className:"gap-2",children:[l.jsx(KS,{className:"w-4 h-4"}),"Ver Dados Salvos"]});return l.jsxs(l.Fragment,{children:[l.jsxs(cn,{open:e,onOpenChange:r,children:[l.jsx(mp,{asChild:!0,children:t||I}),l.jsxs(qr,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[l.jsx(Gr,{children:l.jsxs(Kr,{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-5 h-5 text-primary"}),"Visualização de Dados de Performance e Saúde"]})}),l.jsxs(ao,{defaultValue:"overview",className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-3",children:[l.jsx(st,{value:"overview",children:"Visão Geral"}),l.jsx(st,{value:"records",children:"Registros"}),l.jsx(st,{value:"analytics",children:"Análises"})]}),l.jsxs(at,{value:"overview",className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:_.map(F=>{const $=o.filter(L=>L.data_type===F.value).length,B=F.icon;return l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 bg-${F.color}-500/10 rounded-lg flex items-center justify-center`,children:l.jsx(B,{className:`w-5 h-5 text-${F.color}-500`})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:F.label}),l.jsxs("p",{className:"text-lg font-bold",children:[$," registros"]})]})]})},F.value)})}),l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsx(Le,{children:"Registros Recentes"}),l.jsx(Ye,{children:"Últimos 5 dados registrados"})]}),l.jsx(Ie,{children:l.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(F=>{const $=T(F.data_type),B=$.icon;return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{f(F),v(!0)},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 bg-${$.color}-500/10 rounded-lg flex items-center justify-center`,children:l.jsx(B,{className:`w-4 h-4 text-${$.color}-500`})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:$.label}),l.jsx("p",{className:"text-sm text-muted-foreground",children:D(F)})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(F.recorded_at).toLocaleDateString("pt-BR")}),l.jsx(_D,{className:"w-4 h-4 text-muted-foreground"})]})]},F.id)})})})]})]}),l.jsxs(at,{value:"records",className:"space-y-4",children:[l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(i8,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Filtros:"})]}),l.jsxs(ft,{value:y,onValueChange:b,children:[l.jsx(ct,{className:"w-40",children:l.jsx(pt,{placeholder:"Tipo"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"all",children:"Todos os tipos"}),_.map(F=>l.jsx(ne,{value:F.value,children:F.label},F.value))]})]}),l.jsx(se,{type:"date",value:g,onChange:F=>x(F.target.value),className:"w-40"}),l.jsxs(ft,{value:w,onValueChange:S,children:[l.jsx(ct,{className:"w-40",children:l.jsx(pt,{placeholder:"Ordenar"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"date_desc",children:"Mais recentes"}),l.jsx(ne,{value:"date_asc",children:"Mais antigos"}),l.jsx(ne,{value:"type",children:"Por tipo"})]})]}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>{x(""),b("all"),S("date_desc")},children:"Limpar"})]})}),l.jsxs(he,{children:[l.jsx(Be,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Le,{children:"Todos os Registros"}),l.jsxs(Ye,{children:[u.length," registro(s) encontrado(s)"]})]}),u.length>0&&l.jsxs(te,{variant:"outline",size:"sm",children:[l.jsx(r8,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})}),l.jsx(Ie,{children:l.jsx(Cs,{className:"h-[400px]",children:s?l.jsx("div",{className:"text-center py-8",children:"Carregando..."}):u.length>0?l.jsx("div",{className:"space-y-3",children:u.map(F=>{var L;const $=T(F.data_type),B=$.icon;return l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 bg-${$.color}-500/10 rounded-lg flex items-center justify-center`,children:l.jsx(B,{className:`w-5 h-5 text-${$.color}-500`})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium",children:$.label}),l.jsx(it,{variant:"outline",className:"text-xs",children:new Date(F.recorded_at).toLocaleDateString("pt-BR")})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:D(F)})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[F.data_type==="medical"&&((L=F.data)==null?void 0:L.attachments)&&F.data.attachments.length>0&&l.jsx(te,{variant:"ghost",size:"sm",onClick:async()=>{const P=F.data.attachments[0],{data:R,error:U}=await ce.storage.from("medical-files").createSignedUrl(P,60*60);if(U){console.error("Erro ao gerar URL:",U);return}window.open(R.signedUrl,"_blank")},title:"Visualizar arquivo anexado",children:l.jsx(n8,{className:"w-4 h-4"})}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{f(F),v(!0)},children:l.jsx(KS,{className:"w-4 h-4"})}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>N(F.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Gv,{className:"w-4 h-4"})})]})]},F.id)})}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(_i,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhum registro encontrado"}),l.jsx("p",{className:"text-sm",children:"Comece registrando seus dados de performance e saúde"})]})})})]})]}),l.jsxs(at,{value:"analytics",className:"space-y-4",children:[y!=="all"&&O().length>0&&l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{children:["Evolução - ",T(y).label]}),l.jsx(Ye,{children:"Últimos 7 registros"})]}),l.jsx(Ie,{children:l.jsx(Zo,{width:"100%",height:300,children:l.jsxs(tN,{data:O(),children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"date"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(lo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.2,strokeWidth:3})]})})})]}),l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsx(Le,{children:"Resumo Analítico"}),l.jsx(Ye,{children:"Estatísticas dos seus dados"})]}),l.jsx(Ie,{children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(_i,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Análises avançadas em desenvolvimento"}),l.jsx("p",{className:"text-sm",children:"Em breve você terá insights detalhados sobre seus dados"})]})})]})]})]})]})]}),l.jsx(cn,{open:p,onOpenChange:v,children:l.jsxs(qr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsx(Gr,{children:l.jsx(Kr,{children:h&&l.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const F=T(h.data_type),$=F.icon;return l.jsx($,{className:`w-5 h-5 text-${F.color}-500`})})(),"Detalhes - ",h&&T(h.data_type).label]})})}),h&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Data do Registro"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(h.recorded_at).toLocaleString("pt-BR")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Tipo"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:T(h.data_type).label})]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-medium",children:"Dados Registrados"}),l.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:l.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(h.data,null,2)})})]})]})]})})]})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ip;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ip||(ip={}));class _S extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const FUe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},zUe=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>e!==null?e.name:FUe(t),s=()=>i()!=="web",a=h=>{const f=u.get(h);return!!(f!=null&&f.platforms.has(i())||o(h))},o=h=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(p=>p.name===h)},c=h=>t.console.error(h),u=new Map,d=(h,f={})=>{const p=u.get(h);if(p)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),p.proxy;const v=i(),g=o(h);let x;const y=async()=>(!x&&v in f?x=typeof f[v]=="function"?x=await f[v]():x=f[v]:e!==null&&!x&&"web"in f&&(x=typeof f.web=="function"?x=await f.web():x=f.web),x),b=(N,T)=>{var D,O;if(g){const I=g==null?void 0:g.methods.find(F=>T===F.name);if(I)return I.rtype==="promise"?F=>r.nativePromise(h,T.toString(),F):(F,$)=>r.nativeCallback(h,T.toString(),F,$);if(N)return(D=N[T])===null||D===void 0?void 0:D.bind(N)}else{if(N)return(O=N[T])===null||O===void 0?void 0:O.bind(N);throw new _S(`"${h}" plugin is not implemented on ${v}`,ip.Unimplemented)}},w=N=>{let T;const D=(...O)=>{const I=y().then(F=>{const $=b(F,N);if($){const B=$(...O);return T=B==null?void 0:B.remove,B}else throw new _S(`"${h}.${N}()" is not implemented on ${v}`,ip.Unimplemented)});return N==="addListener"&&(I.remove=async()=>T()),I};return D.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:N,writable:!1,configurable:!1}),D},S=w("addListener"),_=w("removeListener"),A=(N,T)=>{const D=S({eventName:N},T),O=async()=>{const F=await D;_({eventName:N,callbackId:F},T)},I=new Promise(F=>D.then(()=>F({remove:O})));return I.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await O()},I},E=new Proxy({},{get(N,T){switch(T){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?A:S;case"removeListener":return _;default:return w(T)}}});return n[h]=E,u.set(h,{name:h,proxy:E,platforms:new Set([...Object.keys(f),...g?[v]:[]])}),E};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=i,r.handleError=c,r.isNativePlatform=s,r.isPluginAvailable=a,r.registerPlugin=d,r.Exception=_S,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},BUe=t=>t.Capacitor=zUe(t),Uv=BUe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i$=Uv.registerPlugin;class s${constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Uv.Exception(e,ip.Unimplemented)}unavailable(e="not available"){return new Uv.Exception(e,ip.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const QB=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),JB=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class UUe extends s${async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=JB(i).trim(),s=JB(s).trim(),r[i]=s}),r}async setCookie(e){try{const r=QB(e.key),n=QB(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}i$("CapacitorCookies",{web:()=>new UUe});const HUe=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),WUe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},VUe=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[s,a]=i;let o,c;return Array.isArray(a)?(c="",a.forEach(u=>{o=e?encodeURIComponent(u):u,c+=`${s}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${s}=${o}`),`${n}&${c}`},"").substr(1):null,kQ=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=WUe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);r.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{s.append(c,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);r.body=s;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class qUe extends s${async request(e){const r=kQ(e,e.webFetchExtra),n=VUe(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,s=await fetch(i,r),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let c,u;switch(o){case"arraybuffer":case"blob":u=await s.blob(),c=await HUe(u);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const d={};return s.headers.forEach((h,f)=>{d[f]=h}),{data:c,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}i$("CapacitorHttp",{web:()=>new qUe});const GUe=Object.freeze(Object.defineProperty({__proto__:null,Capacitor:Uv,CapacitorException:_S,get ExceptionCode(){return ip},WebPlugin:s$,buildRequestInit:kQ,registerPlugin:i$},Symbol.toStringTag,{value:"Module"}));class KUe{async getCurrentUser(){const{data:{user:e}}=await ce.auth.getUser();return e}async log(e){try{const r=await this.getCurrentUser(),n=`[${e.level.toUpperCase()}] ${e.component}.${e.action}: ${e.message}`;switch(e.level){case"error":console.error(n,e.data,e.errorDetails);break;case"warning":console.warn(n,e.data);break;case"debug":console.debug(n,e.data);break;default:console.log(n,e.data)}if(r){const{error:i}=await ce.from("healthkit_logs").insert({user_id:r.id,level:e.level,component:e.component,action:e.action,message:e.message,data:e.data||{},error_details:e.errorDetails,platform:e.platform,is_native:e.isNative||!1});i&&console.error("Failed to save HealthKit log to database:",i)}}catch(r){console.error("Error in HealthKitLogger.log:",r)}}async info(e,r,n,i,s,a){await this.log({level:"info",component:e,action:r,message:n,data:i,platform:s,isNative:a})}async warning(e,r,n,i,s,a){await this.log({level:"warning",component:e,action:r,message:n,data:i,platform:s,isNative:a})}async error(e,r,n,i,s,a,o){await this.log({level:"error",component:e,action:r,message:n,data:s,errorDetails:i,platform:a,isNative:o})}async debug(e,r,n,i,s,a){await this.log({level:"debug",component:e,action:r,message:n,data:i,platform:s,isNative:a})}async getLogs(e=100){try{const r=await this.getCurrentUser();if(!r)return[];const{data:n,error:i}=await ce.from("healthkit_logs").select("*").eq("user_id",r.id).order("created_at",{ascending:!1}).limit(e);return i?(console.error("Failed to fetch HealthKit logs:",i),[]):n||[]}catch(r){return console.error("Error fetching HealthKit logs:",r),[]}}}const ze=new KUe;let S1;class YUe{constructor(){de(this,"isNative");de(this,"initialized",!1);this.isNative=Uv.isNativePlatform()}async initialize(){if(!this.isNative)return await ze.warning("MleyHealthService","initialize","Not on native platform, skipping initialization"),!1;try{const{Health:e}=await Ir(async()=>{const{Health:n}=await import("./index-DY66eOsm.js");return{Health:n}},[]);S1=e,await ze.info("MleyHealthService","initialize","Plugin imported, checking availability");const r=await S1.isHealthAvailable();return await ze.info("MleyHealthService","initialize","Health availability checked",{available:r.available}),this.initialized=!0,r.available}catch(e){return await ze.error("MleyHealthService","initialize","Failed to initialize",e.message),this.initialized=!1,!1}}async requestPermissions(e){if(!this.isNative||!this.initialized)return await ze.error("MleyHealthService","requestPermissions","Service not initialized or not native"),!1;try{const r=e.filter(i=>["READ_STEPS","READ_CALORIES","READ_DISTANCE","READ_HEART_RATE","READ_WORKOUTS","READ_ROUTE"].includes(i));await ze.info("MleyHealthService","requestPermissions","About to request permissions",{validPermissions:r});const n=await S1.requestHealthPermissions({permissions:r});return await ze.info("MleyHealthService","requestPermissions","Permissions requested successfully",{permissions:r,response:n}),!0}catch(r){return await ze.error("MleyHealthService","requestPermissions","Failed to request permissions",r.message),!1}}async queryAggregatedData(e,r,n,i="day"){if(!this.isNative||!this.initialized)return await ze.warning("MleyHealthService","queryAggregatedData","Service not initialized or not native"),[];try{const s=this.normalizeToStartOfDay(r),a=this.normalizeToEndOfDay(n);await ze.info("MleyHealthService","queryAggregatedData","Normalized dates",{original:{start:r.toISOString(),end:n.toISOString()},normalized:{start:s.toISOString(),end:a.toISOString()}});const o=await S1.queryAggregated({dataType:e,startDate:s.toISOString(),endDate:a.toISOString(),bucket:i});return!(o!=null&&o.aggregatedData)||!Array.isArray(o.aggregatedData)?(await ze.warning("MleyHealthService","queryAggregatedData","No aggregated data returned",{dataType:e,result:o}),[]):(await ze.info("MleyHealthService","queryAggregatedData","Data retrieved successfully",{dataType:e,count:o.aggregatedData.length}),o.aggregatedData.map(c=>({type:this.mapToDbDataType(e),value:c.value,unit:this.getUnitForDataType(e),startDate:this.normalizeTimestampForDay(new Date(c.startDate)),endDate:this.normalizeTimestampForDay(new Date(c.endDate)),sourceName:"HealthKit"})))}catch(s){return await ze.error("MleyHealthService","queryAggregatedData","Query failed",s.message),[]}}mapToDbDataType(e){switch(e){case"active-calories":return"calories";case"steps":return"steps";default:return e}}getUnitForDataType(e){switch(e){case"steps":return"count";case"active-calories":return"kcal";case"distance":return"m";case"heart_rate":return"bpm";default:return""}}normalizeToStartOfDay(e){const r=new Date(e);return r.setHours(0,0,0,0),r}normalizeToEndOfDay(e){const r=new Date(e);return r.setHours(23,59,59,999),r}normalizeTimestampForDay(e){const r=new Date(e);return r.setHours(12,0,0,0),r}getIsNative(){return this.isNative}}const Gy=new YUe;var OQ=(t=>(t.STEPS="READ_STEPS",t.CALORIES="READ_CALORIES",t.DISTANCE="READ_DISTANCE",t.HEART_RATE="READ_HEART_RATE",t.WORKOUTS="READ_WORKOUTS",t))(OQ||{});const a$=()=>{const{user:t}=tr(),e=Gy.getIsNative(),[r,n]=j.useState({isAvailable:!1,isInitialized:!e,isConnected:!1,grantedPermissions:[],status:e?"disconnected":"error",isNative:e}),i=j.useCallback(async()=>{if(await ze.info("useHealthIntegration","initializeHealthIntegration","Starting initialization",{},Gy.getIsNative()?"mobile":"web",e),!e){await ze.warning("useHealthIntegration","initializeHealthIntegration","Web platform detected, skipping initialization",{},"web",!1),n(f=>({...f,isAvailable:!1,isInitialized:!0,status:"error"}));return}try{n(p=>({...p,status:"initializing"})),await ze.info("useHealthIntegration","initializeHealthIntegration","Calling mleyHealthService.initialize...",{},"mobile",e);const f=await Gy.initialize();await ze.info("useHealthIntegration","initializeHealthIntegration","Service initialized",{available:f},"mobile",e),f?(n(p=>({...p,isAvailable:!0,isInitialized:!0,status:"disconnected"})),await ze.info("useHealthIntegration","initializeHealthIntegration","Successfully initialized",{},"mobile",e)):(await ze.warning("useHealthIntegration","initializeHealthIntegration","Service not available, but marking as initialized",{},"mobile",e),n(p=>({...p,isAvailable:!1,isInitialized:!0,status:"error"})))}catch(f){await ze.error("useHealthIntegration","initializeHealthIntegration","Error during initialization",f.message,{errorName:f.name,errorStack:f.stack},"mobile",e),n(p=>({...p,isAvailable:!1,isInitialized:!0,status:"error"}))}},[e]);j.useEffect(()=>{t&&ze.info("useHealthIntegration","userDetected","User detected",{userId:t.id},"mobile",e)},[t,e]),j.useEffect(()=>{!r.isInitialized&&e&&i()},[r.isInitialized,i,e]);const s=j.useCallback(async f=>{if(await ze.info("useHealthIntegration","requestPermissions","Requesting permissions",{dataTypes:f},"mobile",e),!r.isNative)return await ze.error("useHealthIntegration","requestPermissions","Not a native platform","",{},"web",!1),!1;if(!r.isInitialized)return await ze.error("useHealthIntegration","requestPermissions","Health integration not initialized","",{state:r},"mobile",e),!1;r.isAvailable||await ze.warning("useHealthIntegration","requestPermissions","Health integration marked as unavailable, but attempting anyway",{},"mobile",e);try{n(g=>({...g,status:"initializing"}));const p=f.map(g=>g.toString());await ze.info("useHealthIntegration","requestPermissions","About to call mleyHealthService.requestPermissions",{permissionStrings:p},"mobile",e);const v=await Gy.requestPermissions(p);return await ze.info("useHealthIntegration","requestPermissions","mleyHealthService.requestPermissions completed",{success:v},"mobile",e),v?(n(g=>({...g,isConnected:!0,isAvailable:!0,grantedPermissions:f,status:"connected",lastSyncTime:new Date})),await ze.info("useHealthIntegration","requestPermissions","Permissions granted successfully, state updated",{dataTypes:f},"mobile",e),wa.success("Permissões do HealthKit concedidas com sucesso!"),!0):(n(g=>({...g,status:"error"})),await ze.error("useHealthIntegration","requestPermissions","Failed to get permissions","",{},"mobile",e),wa.error("Falha ao obter permissões do HealthKit"),!1)}catch(p){return await ze.error("useHealthIntegration","requestPermissions","Error during permission request",p.message,{error:p},"mobile",e),n(v=>({...v,status:"error"})),wa.error("Erro ao solicitar permissões do HealthKit"),!1}},[r.isNative,r.isInitialized]),a=j.useCallback(async f=>{if(await ze.info("useHealthIntegration","syncHealthData","Starting sync",{options:f},"mobile",e),!r.isConnected||!t){await ze.error("useHealthIntegration","syncHealthData","Not connected or no user","",{isConnected:r.isConnected,hasUser:!!t,status:r.status},"mobile",e);return}try{n(y=>({...y,status:"syncing"})),await ze.info("useHealthIntegration","syncHealthData","Set status to syncing",{},"mobile",e);const p=new Date,v=(f==null?void 0:f.days)||7,g=new Date(p.getTime()-v*24*60*60*1e3);g.setHours(0,0,0,0),p.setHours(23,59,59,999),await ze.info("useHealthIntegration","syncHealthData","Date range configured",{startDate:g.toISOString(),endDate:p.toISOString(),days:v,grantedPermissions:r.grantedPermissions},"mobile",e);const x=[];for(const y of r.grantedPermissions){await ze.info("useHealthIntegration","syncHealthData","Processing permission",{permission:y},"mobile",e);const b=c(y);if(await ze.info("useHealthIntegration","syncHealthData","Mapped to dataType",{permission:y,dataType:b},"mobile",e),!b){await ze.warning("useHealthIntegration","syncHealthData","No dataType mapping for permission",{permission:y});continue}await ze.info("useHealthIntegration","syncHealthData","About to fetch data",{dataType:b},"mobile",e);try{const w=await Gy.queryAggregatedData(b,g,p,"day");await ze.info("useHealthIntegration","syncHealthData","Fetched data points",{dataType:b,count:w.length,sampleData:w.slice(0,2)},"mobile",e);const S=w.map(_=>({type:_.type,value:_.value,unit:_.unit,timestamp:_.startDate,source:_.sourceName||"health_app",syncedAt:new Date,syncType:"manual",daysCovered:v}));await ze.info("useHealthIntegration","syncHealthData","Converted data points",{permission:y,convertedCount:S.length},"mobile",e),x.push(...S)}catch(w){await ze.error("useHealthIntegration","syncHealthData",`Error fetching data for ${b}`,w.message,{dataType:b,error:w},"mobile",e)}}if(await ze.info("useHealthIntegration","syncHealthData","Total health data points collected",{totalCount:x.length,breakdown:x.reduce((y,b)=>(y[b.type]=(y[b.type]||0)+1,y),{})},"mobile",e),x.length>0){await ze.info("useHealthIntegration","syncHealthData","About to save to database",{count:x.length},"mobile",e),await o(x),await ze.info("useHealthIntegration","syncHealthData","Successfully saved to database",{count:x.length},"mobile",e),n(b=>({...b,lastSyncTime:new Date,status:"connected"})),localStorage.setItem("lastHealthSync",JSON.stringify({timestamp:new Date().toISOString(),dataPointsCount:x.length,daysCovered:v}));const y=r.isNative?"":" (simulação)";wa.success(`${x.length} dados do HealthKit sincronizados${y}`),await ze.info("useHealthIntegration","syncHealthData","Sync completed successfully",{dataPointsCount:x.length,days:v},"mobile",e)}else n(y=>({...y,status:"connected"})),await ze.warning("useHealthIntegration","syncHealthData","No health data found to sync"),wa.info("Nenhum dado encontrado para sincronizar")}catch(p){throw await ze.error("useHealthIntegration","syncHealthData","Error during sync",p.message,{error:p},"mobile",e),n(v=>({...v,status:"error"})),wa.error("Falha na sincronização do HealthKit"),p}},[r.isConnected,r.grantedPermissions,r.isNative,t]),o=async f=>{if(await ze.info("useHealthIntegration","saveHealthDataToDatabase","Starting database save",{count:f.length},"mobile",e),!t){await ze.error("useHealthIntegration","saveHealthDataToDatabase","No user found","",{},"mobile",e);return}await ze.info("useHealthIntegration","saveHealthDataToDatabase","User and data validated",{userId:t.id,dataPointsCount:f.length},"mobile",e);const p=f.map(g=>({athlete_id:t.id,data_type:g.type,data:{value:g.value,unit:g.unit,source:g.source||"health_app",auto_synced:!0},recorded_at:g.timestamp.toISOString()}));await ze.info("useHealthIntegration","saveHealthDataToDatabase","Records prepared for database",{recordCount:p.length,sampleRecords:p.slice(0,2)},"mobile",e);const{error:v}=await ce.from("athlete_data").insert(p);if(v)throw await ze.error("useHealthIntegration","saveHealthDataToDatabase","Database error during save",v.message,{error:v,recordCount:p.length},"mobile",e),v;await ze.info("useHealthIntegration","saveHealthDataToDatabase","Successfully saved to database",{recordCount:p.length},"mobile",e)},c=f=>{switch(f){case"READ_STEPS":return"steps";case"READ_CALORIES":return"active-calories";default:return null}},u=j.useCallback(async()=>{n(f=>({...f,isConnected:!1,grantedPermissions:[],lastSyncTime:void 0,status:"disconnected"})),localStorage.removeItem("lastHealthSync"),wa.success("Desconectado do HealthKit")},[]),d=j.useCallback(async(f,p)=>{var v;try{if(f&&p){const g={enabledDataTypes:((v=p.dataTypes)==null?void 0:v.map(b=>b.toString()))||r.grantedPermissions.map(b=>b.toString()),syncInterval:p.interval||60,enableBackgroundSync:!0,lastSyncTime:r.lastSyncTime},{healthSyncService:x}=await Ir(async()=>{const{healthSyncService:b}=await import("./healthSyncService-CmS1TetL.js");return{healthSyncService:b}},[]);await x.startBackgroundSync(g);const y=r.isNative?"":" (simulação)";wa.success(`Sincronização em background ativada${y}`),console.log("✅ Background sync enabled with config:",g)}else{const{healthSyncService:g}=await Ir(async()=>{const{healthSyncService:x}=await import("./healthSyncService-CmS1TetL.js");return{healthSyncService:x}},[]);g.stopBackgroundSync(),wa.info("Sincronização em background desativada"),console.log("✅ Background sync disabled")}return!0}catch(g){return console.error("❌ enableBackgroundSync - Error:",g),wa.error("Falha ao configurar sincronização em background"),!1}},[r.grantedPermissions,r.lastSyncTime,r.isNative]),h=j.useCallback(()=>{try{const f=localStorage.getItem("lastHealthSync");return f?JSON.parse(f):null}catch(f){return console.error("❌ getLastSyncInfo - Error:",f),null}},[]);return{...r,requestPermissions:s,syncHealthData:a,disconnect:u,enableBackgroundSync:d,getLastSyncInfo:h}},e6=Object.freeze(Object.defineProperty({__proto__:null,HealthDataType:OQ,useHealthIntegration:a$},Symbol.toStringTag,{value:"Module"})),uh=class uh{constructor(){de(this,"isEnabled",!0);de(this,"userId",null);this.getCurrentUser()}static getInstance(){return uh.instance||(uh.instance=new uh),uh.instance}async getCurrentUser(){try{const{data:{user:e}}=await ce.auth.getUser();this.userId=(e==null?void 0:e.id)||null}catch(e){console.warn("Failed to get user for debug logging:",e)}}setUserId(e){this.userId=e}async saveToDatabase(e){if(!(!this.userId||!this.isEnabled))try{const r=Uv.getPlatform(),n=navigator.userAgent;await ce.from("debug_logs").insert({user_id:this.userId,component:e.component,level:e.level,message:e.message,context:e.context||null,platform:r,user_agent:n})}catch(r){console.error("Failed to save debug log to database:",r)}}async log(e,r,n){const i={component:e,level:"info",message:r,context:n};console.log(`[${e}] ${r}`,n||""),await this.saveToDatabase(i)}async warn(e,r,n){const i={component:e,level:"warn",message:r,context:n};console.warn(`[${e}] ${r}`,n||""),await this.saveToDatabase(i)}async error(e,r,n){const i={component:e,level:"error",message:r,context:n};console.error(`[${e}] ${r}`,n||""),await this.saveToDatabase(i)}async debug(e,r,n){const i={component:e,level:"debug",message:r,context:n};console.debug(`[${e}] ${r}`,n||""),await this.saveToDatabase(i)}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}};de(uh,"instance");let wM=uh;const Ky=wM.getInstance(),XUe=({onClose:t})=>{const{isAvailable:e,isInitialized:r,isConnected:n,grantedPermissions:i,lastSyncTime:s,status:a,requestPermissions:o,syncHealthData:c,disconnect:u,enableBackgroundSync:d,isNative:h}=a$(),f=async()=>{await Ky.log("HealthIntegrationSettings","handleConnect button clicked",{isAvailable:e,isInitialized:r,isConnected:n,status:a,isNative:h});try{const{HealthDataType:y}=await Ir(async()=>{const{HealthDataType:S}=await Promise.resolve().then(()=>e6);return{HealthDataType:S}},void 0);await Ky.log("HealthIntegrationSettings","HealthDataType imported successfully");const b=[y.STEPS,y.CALORIES,y.DISTANCE,y.HEART_RATE,y.WORKOUTS];await Ky.log("HealthIntegrationSettings","About to request permissions",{dataTypesCount:b.length,dataTypes:b});const w=await o(b);await Ky.log("HealthIntegrationSettings","Permission request completed",{result:w})}catch(y){await Ky.error("HealthIntegrationSettings","Error in handleConnect",{error:y.message})}},p=async()=>{await c({days:7,showProgress:!0})},v=async y=>{const{HealthDataType:b}=await Ir(async()=>{const{HealthDataType:w}=await Promise.resolve().then(()=>e6);return{HealthDataType:w}},void 0);await d(y,{interval:60,dataTypes:Object.values(b)})},g=()=>a==="syncing"?"bg-blue-500":a==="connected"?"bg-green-500":a==="error"?"bg-red-500":"bg-gray-500",x=()=>a==="syncing"?l.jsx(Uo,{className:"h-4 w-4 animate-spin"}):a==="connected"?l.jsx(nv,{className:"h-4 w-4"}):a==="error"?l.jsx(iv,{className:"h-4 w-4"}):null;return r?l.jsx("div",{className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(lb,{className:"h-5 w-5"}),"Integração de Dados de Saúde"]}),l.jsx(Ye,{children:h?"Conecte-se ao app Saúde do seu dispositivo para sincronizar dados automaticamente":"A integração de dados de saúde está disponível apenas em dispositivos móveis"})]}),l.jsx(Ie,{className:"space-y-4",children:h?n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:"Status da Conexão"}),l.jsxs(it,{variant:n?"default":"secondary",className:`${g()} text-white`,children:[x(),n?"Conectado":"Desconectado"]})]}),s&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última sincronização: ",XE(s,{addSuffix:!0})]})]}),n?l.jsxs("div",{className:"flex gap-2",children:[l.jsx(te,{variant:"outline",size:"sm",onClick:p,disabled:a==="syncing",children:a==="syncing"?l.jsx(Uo,{className:"h-4 w-4 animate-spin"}):l.jsx(ob,{className:"h-4 w-4"})}),l.jsx(te,{variant:"destructive",size:"sm",onClick:u,children:"Desconectar"})]}):l.jsx(te,{onClick:f,disabled:a==="syncing",className:"min-w-[120px]",children:a==="syncing"?l.jsxs(l.Fragment,{children:[l.jsx(Uo,{className:"h-4 w-4 mr-2 animate-spin"}),"Conectando..."]}):"Conectar ao HealthKit"})]}),n&&i.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-medium",children:"Permissões de Dados"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(y=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/50",children:[l.jsx("span",{className:"text-sm capitalize",children:y.replace("_"," ")}),l.jsx(nv,{className:"h-4 w-4 text-green-500"})]},y))})]}),n&&l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ja,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:"Sincronização Automática"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sincronizar dados de saúde automaticamente em segundo plano"})]}),l.jsx(Lr,{checked:!0,onCheckedChange:v})]})}),l.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Como funciona"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Sincroniza dados do app Saúde do seu dispositivo"}),l.jsx("li",{children:"• Atualiza suas métricas automaticamente"}),l.jsx("li",{children:"• Você ainda pode inserir dados manualmente"}),l.jsx("li",{children:"• Seus dados de saúde permanecem privados e seguros"})]})]})]}):l.jsxs("div",{className:"text-center py-8 space-y-4",children:[l.jsx(av,{className:"h-12 w-12 mx-auto mb-4 opacity-50 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Configure o HealthKit"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte-se ao app Saúde para sincronizar seus dados automaticamente"}),!e&&l.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"⚠️ Detectado problema na verificação inicial. Tentando conexão..."})]}),l.jsx(te,{onClick:f,className:"mt-4",disabled:a==="syncing",children:a==="syncing"?l.jsxs(l.Fragment,{children:[l.jsx(Uo,{className:"h-4 w-4 mr-2 animate-spin"}),"Solicitando Permissões..."]}):l.jsxs(l.Fragment,{children:[l.jsx(av,{className:"h-4 w-4 mr-2"}),"Configurar HealthKit"]})})]}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(lb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"A integração de saúde requer um dispositivo móvel"}),l.jsx("p",{className:"text-sm",children:"Abra este aplicativo no seu celular ou tablet"})]})})]})}):l.jsx(he,{children:l.jsxs(Ie,{className:"flex items-center justify-center py-8",children:[l.jsx(Uo,{className:"h-6 w-6 animate-spin mr-2"}),l.jsx("span",{children:"Initializing health integration..."})]})})},ZUe=({open:t,onOpenChange:e})=>{const{user:r,profile:n}=tr(),{toast:i}=Os(),[s,a]=j.useState(!1),[o,c]=j.useState("profile"),[u,d]=j.useState({full_name:(n==null?void 0:n.full_name)||"",email:(r==null?void 0:r.email)||"",phone:"",location:"",bio:"",sport:"",position:"",height:0,weight:0,birth_date:"",experience_level:"",coach:"",goals:"",medical_conditions:"",emergency_contact_name:"",emergency_contact_phone:""}),[h,f]=j.useState({session_reminders:!0,data_entry_reminders:!0,professional_messages:!0,goal_updates:!0,weekly_reports:!1,marketing_emails:!1}),[p,v]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=j.useState([]),[y,b]=j.useState([]),[w,S]=j.useState(""),[_,A]=j.useState([]),[E,N]=j.useState(!1),[T,D]=j.useState(null),[O,I]=j.useState(""),[F,$]=j.useState("");j.useEffect(()=>{n&&r&&d(V=>({...V,full_name:n.full_name||"",email:r.email||""}))},[n,r]),j.useEffect(()=>{r&&o==="professionals"&&(P(),R())},[r,o]);const B=async()=>{try{a(!0);const{error:V}=await ce.from("profiles").update({full_name:u.full_name,updated_at:new Date().toISOString()}).eq("user_id",r==null?void 0:r.id);if(V)throw V;i({title:"Perfil atualizado!",description:"Suas informações foram salvas com sucesso."})}catch(V){console.error("Error updating profile:",V),i({title:"Erro",description:"Não foi possível atualizar o perfil.",variant:"destructive"})}finally{a(!1)}},L=async()=>{if(p.newPassword!==p.confirmPassword){i({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}try{a(!0);const{error:V}=await ce.auth.updateUser({password:p.newPassword});if(V)throw V;i({title:"Senha alterada!",description:"Sua senha foi atualizada com sucesso."}),v({currentPassword:"",newPassword:"",confirmPassword:""})}catch(V){console.error("Error changing password:",V),i({title:"Erro",description:"Não foi possível alterar a senha.",variant:"destructive"})}finally{a(!1)}},P=async()=>{try{const{data:V,error:H}=await ce.from("athlete_professional_relationships").select(`
          *,
          professional:profiles!athlete_professional_relationships_professional_id_fkey(
            id,
            user_id,
            full_name,
            user_type
          )
        `).eq("athlete_id",r==null?void 0:r.id);if(H)throw H;x(V||[])}catch(V){console.error("Error fetching relationships:",V)}},R=async()=>{try{const{data:V,error:H}=await ce.from("professional_invitations").select("*").eq("athlete_id",r==null?void 0:r.id);if(H)throw H;b(V||[])}catch(V){console.error("Error fetching invitations:",V)}},U=async V=>{if(!V.trim()){A([]);return}try{const H=g.map(ae=>ae.professional_id),{data:Q,error:ie}=await ce.from("profiles").select("user_id, full_name, user_type").eq("user_type","professional").ilike("full_name",`%${V}%`).not("user_id","in",`(${H.join(",")})`).limit(10);if(ie)throw ie;A(Q||[])}catch(H){console.error("Error searching professionals:",H)}},Y=async()=>{if(!(!T||!O))try{a(!0);const{error:V}=await ce.from("athlete_professional_relationships").insert({athlete_id:r==null?void 0:r.id,professional_id:T.user_id,specialty:O,status:"pending"});if(V)throw V;i({title:"Convite enviado!",description:"O profissional foi convidado para sua equipe."}),N(!1),D(null),I(""),$(""),P()}catch(V){console.error("Error sending invitation:",V),i({title:"Erro",description:"Não foi possível enviar o convite.",variant:"destructive"})}finally{a(!1)}},J=async V=>{try{const{error:H}=await ce.from("athlete_professional_relationships").delete().eq("id",V);if(H)throw H;i({title:"Profissional removido",description:"O profissional foi removido da sua equipe."}),P()}catch(H){console.error("Error removing relationship:",H),i({title:"Erro",description:"Não foi possível remover o profissional.",variant:"destructive"})}},X=V=>{switch(V){case"accepted":return"text-green-600";case"pending":return"text-yellow-600";case"rejected":return"text-red-600";default:return"text-gray-600"}},ee=V=>{switch(V){case"accepted":return"Aceito";case"pending":return"Pendente";case"rejected":return"Rejeitado";default:return V}},ue=V=>({personal_trainer:"Personal Trainer",physiotherapist:"Fisioterapeuta",nutritionist:"Nutricionista",psychologist:"Psicólogo",doctor:"Médico",coach:"Treinador"})[V]||V,we=[{value:"futebol",label:"Futebol"},{value:"basquete",label:"Basquete"},{value:"volei",label:"Vôlei"},{value:"tenis",label:"Tênis"},{value:"natacao",label:"Natação"},{value:"corrida",label:"Corrida"},{value:"ciclismo",label:"Ciclismo"},{value:"musculacao",label:"Musculação"},{value:"crossfit",label:"CrossFit"},{value:"mma",label:"MMA/Luta"},{value:"outros",label:"Outros"}],je=[{value:"iniciante",label:"Iniciante (0-1 ano)"},{value:"intermediario",label:"Intermediário (1-3 anos)"},{value:"avancado",label:"Avançado (3-5 anos)"},{value:"expert",label:"Expert (5+ anos)"},{value:"profissional",label:"Profissional"}];return l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Gr,{children:l.jsxs(Kr,{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-5 h-5"}),"Configurações do Perfil do Atleta"]})}),l.jsxs(ao,{value:o,onValueChange:c,className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-6",children:[l.jsx(st,{value:"profile",children:"Perfil"}),l.jsx(st,{value:"sports",children:"Esporte"}),l.jsx(st,{value:"health",children:"Saúde"}),l.jsx(st,{value:"professionals",children:"Profissionais"}),l.jsx(st,{value:"notifications",children:"Notificações"}),l.jsx(st,{value:"security",children:"Segurança"})]}),l.jsx(at,{value:"profile",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-5 h-5"}),"Informações Pessoais"]}),l.jsx(Ye,{children:"Atualize suas informações básicas do perfil"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx(ta,{className:"h-24 w-24",children:l.jsx(ra,{className:"text-2xl",children:u.full_name.split(" ").map(V=>V[0]).join("")})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(te,{variant:"outline",size:"sm",children:[l.jsx(e8,{className:"w-4 h-4 mr-2"}),"Alterar Foto"]}),l.jsxs(te,{variant:"ghost",size:"sm",className:"text-red-600",children:[l.jsx(Gv,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"fullName",children:"Nome Completo"}),l.jsx(se,{id:"fullName",value:u.full_name,onChange:V=>d(H=>({...H,full_name:V.target.value})),placeholder:"Seu nome completo"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"email",children:"Email"}),l.jsx(se,{id:"email",type:"email",value:u.email,disabled:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"phone",children:"Telefone"}),l.jsx(se,{id:"phone",value:u.phone,onChange:V=>d(H=>({...H,phone:V.target.value})),placeholder:"(11) 99999-9999"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"birthDate",children:"Data de Nascimento"}),l.jsx(se,{id:"birthDate",type:"date",value:u.birth_date,onChange:V=>d(H=>({...H,birth_date:V.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"location",children:"Localização"}),l.jsx(se,{id:"location",value:u.location,onChange:V=>d(H=>({...H,location:V.target.value})),placeholder:"Cidade, Estado"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"coach",children:"Treinador/Coach"}),l.jsx(se,{id:"coach",value:u.coach,onChange:V=>d(H=>({...H,coach:V.target.value})),placeholder:"Nome do seu treinador"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Contato de Emergência"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"emergencyName",children:"Nome"}),l.jsx(se,{id:"emergencyName",value:u.emergency_contact_name,onChange:V=>d(H=>({...H,emergency_contact_name:V.target.value})),placeholder:"Nome do contato"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"emergencyPhone",children:"Telefone"}),l.jsx(se,{id:"emergencyPhone",value:u.emergency_contact_phone,onChange:V=>d(H=>({...H,emergency_contact_phone:V.target.value})),placeholder:"(11) 99999-9999"})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(te,{onClick:B,disabled:s,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),s?"Salvando...":"Salvar Alterações"]})})]})]})}),l.jsx(at,{value:"sports",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"w-5 h-5"}),"Informações Esportivas"]}),l.jsx(Ye,{children:"Configure informações sobre seu esporte e objetivos"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"sport",children:"Esporte Principal"}),l.jsxs(ft,{value:u.sport,onValueChange:V=>d(H=>({...H,sport:V})),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione seu esporte"})}),l.jsx(ut,{children:we.map(V=>l.jsx(ne,{value:V.value,children:V.label},V.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"position",children:"Posição/Especialidade"}),l.jsx(se,{id:"position",value:u.position,onChange:V=>d(H=>({...H,position:V.target.value})),placeholder:"Ex: Atacante, Velocista, etc."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"experience",children:"Nível de Experiência"}),l.jsxs(ft,{value:u.experience_level,onValueChange:V=>d(H=>({...H,experience_level:V})),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione seu nível"})}),l.jsx(ut,{children:je.map(V=>l.jsx(ne,{value:V.value,children:V.label},V.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"height",children:"Altura (cm)"}),l.jsx(se,{id:"height",type:"number",value:u.height||"",onChange:V=>d(H=>({...H,height:parseInt(V.target.value)||0})),placeholder:"180"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"weight",children:"Peso (kg)"}),l.jsx(se,{id:"weight",type:"number",value:u.weight||"",onChange:V=>d(H=>({...H,weight:parseInt(V.target.value)||0})),placeholder:"75"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"goals",children:"Objetivos e Metas"}),l.jsx(Se,{id:"goals",value:u.goals,onChange:V=>d(H=>({...H,goals:V.target.value})),placeholder:"Descreva seus objetivos esportivos, metas para competições, etc.",rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"medical",children:"Condições Médicas/Lesões"}),l.jsx(Se,{id:"medical",value:u.medical_conditions,onChange:V=>d(H=>({...H,medical_conditions:V.target.value})),placeholder:"Histórico de lesões, alergias, condições médicas relevantes...",rows:3})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(te,{onClick:B,disabled:s,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),s?"Salvando...":"Salvar Informações Esportivas"]})})]})]})}),l.jsx(at,{value:"health",className:"space-y-6",children:l.jsx(XUe,{})}),l.jsx(at,{value:"professionals",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(sn,{className:"w-5 h-5"}),"Minha Equipe de Profissionais"]}),l.jsx(Ye,{children:"Gerencie os profissionais que acompanham seu desenvolvimento esportivo"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(jD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),l.jsx(se,{placeholder:"Buscar profissionais...",value:w,onChange:V=>{S(V.target.value),U(V.target.value)},className:"pl-10"})]}),l.jsxs(te,{variant:"outline",onClick:()=>N(!0),children:[l.jsx(ZS,{className:"w-4 h-4 mr-2"}),"Convidar"]})]}),_.length>0&&l.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:"Resultados da busca:"}),_.map(V=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:V.full_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Profissional"})]}),l.jsxs(te,{size:"sm",onClick:()=>{D(V),N(!0)},children:[l.jsx(ZS,{className:"w-4 h-4 mr-1"}),"Convidar"]})]},V.user_id))]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Equipe Atual"}),g.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(sn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("p",{children:"Você ainda não tem profissionais em sua equipe."}),l.jsx("p",{className:"text-sm",children:"Use a busca acima para encontrar e convidar profissionais."})]}):l.jsx("div",{className:"grid gap-4",children:g.map(V=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(Xs,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:V.professional.full_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:ue(V.specialty)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Convidado em ",new Date(V.invited_at).toLocaleDateString("pt-BR")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[V.status==="accepted"&&l.jsx(nv,{className:"w-4 h-4 text-green-600"}),V.status==="pending"&&l.jsx(Ja,{className:"w-4 h-4 text-yellow-600"}),V.status==="rejected"&&l.jsx(iv,{className:"w-4 h-4 text-red-600"}),l.jsx("span",{className:`text-sm ${X(V.status)}`,children:ee(V.status)})]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>J(V.id),className:"text-red-600 hover:text-red-700",children:l.jsx(lp,{className:"w-4 h-4"})})]})]},V.id))})]}),E&&l.jsx(cn,{open:E,onOpenChange:N,children:l.jsxs(qr,{className:"sm:max-w-md",children:[l.jsx(Gr,{children:l.jsx(Kr,{children:"Convidar Profissional"})}),l.jsxs("div",{className:"space-y-4",children:[T&&l.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[l.jsx("p",{className:"font-medium",children:T.full_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Profissional"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"specialty",children:"Especialidade"}),l.jsxs(ft,{value:O,onValueChange:I,children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione a especialidade"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"personal_trainer",children:"Personal Trainer"}),l.jsx(ne,{value:"physiotherapist",children:"Fisioterapeuta"}),l.jsx(ne,{value:"nutritionist",children:"Nutricionista"}),l.jsx(ne,{value:"psychologist",children:"Psicólogo"}),l.jsx(ne,{value:"doctor",children:"Médico"}),l.jsx(ne,{value:"coach",children:"Treinador"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"message",children:"Mensagem (opcional)"}),l.jsx(Se,{id:"message",value:F,onChange:V=>$(V.target.value),placeholder:"Adicione uma mensagem personalizada...",rows:3})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(te,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),l.jsx(te,{onClick:Y,disabled:!O||s,children:s?"Enviando...":"Enviar Convite"})]})]})]})})]})]})}),l.jsx(at,{value:"notifications",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(yd,{className:"w-5 h-5"}),"Preferências de Notificação"]}),l.jsx(Ye,{children:"Configure como você quer receber notificações"})]}),l.jsx(Ie,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Lembretes de Sessões"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes de consultas agendadas"})]}),l.jsx(Lr,{checked:h.session_reminders,onCheckedChange:V=>f(H=>({...H,session_reminders:V}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Lembretes de Dados"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes para registrar treinos e métricas"})]}),l.jsx(Lr,{checked:h.data_entry_reminders,onCheckedChange:V=>f(H=>({...H,data_entry_reminders:V}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Mensagens de Profissionais"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificações de mensagens de treinadores e profissionais"})]}),l.jsx(Lr,{checked:h.professional_messages,onCheckedChange:V=>f(H=>({...H,professional_messages:V}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Atualizações de Metas"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificações sobre progresso de metas e objetivos"})]}),l.jsx(Lr,{checked:h.goal_updates,onCheckedChange:V=>f(H=>({...H,goal_updates:V}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Relatórios Semanais"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba resumos semanais de performance"})]}),l.jsx(Lr,{checked:h.weekly_reports,onCheckedChange:V=>f(H=>({...H,weekly_reports:V}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Emails de Marketing"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba novidades e promoções por email"})]}),l.jsx(Lr,{checked:h.marketing_emails,onCheckedChange:V=>f(H=>({...H,marketing_emails:V}))})]})]})})]})}),l.jsx(at,{value:"security",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(av,{className:"w-5 h-5"}),"Segurança da Conta"]}),l.jsx(Ye,{children:"Gerencie sua senha e configurações de segurança"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Email da conta"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r==null?void 0:r.email})]}),l.jsx(it,{variant:"outline",children:"Verificado"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Tipo de usuário"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Atleta"})]}),l.jsx(it,{variant:"secondary",children:"Ativo"})]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Alterar Senha"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-md",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"currentPassword",children:"Senha Atual"}),l.jsx(se,{id:"currentPassword",type:"password",value:p.currentPassword,onChange:V=>v(H=>({...H,currentPassword:V.target.value})),placeholder:"Digite sua senha atual"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"newPassword",children:"Nova Senha"}),l.jsx(se,{id:"newPassword",type:"password",value:p.newPassword,onChange:V=>v(H=>({...H,newPassword:V.target.value})),placeholder:"Digite a nova senha"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),l.jsx(se,{id:"confirmPassword",type:"password",value:p.confirmPassword,onChange:V=>v(H=>({...H,confirmPassword:V.target.value})),placeholder:"Confirme a nova senha"})]}),l.jsx(te,{onClick:L,disabled:s||!p.newPassword||!p.confirmPassword,className:"w-fit",children:s?"Alterando...":"Alterar Senha"})]})]})]})]})})]})]})})},MQ=()=>{var ie,ae;const{user:t,profile:e}=tr(),{conversations:r,messages:n,fetchMessages:i,markConversationAsRead:s,refetchConversations:a}=KE(),{toast:o}=Os(),[c,u]=j.useState([]),[d,h]=j.useState([]),[f,p]=j.useState([]),[v,g]=j.useState(null),[x,y]=j.useState(null),[b,w]=j.useState([]),[S,_]=j.useState(""),[A,E]=j.useState(!1),[N,T]=j.useState(!1),[D,O]=j.useState(""),[I,F]=j.useState(""),[$,B]=j.useState([]),L=j.useRef(null);j.useRef(null);const P=(e==null?void 0:e.user_type)==="athlete",R=(e==null?void 0:e.user_type)==="professional";j.useEffect(()=>{t&&(P||R)&&(console.log("🔄 CommunicationCenter: Initializing for user type:",e==null?void 0:e.user_type),P?J():X(),ee())},[t,e]),j.useEffect(()=>{v?(i(v),s(v),y(null),setTimeout(()=>Y(),100)):x&&(ue(x),g(null),setTimeout(()=>Y(),100))},[v,x]),j.useEffect(()=>{if(!v)return;let W=0;const me=async()=>{const Fe=W;await i(v),setTimeout(()=>{const rt=n[v]||[];rt.length>Fe&&Fe>0&&(console.log("📝 New messages detected in open conversation, scrolling..."),setTimeout(()=>Y(),100)),W=rt.length},100)};W=(n[v]||[]).length;const Oe=setInterval(me,2e3);return()=>clearInterval(Oe)},[v]),j.useEffect(()=>{if(!t)return;console.log("🔄 Setting up conversation list polling for user:",t.id,"type:",e==null?void 0:e.user_type);const me=setInterval(async()=>{console.log("🔄 Refreshing conversation list..."),typeof a=="function"&&await a()},5e3);return()=>clearInterval(me)},[t,e]);const U=j.useRef({});j.useEffect(()=>{if(v){const W=n[v],me=U.current[v]||0;W&&W.length>me&&setTimeout(()=>Y(),100),U.current[v]=(W==null?void 0:W.length)||0}},[n,v]);const Y=()=>{L.current&&L.current.scrollIntoView({behavior:"smooth",block:"end"})},J=async()=>{try{const{data:W,error:me}=await ce.from("athlete_professional_relationships").select(`
          professional_id,
          professional:profiles!athlete_professional_relationships_professional_id_fkey(user_id, full_name)
        `).eq("athlete_id",t==null?void 0:t.id).eq("status","accepted");if(me)throw me;const Ae=(W==null?void 0:W.map(Oe=>{var Fe,rt;return{user_id:(Fe=Oe.professional)==null?void 0:Fe.user_id,full_name:(rt=Oe.professional)==null?void 0:rt.full_name}}).filter(Oe=>Oe.user_id))||[];u(Ae)}catch(W){console.error("Error fetching professionals:",W)}},X=async()=>{try{const{data:W,error:me}=await ce.from("athlete_professional_relationships").select(`
          athlete_id,
          athlete:profiles!athlete_professional_relationships_athlete_id_fkey(user_id, full_name)
        `).eq("professional_id",t==null?void 0:t.id).eq("status","accepted");if(me)throw me;const Ae=(W==null?void 0:W.map(Oe=>{var Fe,rt;return{user_id:(Fe=Oe.athlete)==null?void 0:Fe.user_id,full_name:(rt=Oe.athlete)==null?void 0:rt.full_name}}).filter(Oe=>Oe.user_id))||[];h(Ae)}catch(W){console.error("Error fetching athletes:",W)}},ee=async()=>{try{const{data:W,error:me}=await ce.from("group_conversations").select(`
          id,
          name,
          description,
          updated_at,
          participants:group_participants(count)
        `).order("updated_at",{ascending:!1});if(me)throw me;const Ae=(W==null?void 0:W.map(Oe=>{var Fe;return{id:Oe.id,name:Oe.name,description:Oe.description,participants_count:((Fe=Oe.participants[0])==null?void 0:Fe.count)||0,last_message_at:Oe.updated_at}}))||[];p(Ae)}catch(W){console.error("Error fetching group conversations:",W)}},ue=async W=>{try{const{data:me,error:Ae}=await ce.from("group_messages").select(`
          id,
          content,
          sender_id,
          created_at,
          sender:profiles!group_messages_sender_id_fkey(full_name)
        `).eq("group_id",W).order("created_at",{ascending:!0});if(Ae)throw Ae;const Oe=(me==null?void 0:me.map(Fe=>{var rt;return{id:Fe.id,content:Fe.content,sender_id:Fe.sender_id,created_at:Fe.created_at,sender_name:((rt=Fe.sender)==null?void 0:rt.full_name)||"Usuário"}}))||[];w(Oe)}catch(me){console.error("Error fetching group messages:",me)}},we=async W=>{try{E(!0);const{data:me}=await ce.from("conversations").select("id").eq("athlete_id",P?t==null?void 0:t.id:W).eq("professional_id",P?W:t==null?void 0:t.id).single();if(me){g(me.id);return}const Oe=(P?c:d).find(kr=>kr.user_id===W),{data:Fe,error:rt}=await ce.from("conversations").insert([{athlete_id:P?t==null?void 0:t.id:W,professional_id:P?W:t==null?void 0:t.id,title:`Conversa com ${Oe==null?void 0:Oe.full_name}`}]).select().single();if(rt)throw rt;g(Fe.id),o({title:"Conversa iniciada",description:`Você pode começar a conversar com ${P?"o profissional":"o atleta"}.`})}catch(me){console.error("Error starting conversation:",me),o({title:"Erro",description:"Não foi possível iniciar a conversa.",variant:"destructive"})}finally{E(!1)}},je=async()=>{if(!(!S.trim()||!t))try{if(v){const{error:W}=await ce.from("messages").insert([{conversation_id:v,sender_id:t.id,content:S.trim()}]);if(W)throw W;_(""),await i(v),setTimeout(()=>Y(),100),await ce.from("conversations").update({updated_at:new Date().toISOString()}).eq("id",v)}else if(x){const{error:W}=await ce.from("group_messages").insert([{group_id:x,sender_id:t.id,content:S.trim()}]);if(W)throw W;_(""),await ue(x),setTimeout(()=>Y(),100),await ce.from("group_conversations").update({updated_at:new Date().toISOString()}).eq("id",x)}}catch(W){console.error("Error sending message:",W),o({title:"Erro",description:"Não foi possível enviar a mensagem.",variant:"destructive"})}},V=W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),je())},H=async()=>{if(!(!D.trim()||$.length===0))try{E(!0);const{data:W,error:me}=await ce.from("group_conversations").insert([{name:D.trim(),description:I.trim()||null,created_by:t==null?void 0:t.id}]).select().single();if(me)throw me;const Ae=[{group_id:W.id,user_id:t==null?void 0:t.id,role:"admin"},...$.map(Fe=>({group_id:W.id,user_id:Fe,role:"member"}))],{error:Oe}=await ce.from("group_participants").insert(Ae);if(Oe)throw Oe;O(""),F(""),B([]),T(!1),await ee(),o({title:"Grupo criado!",description:"O grupo de conversa foi criado com sucesso."})}catch(W){console.error("Error creating group:",W),o({title:"Erro",description:"Não foi possível criar o grupo.",variant:"destructive"})}finally{E(!1)}};if(!P&&!R)return null;const Q=v?n[v]||[]:[];return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[600px]",children:[l.jsxs(he,{children:[l.jsx(Be,{children:l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(sn,{className:"h-5 w-5"}),P?"Profissionais":"Atletas"]})}),l.jsx(Ie,{children:l.jsx(Cs,{className:"h-[200px]",children:l.jsx("div",{className:"space-y-2",children:(P?c:d).map(W=>{var me;return l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border hover:bg-accent cursor-pointer",onClick:()=>we(W.user_id),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ta,{className:"h-8 w-8",children:l.jsx(ra,{children:((me=W.full_name)==null?void 0:me.charAt(0).toUpperCase())||(P?"P":"A")})}),l.jsx("span",{className:"text-sm font-medium",children:W.full_name||(P?"Profissional":"Atleta")})]}),l.jsx(zL,{className:"h-4 w-4 text-muted-foreground"})]},W.user_id)})})})})]}),l.jsxs(he,{children:[l.jsx(Be,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Le,{children:"Conversas"}),P&&l.jsxs(cn,{open:N,onOpenChange:T,children:[l.jsx(mp,{asChild:!0,children:l.jsxs(te,{variant:"outline",size:"sm",children:[l.jsx(Dc,{className:"h-4 w-4 mr-1"}),"Grupo"]})}),l.jsxs(qr,{children:[l.jsx(Gr,{children:l.jsx(Kr,{children:"Criar Grupo de Conversa"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"groupName",children:"Nome do Grupo"}),l.jsx(se,{id:"groupName",value:D,onChange:W=>O(W.target.value),placeholder:"Ex: Equipe Médica"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"groupDescription",children:"Descrição (opcional)"}),l.jsx(Se,{id:"groupDescription",value:I,onChange:W=>F(W.target.value),placeholder:"Descreva o propósito do grupo..."})]}),l.jsxs("div",{children:[l.jsx(G,{children:"Selecionar Profissionais"}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(W=>{var me;return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mj,{id:W.user_id,checked:$.includes(W.user_id),onCheckedChange:Ae=>{B(Ae?[...$,W.user_id]:$.filter(Oe=>Oe!==W.user_id))}}),l.jsxs(G,{htmlFor:W.user_id,className:"flex items-center gap-2 cursor-pointer",children:[l.jsx(ta,{className:"h-6 w-6",children:l.jsx(ra,{className:"text-xs",children:((me=W.full_name)==null?void 0:me.charAt(0))||"P"})}),W.full_name||"Profissional"]})]},W.user_id)})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(te,{onClick:H,disabled:A||!D.trim()||$.length===0,className:"flex-1",children:A?"Criando...":"Criar Grupo"}),l.jsx(te,{variant:"outline",onClick:()=>T(!1),children:"Cancelar"})]})]})]})]})]})}),l.jsx(Ie,{children:l.jsx(Cs,{className:"h-[500px]",children:l.jsxs("div",{className:"space-y-2",children:[f.map(W=>l.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${x===W.id?"bg-primary text-primary-foreground":"hover:bg-accent"}`,onClick:()=>y(W.id),children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sn,{className:"h-4 w-4"}),l.jsx("div",{className:"font-medium text-sm",children:W.name})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[W.participants_count," participantes • ",new Date(W.last_message_at).toLocaleDateString()]})]},W.id)),r.map(W=>l.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${v===W.id?"bg-primary text-primary-foreground":"hover:bg-accent"}`,onClick:()=>{v===W.id?(i(W.id),s(W.id),setTimeout(()=>Y(),100)):g(W.id)},children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium text-sm",children:W.other_party_name}),W.unread_count>0&&l.jsx(it,{variant:"destructive",className:"ml-2 text-xs",children:W.unread_count})]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(W.updated_at).toLocaleDateString()})]},W.id))]})})})]}),l.jsxs(he,{children:[l.jsx(Be,{children:l.jsx(Le,{children:v?(ie=r.find(W=>W.id===v))==null?void 0:ie.other_party_name:x?(ae=f.find(W=>W.id===x))==null?void 0:ae.name:"Selecione uma conversa"})}),l.jsx(Ie,{className:"flex flex-col h-[500px]",children:v||x?l.jsxs(l.Fragment,{children:[l.jsx(Cs,{className:"flex-1 mb-4",children:l.jsxs("div",{className:"space-y-4",children:[(v?Q:b).map(W=>l.jsx("div",{className:`flex ${W.sender_id===(t==null?void 0:t.id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${W.sender_id===(t==null?void 0:t.id)?"bg-primary text-primary-foreground":"bg-muted"}`,children:[l.jsx("div",{className:"text-sm",children:W.content}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(W.created_at).toLocaleTimeString()})]})},W.id)),l.jsx("div",{ref:L})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{value:S,onChange:W=>_(W.target.value),onKeyPress:V,placeholder:"Digite sua mensagem...",className:"flex-1"}),l.jsx(te,{onClick:je,disabled:!S.trim(),size:"icon",children:l.jsx(s8,{className:"h-4 w-4"})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:l.jsxs("div",{className:"text-center",children:[l.jsx(zL,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Selecione uma conversa ou inicie uma nova"})]})})})]})]})},QUe=({className:t})=>{const{isInitialized:e,isConnected:r,grantedPermissions:n,status:i,syncHealthData:s,isNative:a}=a$(),[o,c]=j.useState(!1),[u,d]=j.useState(0),f=(()=>{try{const y=localStorage.getItem("lastHealthSync");return y?JSON.parse(y):null}catch(y){return console.error("Failed to get last sync info:",y),null}})(),p=async()=>{if(r)try{c(!0),d(0);const y=setInterval(()=>{d(b=>b>=95?(clearInterval(y),95):b+15)},200);await s({days:7,showProgress:!0}),d(100),setTimeout(()=>{c(!1),d(0)},1e3)}catch(y){console.error("Manual sync failed:",y),wa.error("Falha na sincronização manual"),c(!1),d(0)}},v=()=>i==="syncing"||o?"bg-blue-500":i==="connected"?"bg-green-500":i==="error"?"bg-red-500":"bg-muted-foreground",g=()=>i==="syncing"||o?l.jsx(Uo,{className:"h-4 w-4 animate-spin"}):i==="connected"?l.jsx(nv,{className:"h-4 w-4"}):i==="error"?l.jsx(iv,{className:"h-4 w-4"}):l.jsx(Ja,{className:"h-4 w-4"}),x=()=>o||i==="syncing"?"Sincronizando...":i==="connected"?"Conectado":i==="error"?"Erro":i==="initializing"?"Inicializando...":"Desconectado";return!a||!e?null:l.jsxs(he,{className:`${t} hover:shadow-card-sport transition-shadow`,children:[l.jsxs(Be,{className:"pb-3",children:[l.jsxs(Le,{className:"flex items-center gap-2 text-lg",children:[l.jsx(Gt,{className:"w-5 h-5 text-primary"}),"HealthKit Sync"]}),l.jsx(Ye,{className:"text-sm",children:"Sincronização automática de dados de saúde"})]}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${v()}`}),l.jsx("span",{className:"text-sm font-medium",children:"Status:"}),l.jsx("span",{className:"text-sm text-foreground",children:x()})]}),l.jsx("div",{className:"text-muted-foreground",children:g()})]}),o&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"Sincronizando dados..."}),l.jsxs("span",{children:[u,"%"]})]}),l.jsx(Xo,{value:u,className:"h-1.5"})]}),f&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[l.jsx(al,{className:"w-3 h-3"}),l.jsx("span",{children:"Último sync:"})]}),l.jsx("span",{className:"text-foreground font-medium",children:XE(new Date(f.timestamp),{addSuffix:!0})})]}),f&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Dados sincronizados:"}),l.jsxs(it,{variant:"outline",className:"text-xs",children:[f.dataPointsCount," pontos"]})]}),r&&n.length>0&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Permissões ativas:"}),l.jsxs(it,{variant:"secondary",className:"text-xs",children:[n.length," tipos de dados"]})]}),r&&l.jsx(te,{onClick:p,disabled:o||i==="syncing",className:"w-full",size:"sm",variant:"outline",children:o||i==="syncing"?l.jsxs(l.Fragment,{children:[l.jsx(Uo,{className:"w-4 h-4 mr-2 animate-spin"}),"Sincronizando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ob,{className:"w-4 h-4 mr-2"}),"Sincronizar Agora"]})}),!r&&l.jsxs("div",{className:"text-center py-4 space-y-2",children:[l.jsx(lb,{className:"w-8 h-8 mx-auto text-muted-foreground opacity-50"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"HealthKit não conectado"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure nas Configurações do Perfil"})]}),r&&l.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-2 rounded border-l-2 border-primary/30",children:[l.jsx("strong",{children:"Nota:"})," Os dados são sincronizados automaticamente em background quando o app está em uso. Para sync em background completo, certifique-se de que as permissões do HealthKit estão ativadas nas configurações do iOS."]})]})]})},JUe={steps:{icon:Gt,label:"Passos",color:"bg-blue-500/10 text-blue-500"},calories:{icon:cv,label:"Calorias",color:"bg-orange-500/10 text-orange-500"},heart_rate:{icon:As,label:"Freq. Cardíaca",color:"bg-red-500/10 text-red-500"},sleep:{icon:sv,label:"Sono",color:"bg-purple-500/10 text-purple-500"},water:{icon:Nre,label:"Água",color:"bg-cyan-500/10 text-cyan-500"},weight:{icon:Rre,label:"Peso",color:"bg-yellow-500/10 text-yellow-500"},height:{icon:Dre,label:"Altura",color:"bg-green-500/10 text-green-500"},activity:{icon:lv,label:"Atividade",color:"bg-indigo-500/10 text-indigo-500"},distance:{icon:Gt,label:"Distância",color:"bg-teal-500/10 text-teal-500"}};function eHe({onDataTypeSelect:t,selectedDataTypes:e=[]}){const{user:r}=tr(),[n,i]=j.useState([]),[s,a]=j.useState(!0),o=async()=>{if(r)try{const{data:u,error:d}=await ce.from("athlete_data").select("data_type, created_at").eq("athlete_id",r.id).gte("created_at",new Date(Date.now()-2592e6).toISOString()).order("created_at",{ascending:!1});if(d){console.error("Error fetching data type counts:",d);return}const h=u.reduce((p,v)=>{const g=v.data_type;return p[g]||(p[g]={count:0,lastRecorded:v.created_at}),p[g].count+=1,p},{}),f=Object.entries(h).map(([p,v])=>({dataType:p,count:v.count,lastRecorded:v.lastRecorded}));i(f)}catch(u){console.error("Error fetching data type counts:",u)}finally{a(!1)}};if(j.useEffect(()=>{o()},[r]),s)return l.jsxs(he,{children:[l.jsx(Be,{children:l.jsx(Le,{children:"Dados Registrados"})}),l.jsx(Ie,{children:l.jsx("div",{className:"flex items-center justify-center h-20",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})})]});if(n.length===0)return l.jsxs(he,{children:[l.jsx(Be,{children:l.jsx(Le,{children:"Dados Registrados"})}),l.jsx(Ie,{children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Gt,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),l.jsx("p",{children:"Nenhum dado registrado nos últimos 30 dias"})]})})]});const c=u=>{const d=new Date(u),f=Math.floor((new Date().getTime()-d.getTime())/(1e3*60*60));if(f<1)return"Agora mesmo";if(f<24)return`${f}h atrás`;const p=Math.floor(f/24);return p===1?"Ontem":`${p} dias atrás`};return l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsx(Le,{children:"Dados Registrados"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Últimos 30 dias • Clique para adicionar ao gráfico"})]}),l.jsx(Ie,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.map(({dataType:u,count:d,lastRecorded:h})=>{const f=JUe[u];if(!f)return null;const p=f.icon,v=e.includes(u);return l.jsxs("div",{className:`
                  p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md
                  ${v?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-border hover:border-primary/50"}
                `,onClick:()=>t==null?void 0:t(u),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${f.color}`,children:l.jsx(p,{className:"w-4 h-4"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"font-medium text-sm truncate",children:f.label})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(it,{variant:"secondary",className:"text-xs",children:[d," registros"]}),h&&l.jsx("p",{className:"text-xs text-muted-foreground",children:c(h)})]})]},u)})})})]})}const j1={steps:{label:"Passos",color:"#3b82f6",unit:"passos"},calories:{label:"Calorias",color:"#f59e0b",unit:"kcal"},heart_rate:{label:"Freq. Cardíaca",color:"#ef4444",unit:"bpm"},sleep:{label:"Sono",color:"#8b5cf6",unit:"horas"},water:{label:"Água",color:"#06b6d4",unit:"ml"},weight:{label:"Peso",color:"#eab308",unit:"kg"},height:{label:"Altura",color:"#22c55e",unit:"cm"},activity:{label:"Atividade",color:"#6366f1",unit:"min"},distance:{label:"Distância",color:"#14b8a6",unit:"m"}};function tHe({selectedDataTypes:t,onDataTypeRemove:e}){const{user:r}=tr(),[n,i]=j.useState([]),[s,a]=j.useState(!1),[o,c]=j.useState("7"),[u,d]=j.useState("area"),h=async()=>{if(!r||t.length===0){i([]);return}a(!0);try{const v=parseInt(o),g=new Date(Date.now()-v*24*60*60*1e3),{data:x,error:y}=await ce.from("athlete_data").select("data_type, data, recorded_at").eq("athlete_id",r.id).in("data_type",t).gte("recorded_at",g.toISOString()).order("recorded_at",{ascending:!0});if(y){console.error("Error fetching chart data:",y);return}const b={};x.forEach(_=>{const A=new Date(_.recorded_at).toISOString().split("T")[0],E=_.data_type,N=typeof _.data=="object"&&_.data&&_.data.value||0;b[A]||(b[A]={}),b[A][E]||(b[A][E]=[]),b[A][E].push(N)});const w=[];Object.keys(b).sort().forEach(_=>{const A={date:_};t.forEach(E=>{var T;const N=((T=b[_])==null?void 0:T[E])||[];if(N.length>0){const D=N.reduce((O,I)=>O+I,0);A[E]=Math.round(D*100)/100}else A[E]=0}),w.push(A)}),i(w)}catch(v){console.error("Error processing chart data:",v)}finally{a(!1)}};j.useEffect(()=>{h()},[r,t,o]);const f=v=>new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),p=({active:v,payload:g,label:x})=>v&&g&&g.length?l.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg",children:[l.jsx("p",{className:"font-medium text-sm mb-2",children:f(x)}),g.map((y,b)=>{const w=j1[y.dataKey];return l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:y.color}}),l.jsxs("span",{children:[w==null?void 0:w.label,": ",y.value," ",w==null?void 0:w.unit]})]},b)})]}):null;return l.jsxs(he,{className:"lg:col-span-2",children:[l.jsxs(Be,{children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-5 h-5 text-primary"}),"Gráfico de Performance"]}),l.jsxs(Ye,{children:["Acompanhe suas métricas nos últimos ",o," dias"]})]})}),t.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.map(v=>{const g=j1[v];return l.jsxs(it,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:g==null?void 0:g.color}}),g==null?void 0:g.label,l.jsx(te,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>e(v),children:l.jsx(lp,{className:"w-3 h-3"})})]},v)})}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Período:"}),l.jsxs(ft,{value:o,onValueChange:c,children:[l.jsx(ct,{className:"w-[120px]",children:l.jsx(pt,{placeholder:"Período"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"3",children:"3 dias"}),l.jsx(ne,{value:"7",children:"7 dias"}),l.jsx(ne,{value:"14",children:"14 dias"}),l.jsx(ne,{value:"30",children:"30 dias"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Tipo:"}),l.jsxs(ft,{value:u,onValueChange:v=>d(v),children:[l.jsx(ct,{className:"w-[120px]",children:l.jsx(pt,{placeholder:"Tipo"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"area",children:"Área"}),l.jsx(ne,{value:"line",children:"Linha"})]})]})]})]})]}),l.jsx(Ie,{children:s?l.jsx("div",{className:"h-[300px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):t.length===0?l.jsx("div",{className:"h-[300px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_i,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Selecione tipos de dados para visualizar"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique nos indicadores de dados para adicioná-los ao gráfico"})]})}):n.length===0?l.jsx("div",{className:"h-[300px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_i,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tente ajustar o período ou sincronizar mais dados"})]})}):l.jsx(Zo,{width:"100%",height:300,children:u==="area"?l.jsxs(tN,{data:n,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"date",tickFormatter:f,tick:{fontSize:12}}),l.jsx(ii,{tick:{fontSize:12}}),l.jsx(zr,{content:l.jsx(p,{})}),t.map((v,g)=>{const x=j1[v];return l.jsx(lo,{type:"monotone",dataKey:v,stroke:x==null?void 0:x.color,fill:x==null?void 0:x.color,fillOpacity:.1+g*.1,strokeWidth:2},v)})]}):l.jsxs($Ue,{data:n,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"date",tickFormatter:f,tick:{fontSize:12}}),l.jsx(ii,{tick:{fontSize:12}}),l.jsx(zr,{content:l.jsx(p,{})}),t.map(v=>{const g=j1[v];return l.jsx(p_,{type:"monotone",dataKey:v,stroke:g==null?void 0:g.color,strokeWidth:2,dot:{r:3},activeDot:{r:5}},v)})]})})})]})}var We=function(){return We=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},We.apply(this,arguments)};function rHe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function DQ(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function m_(t){return t.mode==="multiple"}function g_(t){return t.mode==="range"}function rN(t){return t.mode==="single"}var nHe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function iHe(t,e){return $r(t,"LLLL y",e)}function sHe(t,e){return $r(t,"d",e)}function aHe(t,e){return $r(t,"LLLL",e)}function oHe(t){return"".concat(t)}function lHe(t,e){return $r(t,"cccccc",e)}function cHe(t,e){return $r(t,"yyyy",e)}var uHe=Object.freeze({__proto__:null,formatCaption:iHe,formatDay:sHe,formatMonthCaption:aHe,formatWeekNumber:oHe,formatWeekdayName:lHe,formatYearCaption:cHe}),dHe=function(t,e,r){return $r(t,"do MMMM (EEEE)",r)},hHe=function(){return"Month: "},fHe=function(){return"Go to next month"},pHe=function(){return"Go to previous month"},mHe=function(t,e){return $r(t,"cccc",e)},gHe=function(t){return"Week n. ".concat(t)},vHe=function(){return"Year: "},yHe=Object.freeze({__proto__:null,labelDay:dHe,labelMonthDropdown:hHe,labelNext:fHe,labelPrevious:pHe,labelWeekNumber:gHe,labelWeekday:mHe,labelYearDropdown:vHe});function xHe(){var t="buttons",e=nHe,r=mR,n={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:uHe,labels:yHe,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function bHe(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return n?s=Ki(n):e&&(s=new Date(e,0,1)),i?a=YE(i):r&&(a=new Date(r,11,31)),{fromDate:s?mv(s):void 0,toDate:a?mv(a):void 0}}var RQ=j.createContext(void 0);function wHe(t){var e,r=t.initialProps,n=xHe(),i=bHe(r),s=i.fromDate,a=i.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var c;(rN(r)||m_(r)||g_(r))&&(c=r.onSelect);var u=We(We(We({},n),r),{captionLayout:o,classNames:We(We({},n.classNames),r.classNames),components:We({},r.components),formatters:We(We({},n.formatters),r.formatters),fromDate:s,labels:We(We({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:We(We({},n.modifiers),r.modifiers),modifiersClassNames:We(We({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:We(We({},n.styles),r.styles),toDate:a});return l.jsx(RQ.Provider,{value:u,children:t.children})}function Yt(){var t=j.useContext(RQ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function IQ(t){var e=Yt(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function _He(t){return l.jsx("svg",We({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $Q(t){var e,r,n=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,c=t.style,u=Yt(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:_He;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:s}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function SHe(t){var e,r=Yt(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var h=[];if(epe(n,i))for(var f=Ki(n),p=n.getMonth();p<=i.getMonth();p++)h.push(nP(f,p));else for(var f=Ki(new Date),p=0;p<=11;p++)h.push(nP(f,p));var v=function(x){var y=Number(x.target.value),b=nP(Ki(t.displayMonth),y);t.onChange(b)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:$Q;return l.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:h.map(function(x){return l.jsx("option",{value:x.getMonth(),children:o(x,{locale:a})},x.getMonth())})})}function jHe(t){var e,r=t.displayMonth,n=Yt(),i=n.fromDate,s=n.toDate,a=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!i)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),v=s.getFullYear(),g=p;g<=v;g++)f.push(e4(Yq(new Date),g));var x=function(b){var w=e4(Ki(r),Number(b.target.value));t.onChange(w)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:$Q;return l.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:o.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:a}),children:f.map(function(b){return l.jsx("option",{value:b.getFullYear(),children:d(b,{locale:a})},b.getFullYear())})})}function AHe(t,e){var r=j.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function EHe(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(s&&gv(s,i)<0){var u=-1*(c-1);i=ro(s,u)}return a&&gv(i,a)<0&&(i=a),Ki(i)}function CHe(){var t=Yt(),e=EHe(t),r=AHe(e,t.month),n=r[0],i=r[1],s=function(a){var o;if(!t.disableNavigation){var c=Ki(a);i(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[n,s]}function NHe(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Ki(t),s=Ki(ro(i,n)),a=gv(s,i),o=[],c=0;c<a;c++){var u=ro(i,c);o.push(u)}return r&&(o=o.reverse()),o}function PHe(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=Ki(t);if(!r)return ro(o,a);var c=gv(r,t);if(!(c<s))return ro(o,a)}}function THe(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=Ki(t);if(!r)return ro(o,-a);var c=gv(o,r);if(!(c<=0))return ro(o,-a)}}var LQ=j.createContext(void 0);function kHe(t){var e=Yt(),r=CHe(),n=r[0],i=r[1],s=NHe(n,e),a=PHe(n,e),o=THe(n,e),c=function(h){return s.some(function(f){return gR(h,f)})},u=function(h,f){c(h)||(f&&r9(h,f)?i(ro(h,1+e.numberOfMonths*-1)):i(h))},d={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:c};return l.jsx(LQ.Provider,{value:d,children:t.children})}function v_(){var t=j.useContext(LQ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function t6(t){var e,r=Yt(),n=r.classNames,i=r.styles,s=r.components,a=v_().goToMonth,o=function(d){a(ro(d,t.displayIndex?-t.displayIndex:0))},c=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:IQ,u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(SHe,{onChange:o,displayMonth:t.displayMonth}),l.jsx(jHe,{onChange:o,displayMonth:t.displayMonth})]})}function OHe(t){return l.jsx("svg",We({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function MHe(t){return l.jsx("svg",We({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var kA=j.forwardRef(function(t,e){var r=Yt(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var a=s.join(" "),o=We(We({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),l.jsx("button",We({},t,{ref:e,type:"button",className:a,style:o}))});function DHe(t){var e,r,n=Yt(),i=n.dir,s=n.locale,a=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var f=u(t.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:s}),g=[a.nav_button,a.nav_button_next].join(" "),x=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:MHe,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:OHe;return l.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&l.jsx(kA,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?l.jsx(x,{className:a.nav_icon,style:o.nav_icon}):l.jsx(y,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&l.jsx(kA,{name:"next-month","aria-label":v,className:g,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?l.jsx(y,{className:a.nav_icon,style:o.nav_icon}):l.jsx(x,{className:a.nav_icon,style:o.nav_icon})})]})}function r6(t){var e=Yt().numberOfMonths,r=v_(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(v){return gR(t.displayMonth,v)}),c=o===0,u=o===a.length-1,d=e>1&&(c||!u),h=e>1&&(u||!c),f=function(){n&&s(n)},p=function(){i&&s(i)};return l.jsx(DHe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:f,onNextClick:p})}function RHe(t){var e,r=Yt(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,o=r.components,c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:IQ,u;return i?u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=l.jsx(t6,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(t6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx(r6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(r6,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:n.caption,style:s.caption,children:u})}function IHe(t){var e=Yt(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?l.jsx("tfoot",{className:i,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function $He(t,e,r){for(var n=r?Vf(new Date):cl(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=gi(n,s);i.push(a)}return i}function LHe(){var t=Yt(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=$He(i,s,a);return l.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return l.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:i}),children:o(d,{locale:i})},h)})]})}function FHe(){var t,e=Yt(),r=e.classNames,n=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:LHe;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(s,{})})}function zHe(t){var e=Yt(),r=e.locale,n=e.formatters.formatDay;return l.jsx(l.Fragment,{children:n(t.date,{locale:r})})}var o$=j.createContext(void 0);function BHe(t){if(!m_(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return l.jsx(o$.Provider,{value:e,children:t.children})}return l.jsx(UHe,{initialProps:t.initialProps,children:t.children})}function UHe(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,a=function(u,d,h){var f,p;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var v=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var g=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var x=n?DQ([],n):[];if(d.selected){var y=x.findIndex(function(b){return Hi(u,b)});x.splice(y,1)}else x.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,x,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=s&&n.length>s-1,h=n.some(function(f){return Hi(f,u)});return!!(d&&!h)});var c={selected:n,onDayClick:a,modifiers:o};return l.jsx(o$.Provider,{value:c,children:r})}function l$(){var t=j.useContext(o$);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function HHe(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Hi(i,t)&&Hi(n,t)?void 0:Hi(i,t)?{from:i,to:void 0}:Hi(n,t)?void 0:gk(n,t)?{from:t,to:i}:{from:n,to:t}:i?gk(t,i)?{from:i,to:t}:{from:t,to:i}:n?r9(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var c$=j.createContext(void 0);function WHe(t){if(!g_(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(c$.Provider,{value:e,children:t.children})}return l.jsx(VHe,{initialProps:t.initialProps,children:t.children})}function VHe(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,a=i.to,o=e.min,c=e.max,u=function(p,v,g){var x,y;(x=e.onDayClick)===null||x===void 0||x.call(e,p,v,g);var b=HHe(p,n);(y=e.onSelect)===null||y===void 0||y.call(e,b,p,v,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],Hi(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),o&&(s&&!a&&d.disabled.push({after:rP(s,o-1),before:gi(s,o-1)}),s&&a&&d.disabled.push({after:s,before:gi(s,o-1)}),!s&&a&&d.disabled.push({after:rP(a,o-1),before:gi(a,o-1)})),c){if(s&&!a&&(d.disabled.push({before:gi(s,-c+1)}),d.disabled.push({after:gi(s,c-1)})),s&&a){var h=Ko(a,s)+1,f=c-h;d.disabled.push({before:rP(s,f)}),d.disabled.push({after:gi(a,f)})}!s&&a&&(d.disabled.push({before:gi(a,-c+1)}),d.disabled.push({after:gi(a,c-1)}))}return l.jsx(c$.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function u$(){var t=j.useContext(c$);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function SS(t){return Array.isArray(t)?DQ([],t):t!==void 0?[t]:[]}function qHe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=SS(i)}),e}var no;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(no||(no={}));var GHe=no.Selected,Sl=no.Disabled,KHe=no.Hidden,YHe=no.Today,BP=no.RangeEnd,UP=no.RangeMiddle,HP=no.RangeStart,XHe=no.Outside;function ZHe(t,e,r){var n,i=(n={},n[GHe]=SS(t.selected),n[Sl]=SS(t.disabled),n[KHe]=SS(t.hidden),n[YHe]=[t.today],n[BP]=[],n[UP]=[],n[HP]=[],n[XHe]=[],n);return t.fromDate&&i[Sl].push({before:t.fromDate}),t.toDate&&i[Sl].push({after:t.toDate}),m_(t)?i[Sl]=i[Sl].concat(e.modifiers[Sl]):g_(t)&&(i[Sl]=i[Sl].concat(r.modifiers[Sl]),i[HP]=r.modifiers[HP],i[UP]=r.modifiers[UP],i[BP]=r.modifiers[BP]),i}var FQ=j.createContext(void 0);function QHe(t){var e=Yt(),r=l$(),n=u$(),i=ZHe(e,r,n),s=qHe(e.modifiers),a=We(We({},i),s);return l.jsx(FQ.Provider,{value:a,children:t.children})}function zQ(){var t=j.useContext(FQ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function JHe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function e8e(t){return!!(t&&typeof t=="object"&&"from"in t)}function t8e(t){return!!(t&&typeof t=="object"&&"after"in t)}function r8e(t){return!!(t&&typeof t=="object"&&"before"in t)}function n8e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function i8e(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=Ko(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=Ko(t,n)>=0&&Ko(i,t)>=0;return a}return i?Hi(i,t):n?Hi(n,t):!1}function s8e(t){return fR(t)}function a8e(t){return Array.isArray(t)&&t.every(fR)}function o8e(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(s8e(r))return Hi(t,r);if(a8e(r))return r.includes(t);if(e8e(r))return i8e(t,r);if(n8e(r))return r.dayOfWeek.includes(t.getDay());if(JHe(r)){var n=Ko(r.before,t),i=Ko(r.after,t),s=n>0,a=i<0,o=gk(r.before,r.after);return o?a&&s:s||a}return t8e(r)?Ko(t,r.after)>0:r8e(r)?Ko(r.before,t)>0:typeof r=="function"?r(t):!1})}function d$(t,e,r){var n=Object.keys(e).reduce(function(s,a){var o=e[a];return o8e(t,o)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!gR(t,r)&&(i.outside=!0),i}function l8e(t,e){for(var r=Ki(t[0]),n=YE(t[t.length-1]),i,s,a=r;a<=n;){var o=d$(a,e),c=!o.disabled&&!o.hidden;if(!c){a=gi(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=gi(a,1)}return s||i}var c8e=365;function BQ(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,h=i.locale,f={day:gi,week:mk,month:ro,year:Hhe,startOfWeek:function(x){return i.ISOWeek?Vf(x):cl(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return i.ISOWeek?Xq(x):pR(x,{locale:h,weekStartsOn:c})}},p=f[r](t,n==="after"?1:-1);n==="before"&&u?p=Whe([u,p]):n==="after"&&d&&(p=Vhe([d,p]));var v=!0;if(s){var g=d$(p,s);v=!g.disabled&&!g.hidden}return v?p:o.count>c8e?o.lastFocused:BQ(p,{moveBy:r,direction:n,context:i,modifiers:s,retry:We(We({},o),{count:o.count+1})})}var UQ=j.createContext(void 0);function u8e(t){var e=v_(),r=zQ(),n=j.useState(),i=n[0],s=n[1],a=j.useState(),o=a[0],c=a[1],u=l8e(e.displayMonths,r),d=i??(o&&e.isDateDisplayed(o))?o:u,h=function(){c(i),s(void 0)},f=function(x){s(x)},p=Yt(),v=function(x,y){if(i){var b=BQ(i,{moveBy:x,direction:y,context:p,modifiers:r});Hi(i,b)||(e.goToDate(b,i),f(b))}},g={focusedDay:i,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return l.jsx(UQ.Provider,{value:g,children:t.children})}function h$(){var t=j.useContext(UQ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function d8e(t,e){var r=zQ(),n=d$(t,r,e);return n}var f$=j.createContext(void 0);function h8e(t){if(!rN(t.initialProps)){var e={selected:void 0};return l.jsx(f$.Provider,{value:e,children:t.children})}return l.jsx(f8e,{initialProps:t.initialProps,children:t.children})}function f8e(t){var e=t.initialProps,r=t.children,n=function(s,a,o){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,a,o),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:n};return l.jsx(f$.Provider,{value:i,children:r})}function HQ(){var t=j.useContext(f$);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function p8e(t,e){var r=Yt(),n=HQ(),i=l$(),s=u$(),a=h$(),o=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,p=a.focusMonthBefore,v=a.focusMonthAfter,g=a.focusYearBefore,x=a.focusYearAfter,y=a.focusStartOfWeek,b=a.focusEndOfWeek,w=function(P){var R,U,Y,J;rN(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,t,e,P):m_(r)?(U=i.onDayClick)===null||U===void 0||U.call(i,t,e,P):g_(r)?(Y=s.onDayClick)===null||Y===void 0||Y.call(s,t,e,P):(J=r.onDayClick)===null||J===void 0||J.call(r,t,e,P)},S=function(P){var R;f(t),(R=r.onDayFocus)===null||R===void 0||R.call(r,t,e,P)},_=function(P){var R;h(),(R=r.onDayBlur)===null||R===void 0||R.call(r,t,e,P)},A=function(P){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,t,e,P)},E=function(P){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,t,e,P)},N=function(P){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,t,e,P)},T=function(P){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,t,e,P)},D=function(P){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,t,e,P)},O=function(P){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,t,e,P)},I=function(P){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,t,e,P)},F=function(P){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,t,e,P)},$=function(P){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,t,e,P)},B=function(P){var R;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),u();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),d();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?g():p();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?x():v();break;case"Home":P.preventDefault(),P.stopPropagation(),y();break;case"End":P.preventDefault(),P.stopPropagation(),b();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,t,e,P)},L={onClick:w,onFocus:S,onBlur:_,onKeyDown:B,onKeyUp:$,onMouseEnter:A,onMouseLeave:E,onPointerEnter:N,onPointerLeave:T,onTouchCancel:D,onTouchEnd:O,onTouchMove:I,onTouchStart:F};return L}function m8e(){var t=Yt(),e=HQ(),r=l$(),n=u$(),i=rN(t)?e.selected:m_(t)?r.selected:g_(t)?n.selected:void 0;return i}function g8e(t){return Object.values(no).includes(t)}function v8e(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(g8e(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function y8e(t,e){var r=We({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=We(We({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function x8e(t,e,r){var n,i,s,a=Yt(),o=h$(),c=d8e(t,e),u=p8e(t,c),d=m8e(),h=!!(a.onDayClick||a.mode!=="default");j.useEffect(function(){var A;c.outside||o.focusedDay&&h&&Hi(o.focusedDay,t)&&((A=r.current)===null||A===void 0||A.focus())},[o.focusedDay,t,r,h,c.outside]);var f=v8e(a,c).join(" "),p=y8e(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:zHe,x=l.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),y={style:p,className:f,children:x,role:"gridcell"},b=o.focusTarget&&Hi(o.focusTarget,t)&&!c.outside,w=o.focusedDay&&Hi(o.focusedDay,t),S=We(We(We({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||b?0:-1,n)),u),_={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:y};return _}function b8e(t){var e=j.useRef(null),r=x8e(t.date,t.displayMonth,e);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(kA,We({name:"day",ref:e},r.buttonProps)):l.jsx("div",We({},r.divProps))}function w8e(t){var e=t.number,r=t.dates,n=Yt(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return l.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var h=c(Number(e),{locale:o}),f=function(p){i(e,r,p)};return l.jsx(kA,{name:"week-number","aria-label":h,className:a.weeknumber,style:s.weeknumber,onClick:f,children:d})}function _8e(t){var e,r,n=Yt(),i=n.styles,s=n.classNames,a=n.showWeekNumber,o=n.components,c=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:b8e,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:w8e,d;return a&&(d=l.jsx("td",{className:s.cell,style:i.cell,children:l.jsx(u,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(h){return l.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:t.displayMonth,date:h})},Zfe(h))})]})}function n6(t,e,r){for(var n=r!=null&&r.ISOWeek?Xq(e):pR(e,r),i=r!=null&&r.ISOWeek?Vf(t):cl(t,r),s=Ko(n,i),a=[],o=0;o<=s;o++)a.push(gi(i,o));var c=a.reduce(function(u,d){var h=r!=null&&r.ISOWeek?Qq(d):e9(d,r),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function S8e(t,e){var r=n6(Ki(t),YE(t),e);if(e!=null&&e.useFixedWeeks){var n=Jfe(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=mk(s,6-n),o=n6(mk(s,1),a,e);r.push.apply(r,o)}}return r}function j8e(t){var e,r,n,i=Yt(),s=i.locale,a=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,h=i.weekStartsOn,f=i.firstWeekContainsDate,p=i.ISOWeek,v=S8e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:h,firstWeekContainsDate:f}),g=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:FHe,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:_8e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:IHe;return l.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&l.jsx(g,{}),l.jsx("tbody",{className:a.tbody,style:o.tbody,children:v.map(function(b){return l.jsx(x,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),l.jsx(y,{displayMonth:t.displayMonth})]})}function A8e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var E8e=A8e()?j.useLayoutEffect:j.useEffect,WP=!1,C8e=0;function i6(){return"react-day-picker-".concat(++C8e)}function N8e(t){var e,r=t??(WP?i6():null),n=j.useState(r),i=n[0],s=n[1];return E8e(function(){i===null&&s(i6())},[]),j.useEffect(function(){WP===!1&&(WP=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function P8e(t){var e,r,n=Yt(),i=n.dir,s=n.classNames,a=n.styles,o=n.components,c=v_().displayMonths,u=N8e(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[s.month],f=a.month,p=t.displayIndex===0,v=t.displayIndex===c.length-1,g=!p&&!v;i==="rtl"&&(e=[p,v],v=e[0],p=e[1]),p&&(h.push(s.caption_start),f=We(We({},f),a.caption_start)),v&&(h.push(s.caption_end),f=We(We({},f),a.caption_end)),g&&(h.push(s.caption_between),f=We(We({},f),a.caption_between));var x=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:RHe;return l.jsxs("div",{className:h.join(" "),style:f,children:[l.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(j8e,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function T8e(t){var e=Yt(),r=e.classNames,n=e.styles;return l.jsx("div",{className:r.months,style:n.months,children:t.children})}function k8e(t){var e,r,n=t.initialProps,i=Yt(),s=h$(),a=v_(),o=j.useState(!1),c=o[0],u=o[1];j.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var h=We(We({},i.styles.root),i.style),f=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var x;return We(We({},v),(x={},x[g]=n[g],x))},{}),p=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:T8e;return l.jsx("div",We({className:d.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:l.jsx(p,{children:a.displayMonths.map(function(v,g){return l.jsx(P8e,{displayIndex:g,displayMonth:v},g)})})}))}function O8e(t){var e=t.children,r=rHe(t,["children"]);return l.jsx(wHe,{initialProps:r,children:l.jsx(kHe,{children:l.jsx(h8e,{initialProps:r,children:l.jsx(BHe,{initialProps:r,children:l.jsx(WHe,{initialProps:r,children:l.jsx(QHe,{children:l.jsx(u8e,{children:e})})})})})})})}function M8e(t){return l.jsx(O8e,We({},t,{children:l.jsx(k8e,{initialProps:t})}))}function p$({className:t,classNames:e,showOutsideDays:r=!0,...n}){return l.jsx(M8e,{showOutsideDays:r,className:De("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:De(tk({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:De(tk({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>l.jsx(Sre,{className:"h-4 w-4"}),IconRight:({...i})=>l.jsx(_D,{className:"h-4 w-4"})},...n})}p$.displayName="Calendar";const D8e=({isOpen:t,onOpenChange:e,session:r,onEditSchedule:n})=>{const[i,s]=j.useState({chiefComplaint:"",historyOfPresentIllness:"",pastMedicalHistory:"",allergies:"",currentMedications:"",vitalSigns:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:""},physicalExamination:"",assessment:"",plan:"",followUp:""}),a=()=>{console.log("Salvando dados médicos:",i),e(!1)};return l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-4xl max-h-[90vh]",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ov,{className:"w-5 h-5 text-blue-500"}),"Prontuário Médico - ",r==null?void 0:r.title]}),n&&l.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>n(r),className:"text-muted-foreground hover:text-foreground",children:[l.jsx(al,{className:"w-4 h-4 mr-2"}),"Editar Agendamento"]})]}),l.jsx(ll,{children:"Registre os dados da consulta médica e atualize o prontuário do paciente."})]}),l.jsx(Cs,{className:"max-h-[75vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"chiefComplaint",children:"Queixa Principal"}),l.jsx(Se,{id:"chiefComplaint",value:i.chiefComplaint,onChange:o=>s({...i,chiefComplaint:o.target.value}),placeholder:"Descreva a queixa principal do paciente...",className:"min-h-[80px]"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"historyOfPresentIllness",children:"História da Doença Atual"}),l.jsx(Se,{id:"historyOfPresentIllness",value:i.historyOfPresentIllness,onChange:o=>s({...i,historyOfPresentIllness:o.target.value}),placeholder:"Detalhe a evolução dos sintomas...",className:"min-h-[100px]"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"pastMedicalHistory",children:"Antecedentes Médicos"}),l.jsx(Se,{id:"pastMedicalHistory",value:i.pastMedicalHistory,onChange:o=>s({...i,pastMedicalHistory:o.target.value}),placeholder:"Doenças prévias, cirurgias..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"allergies",children:"Alergias"}),l.jsx(Se,{id:"allergies",value:i.allergies,onChange:o=>s({...i,allergies:o.target.value}),placeholder:"Alergias medicamentosas ou alimentares..."})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"currentMedications",children:"Medicações em Uso"}),l.jsx(Se,{id:"currentMedications",value:i.currentMedications,onChange:o=>s({...i,currentMedications:o.target.value}),placeholder:"Liste as medicações atuais e dosagens..."})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sinais Vitais"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"bloodPressure",children:"PA (mmHg)"}),l.jsx(se,{id:"bloodPressure",value:i.vitalSigns.bloodPressure,onChange:o=>s({...i,vitalSigns:{...i.vitalSigns,bloodPressure:o.target.value}}),placeholder:"120/80"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"heartRate",children:"FC (bpm)"}),l.jsx(se,{id:"heartRate",value:i.vitalSigns.heartRate,onChange:o=>s({...i,vitalSigns:{...i.vitalSigns,heartRate:o.target.value}}),placeholder:"72"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"temperature",children:"Temp (°C)"}),l.jsx(se,{id:"temperature",value:i.vitalSigns.temperature,onChange:o=>s({...i,vitalSigns:{...i.vitalSigns,temperature:o.target.value}}),placeholder:"36.5"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"weight",children:"Peso (kg)"}),l.jsx(se,{id:"weight",value:i.vitalSigns.weight,onChange:o=>s({...i,vitalSigns:{...i.vitalSigns,weight:o.target.value}}),placeholder:"70"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"height",children:"Altura (cm)"}),l.jsx(se,{id:"height",value:i.vitalSigns.height,onChange:o=>s({...i,vitalSigns:{...i.vitalSigns,height:o.target.value}}),placeholder:"170"})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"physicalExamination",children:"Exame Físico"}),l.jsx(Se,{id:"physicalExamination",value:i.physicalExamination,onChange:o=>s({...i,physicalExamination:o.target.value}),placeholder:"Descreva os achados do exame físico...",className:"min-h-[120px]"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"assessment",children:"Avaliação/Diagnóstico"}),l.jsx(Se,{id:"assessment",value:i.assessment,onChange:o=>s({...i,assessment:o.target.value}),placeholder:"Hipóteses diagnósticas e avaliação clínica...",className:"min-h-[80px]"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"plan",children:"Plano de Tratamento"}),l.jsx(Se,{id:"plan",value:i.plan,onChange:o=>s({...i,plan:o.target.value}),placeholder:"Prescrições, exames solicitados, orientações...",className:"min-h-[100px]"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"followUp",children:"Seguimento"}),l.jsx(Se,{id:"followUp",value:i.followUp,onChange:o=>s({...i,followUp:o.target.value}),placeholder:"Próxima consulta, retorno, observações..."})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsxs(te,{onClick:a,className:"flex-1",children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),"Salvar Prontuário"]}),l.jsx(te,{variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancelar"})]})]})})]})})},R8e=({isOpen:t,onOpenChange:e,session:r,onEditSchedule:n})=>{const[i,s]=j.useState([]),[a,o]=j.useState({objective:"",warmUp:"",coolDown:"",generalNotes:"",intensity:"",duration:""}),c=()=>{const f={id:Date.now().toString(),name:"",sets:3,reps:"",weight:"",restTime:"",notes:""};s([...i,f])},u=(f,p,v)=>{s(i.map(g=>g.id===f?{...g,[p]:v}:g))},d=f=>{s(i.filter(p=>p.id!==f))},h=()=>{console.log("Salvando dados do treino:",{trainingData:a,exercises:i}),e(!1)};return l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-4xl max-h-[90vh]",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ab,{className:"w-5 h-5 text-orange-500"}),"Plano de Treinamento - ",r==null?void 0:r.title]}),n&&l.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>n(r),className:"text-muted-foreground hover:text-foreground",children:[l.jsx(al,{className:"w-4 h-4 mr-2"}),"Editar Agendamento"]})]}),l.jsx(ll,{children:"Configure os exercícios e detalhes do treino para o atleta."})]}),l.jsx(Cs,{className:"max-h-[75vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"objective",children:"Objetivo do Treino"}),l.jsxs(ft,{value:a.objective,onValueChange:f=>o({...a,objective:f}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione o objetivo"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"strength",children:"Força"}),l.jsx(ne,{value:"endurance",children:"Resistência"}),l.jsx(ne,{value:"hypertrophy",children:"Hipertrofia"}),l.jsx(ne,{value:"power",children:"Potência"}),l.jsx(ne,{value:"conditioning",children:"Condicionamento"})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"intensity",children:"Intensidade"}),l.jsxs(ft,{value:a.intensity,onValueChange:f=>o({...a,intensity:f}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione a intensidade"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"low",children:"Baixa"}),l.jsx(ne,{value:"moderate",children:"Moderada"}),l.jsx(ne,{value:"high",children:"Alta"}),l.jsx(ne,{value:"very-high",children:"Muito Alta"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"duration",children:"Duração Estimada (minutos)"}),l.jsx(se,{id:"duration",value:a.duration,onChange:f=>o({...a,duration:f.target.value}),placeholder:"60",type:"number"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"warmUp",children:"Aquecimento"}),l.jsx(Se,{id:"warmUp",value:a.warmUp,onChange:f=>o({...a,warmUp:f.target.value}),placeholder:"Descreva os exercícios de aquecimento..."})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Exercícios"}),l.jsxs(te,{onClick:c,size:"sm",children:[l.jsx(Dc,{className:"w-4 h-4 mr-2"}),"Adicionar Exercício"]})]}),l.jsxs("div",{className:"space-y-4",children:[i.map((f,p)=>l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs(it,{variant:"outline",children:["Exercício ",p+1]}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>d(f.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Gv,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(G,{htmlFor:`exercise-name-${f.id}`,children:"Nome do Exercício"}),l.jsx(se,{id:`exercise-name-${f.id}`,value:f.name,onChange:v=>u(f.id,"name",v.target.value),placeholder:"Ex: Agachamento livre"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`exercise-sets-${f.id}`,children:"Séries"}),l.jsx(se,{id:`exercise-sets-${f.id}`,type:"number",value:f.sets,onChange:v=>u(f.id,"sets",parseInt(v.target.value)||0),placeholder:"3"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`exercise-reps-${f.id}`,children:"Repetições"}),l.jsx(se,{id:`exercise-reps-${f.id}`,value:f.reps,onChange:v=>u(f.id,"reps",v.target.value),placeholder:"12 ou 30s"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`exercise-weight-${f.id}`,children:"Carga"}),l.jsx(se,{id:`exercise-weight-${f.id}`,value:f.weight,onChange:v=>u(f.id,"weight",v.target.value),placeholder:"80kg ou peso corporal"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`exercise-rest-${f.id}`,children:"Descanso"}),l.jsx(se,{id:`exercise-rest-${f.id}`,value:f.restTime,onChange:v=>u(f.id,"restTime",v.target.value),placeholder:"90s"})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`exercise-notes-${f.id}`,children:"Observações"}),l.jsx(Se,{id:`exercise-notes-${f.id}`,value:f.notes,onChange:v=>u(f.id,"notes",v.target.value),placeholder:"Técnica, progressão, cuidados especiais...",rows:2})]})]},f.id)),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(ab,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhum exercício adicionado"}),l.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Exercício" para começar'})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"coolDown",children:"Volta à Calma"}),l.jsx(Se,{id:"coolDown",value:a.coolDown,onChange:f=>o({...a,coolDown:f.target.value}),placeholder:"Exercícios de alongamento e relaxamento..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"generalNotes",children:"Observações Gerais"}),l.jsx(Se,{id:"generalNotes",value:a.generalNotes,onChange:f=>o({...a,generalNotes:f.target.value}),placeholder:"Orientações gerais, progressões, cuidados especiais..."})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsxs(te,{onClick:h,className:"flex-1",children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),"Salvar Treino"]}),l.jsx(te,{variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancelar"})]})]})})]})})},I8e=({isOpen:t,onOpenChange:e,session:r,onEditSchedule:n})=>{const[i,s]=j.useState({currentWeight:"",targetWeight:"",height:"",bodyFat:"",activityLevel:"",dietaryRestrictions:"",allergies:"",medicalConditions:"",currentDiet:"",eatingHabits:"",hydration:"",supplements:"",goals:"",timeframe:"",dailyCalories:"",macroDistribution:{carbs:"",proteins:"",fats:""},mealPlan:"",supplementPrescription:"",recommendations:"",followUpNotes:""}),a=()=>{console.log("Salvando dados nutricionais:",i),e(!1)};return l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-4xl max-h-[90vh]",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vE,{className:"w-5 h-5 text-green-500"}),"Consulta Nutricional - ",r==null?void 0:r.title]}),n&&l.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>n(r),className:"text-muted-foreground hover:text-foreground",children:[l.jsx(al,{className:"w-4 h-4 mr-2"}),"Editar Agendamento"]})]}),l.jsx(ll,{children:"Realize a anamnese nutricional e prescreva o plano alimentar."})]}),l.jsx(Cs,{className:"max-h-[75vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dados Antropométricos"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"currentWeight",children:"Peso Atual (kg)"}),l.jsx(se,{id:"currentWeight",value:i.currentWeight,onChange:o=>s({...i,currentWeight:o.target.value}),placeholder:"70",type:"number",step:"0.1"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"targetWeight",children:"Peso Meta (kg)"}),l.jsx(se,{id:"targetWeight",value:i.targetWeight,onChange:o=>s({...i,targetWeight:o.target.value}),placeholder:"65",type:"number",step:"0.1"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"height",children:"Altura (cm)"}),l.jsx(se,{id:"height",value:i.height,onChange:o=>s({...i,height:o.target.value}),placeholder:"170",type:"number"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"bodyFat",children:"% Gordura"}),l.jsx(se,{id:"bodyFat",value:i.bodyFat,onChange:o=>s({...i,bodyFat:o.target.value}),placeholder:"15",type:"number",step:"0.1"})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"activityLevel",children:"Nível de Atividade Física"}),l.jsxs(ft,{value:i.activityLevel,onValueChange:o=>s({...i,activityLevel:o}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione o nível de atividade"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"sedentary",children:"Sedentário"}),l.jsx(ne,{value:"light",children:"Atividade Leve"}),l.jsx(ne,{value:"moderate",children:"Atividade Moderada"}),l.jsx(ne,{value:"intense",children:"Atividade Intensa"}),l.jsx(ne,{value:"very-intense",children:"Muito Intenso"})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Anamnese Alimentar"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"currentDiet",children:"Dieta Atual"}),l.jsx(Se,{id:"currentDiet",value:i.currentDiet,onChange:o=>s({...i,currentDiet:o.target.value}),placeholder:"Descreva a alimentação atual do paciente...",className:"min-h-[80px]"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"eatingHabits",children:"Hábitos Alimentares"}),l.jsx(Se,{id:"eatingHabits",value:i.eatingHabits,onChange:o=>s({...i,eatingHabits:o.target.value}),placeholder:"Horários das refeições, preferências, aversões..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"dietaryRestrictions",children:"Restrições Alimentares"}),l.jsx(Se,{id:"dietaryRestrictions",value:i.dietaryRestrictions,onChange:o=>s({...i,dietaryRestrictions:o.target.value}),placeholder:"Vegetarianismo, intolerâncias..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"allergies",children:"Alergias Alimentares"}),l.jsx(Se,{id:"allergies",value:i.allergies,onChange:o=>s({...i,allergies:o.target.value}),placeholder:"Liste as alergias conhecidas..."})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"hydration",children:"Hidratação"}),l.jsx(se,{id:"hydration",value:i.hydration,onChange:o=>s({...i,hydration:o.target.value}),placeholder:"Quantidade de água consumida por dia"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"supplements",children:"Suplementos Atuais"}),l.jsx(Se,{id:"supplements",value:i.supplements,onChange:o=>s({...i,supplements:o.target.value}),placeholder:"Liste os suplementos em uso..."})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"medicalConditions",children:"Condições Médicas"}),l.jsx(Se,{id:"medicalConditions",value:i.medicalConditions,onChange:o=>s({...i,medicalConditions:o.target.value}),placeholder:"Diabetes, hipertensão, dislipidemia..."})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Objetivos"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"goals",children:"Metas Nutricionais"}),l.jsx(Se,{id:"goals",value:i.goals,onChange:o=>s({...i,goals:o.target.value}),placeholder:"Perda de peso, ganho de massa muscular..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"timeframe",children:"Prazo"}),l.jsx(se,{id:"timeframe",value:i.timeframe,onChange:o=>s({...i,timeframe:o.target.value}),placeholder:"6 meses"})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Prescrição Nutricional"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"dailyCalories",children:"Calorias Diárias (kcal)"}),l.jsx(se,{id:"dailyCalories",value:i.dailyCalories,onChange:o=>s({...i,dailyCalories:o.target.value}),placeholder:"2000",type:"number"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Distribuição de Macronutrientes (%)"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"carbs",children:"Carboidratos"}),l.jsx(se,{id:"carbs",value:i.macroDistribution.carbs,onChange:o=>s({...i,macroDistribution:{...i.macroDistribution,carbs:o.target.value}}),placeholder:"50",type:"number"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"proteins",children:"Proteínas"}),l.jsx(se,{id:"proteins",value:i.macroDistribution.proteins,onChange:o=>s({...i,macroDistribution:{...i.macroDistribution,proteins:o.target.value}}),placeholder:"25",type:"number"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"fats",children:"Gorduras"}),l.jsx(se,{id:"fats",value:i.macroDistribution.fats,onChange:o=>s({...i,macroDistribution:{...i.macroDistribution,fats:o.target.value}}),placeholder:"25",type:"number"})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"mealPlan",children:"Plano Alimentar"}),l.jsx(Se,{id:"mealPlan",value:i.mealPlan,onChange:o=>s({...i,mealPlan:o.target.value}),placeholder:"Detalhe o plano alimentar com horários e porções...",className:"min-h-[120px]"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"supplementPrescription",children:"Prescrição de Suplementos"}),l.jsx(Se,{id:"supplementPrescription",value:i.supplementPrescription,onChange:o=>s({...i,supplementPrescription:o.target.value}),placeholder:"Suplementos recomendados e dosagens..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"recommendations",children:"Recomendações Gerais"}),l.jsx(Se,{id:"recommendations",value:i.recommendations,onChange:o=>s({...i,recommendations:o.target.value}),placeholder:"Orientações sobre preparo de alimentos, timing nutricional..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"followUpNotes",children:"Observações para Retorno"}),l.jsx(Se,{id:"followUpNotes",value:i.followUpNotes,onChange:o=>s({...i,followUpNotes:o.target.value}),placeholder:"Pontos a acompanhar no próximo retorno..."})]})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsxs(te,{onClick:a,className:"flex-1",children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),"Salvar Consulta"]}),l.jsx(te,{variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancelar"})]})]})})]})})},$8e=({isOpen:t,onOpenChange:e,session:r,onEditSchedule:n})=>{const[i,s]=j.useState([]),[a,o]=j.useState({chiefComplaint:"",painLevel:"",painLocation:"",symptomHistory:"",previousTreatments:"",posturalAssessment:"",rangeOfMotion:"",muscleStrength:"",functionalTests:"",palpation:"",specialTests:"",clinicalDiagnosis:"",functionalDiagnosis:"",shortTermGoals:"",longTermGoals:"",evolutionNotes:"",homeExercises:"",recommendations:"",nextSession:""}),c=()=>{const f={id:Date.now().toString(),technique:"",area:"",duration:"",intensity:"",observations:""};s([...i,f])},u=(f,p,v)=>{s(i.map(g=>g.id===f?{...g,[p]:v}:g))},d=f=>{s(i.filter(p=>p.id!==f))},h=()=>{console.log("Salvando dados de fisioterapia:",{physiotherapyData:a,treatments:i}),e(!1)};return l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-4xl max-h-[90vh]",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(As,{className:"w-5 h-5 text-red-500"}),"Atendimento Fisioterapêutico - ",r==null?void 0:r.title]}),n&&l.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>n(r),className:"text-muted-foreground hover:text-foreground",children:[l.jsx(al,{className:"w-4 h-4 mr-2"}),"Editar Agendamento"]})]}),l.jsx(ll,{children:"Realize a avaliação fisioterapêutica e registre os tratamentos aplicados."})]}),l.jsx(Cs,{className:"max-h-[75vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Avaliação Inicial"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"chiefComplaint",children:"Queixa Principal"}),l.jsx(Se,{id:"chiefComplaint",value:a.chiefComplaint,onChange:f=>o({...a,chiefComplaint:f.target.value}),placeholder:"Descreva a queixa principal do paciente..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"painLevel",children:"Nível de Dor (0-10)"}),l.jsx(se,{id:"painLevel",value:a.painLevel,onChange:f=>o({...a,painLevel:f.target.value}),placeholder:"7",type:"number",min:"0",max:"10"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(G,{htmlFor:"painLocation",children:"Localização da Dor"}),l.jsx(se,{id:"painLocation",value:a.painLocation,onChange:f=>o({...a,painLocation:f.target.value}),placeholder:"Lombar, cervical, joelho direito..."})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"symptomHistory",children:"História dos Sintomas"}),l.jsx(Se,{id:"symptomHistory",value:a.symptomHistory,onChange:f=>o({...a,symptomHistory:f.target.value}),placeholder:"Início dos sintomas, fatores desencadeantes, evolução..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"previousTreatments",children:"Tratamentos Anteriores"}),l.jsx(Se,{id:"previousTreatments",value:a.previousTreatments,onChange:f=>o({...a,previousTreatments:f.target.value}),placeholder:"Fisioterapia, medicamentos, cirurgias anteriores..."})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Exame Físico"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"posturalAssessment",children:"Avaliação Postural"}),l.jsx(Se,{id:"posturalAssessment",value:a.posturalAssessment,onChange:f=>o({...a,posturalAssessment:f.target.value}),placeholder:"Observações sobre postura estática e dinâmica..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"rangeOfMotion",children:"Amplitude de Movimento"}),l.jsx(Se,{id:"rangeOfMotion",value:a.rangeOfMotion,onChange:f=>o({...a,rangeOfMotion:f.target.value}),placeholder:"Limitações, compensações..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"muscleStrength",children:"Força Muscular"}),l.jsx(Se,{id:"muscleStrength",value:a.muscleStrength,onChange:f=>o({...a,muscleStrength:f.target.value}),placeholder:"Graus de força, desequilíbrios..."})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"functionalTests",children:"Testes Funcionais"}),l.jsx(Se,{id:"functionalTests",value:a.functionalTests,onChange:f=>o({...a,functionalTests:f.target.value}),placeholder:"Resultados de testes específicos aplicados..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"palpation",children:"Palpação"}),l.jsx(Se,{id:"palpation",value:a.palpation,onChange:f=>o({...a,palpation:f.target.value}),placeholder:"Pontos dolorosos, tensões, temperatura..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"specialTests",children:"Testes Especiais"}),l.jsx(Se,{id:"specialTests",value:a.specialTests,onChange:f=>o({...a,specialTests:f.target.value}),placeholder:"Testes ortopédicos específicos..."})]})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Diagnóstico Fisioterapêutico"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"clinicalDiagnosis",children:"Diagnóstico Clínico"}),l.jsx(Se,{id:"clinicalDiagnosis",value:a.clinicalDiagnosis,onChange:f=>o({...a,clinicalDiagnosis:f.target.value}),placeholder:"Diagnóstico baseado na avaliação..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"functionalDiagnosis",children:"Diagnóstico Funcional"}),l.jsx(Se,{id:"functionalDiagnosis",value:a.functionalDiagnosis,onChange:f=>o({...a,functionalDiagnosis:f.target.value}),placeholder:"Limitações funcionais identificadas..."})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Objetivos do Tratamento"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"shortTermGoals",children:"Objetivos Curto Prazo"}),l.jsx(Se,{id:"shortTermGoals",value:a.shortTermGoals,onChange:f=>o({...a,shortTermGoals:f.target.value}),placeholder:"Metas para as próximas 2-4 semanas..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"longTermGoals",children:"Objetivos Longo Prazo"}),l.jsx(Se,{id:"longTermGoals",value:a.longTermGoals,onChange:f=>o({...a,longTermGoals:f.target.value}),placeholder:"Metas finais do tratamento..."})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Tratamentos Aplicados"}),l.jsxs(te,{onClick:c,size:"sm",children:[l.jsx(Dc,{className:"w-4 h-4 mr-2"}),"Adicionar Tratamento"]})]}),l.jsxs("div",{className:"space-y-4",children:[i.map((f,p)=>l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs(it,{variant:"outline",children:["Tratamento ",p+1]}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>d(f.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Gv,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:`technique-${f.id}`,children:"Técnica"}),l.jsxs(ft,{value:f.technique,onValueChange:v=>u(f.id,"technique",v),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione a técnica"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"manual-therapy",children:"Terapia Manual"}),l.jsx(ne,{value:"electrotherapy",children:"Eletroterapia"}),l.jsx(ne,{value:"ultrasound",children:"Ultrassom"}),l.jsx(ne,{value:"laser",children:"Laserterapia"}),l.jsx(ne,{value:"tens",children:"TENS"}),l.jsx(ne,{value:"exercises",children:"Exercícios"}),l.jsx(ne,{value:"stretching",children:"Alongamentos"}),l.jsx(ne,{value:"heat-therapy",children:"Termoterapia"}),l.jsx(ne,{value:"cold-therapy",children:"Crioterapia"}),l.jsx(ne,{value:"massage",children:"Massagem"})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`area-${f.id}`,children:"Área Tratada"}),l.jsx(se,{id:`area-${f.id}`,value:f.area,onChange:v=>u(f.id,"area",v.target.value),placeholder:"Ex: Lombar, Cervical, Joelho D"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:`duration-${f.id}`,children:"Duração"}),l.jsx(se,{id:`duration-${f.id}`,value:f.duration,onChange:v=>u(f.id,"duration",v.target.value),placeholder:"15 min"})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`intensity-${f.id}`,children:"Intensidade"}),l.jsxs(ft,{value:f.intensity,onValueChange:v=>u(f.id,"intensity",v),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione a intensidade"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"low",children:"Baixa"}),l.jsx(ne,{value:"moderate",children:"Moderada"}),l.jsx(ne,{value:"high",children:"Alta"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:`observations-${f.id}`,children:"Observações"}),l.jsx(Se,{id:`observations-${f.id}`,value:f.observations,onChange:v=>u(f.id,"observations",v.target.value),placeholder:"Resposta do paciente, ajustes realizados...",rows:2})]})]},f.id)),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(As,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhum tratamento registrado"}),l.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Tratamento" para começar'})]})]})]}),l.jsx(pr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Orientações e Cuidados"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"homeExercises",children:"Exercícios Domiciliares"}),l.jsx(Se,{id:"homeExercises",value:a.homeExercises,onChange:f=>o({...a,homeExercises:f.target.value}),placeholder:"Exercícios para realizar em casa..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"recommendations",children:"Recomendações Gerais"}),l.jsx(Se,{id:"recommendations",value:a.recommendations,onChange:f=>o({...a,recommendations:f.target.value}),placeholder:"Cuidados posturais, atividades a evitar..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"evolutionNotes",children:"Evolução do Quadro"}),l.jsx(Se,{id:"evolutionNotes",value:a.evolutionNotes,onChange:f=>o({...a,evolutionNotes:f.target.value}),placeholder:"Melhoras observadas, resposta ao tratamento..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"nextSession",children:"Próxima Sessão"}),l.jsx(Se,{id:"nextSession",value:a.nextSession,onChange:f=>o({...a,nextSession:f.target.value}),placeholder:"Planejamento para a próxima sessão..."})]})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsxs(te,{onClick:h,className:"flex-1",children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),"Salvar Atendimento"]}),l.jsx(te,{variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancelar"})]})]})})]})})},L8e=()=>{const{user:t}=tr(),{toast:e}=Os(),[r,n]=j.useState(!1),[i,s]=j.useState(new Date),[a,o]=j.useState([]),[c,u]=j.useState([]),[d,h]=j.useState(!1);j.useEffect(()=>{r&&t&&(f(),p())},[r,t,i]);const f=async()=>{try{const{data:y,error:b}=await ce.from("athlete_professional_relationships").select(`
          professional_id,
          professional:profiles!athlete_professional_relationships_professional_id_fkey(full_name, user_id)
        `).eq("athlete_id",t==null?void 0:t.id).eq("status","accepted").eq("is_active",!0);if(b)throw b;const w=(y||[]).map(S=>({id:S.professional_id,full_name:S.professional.full_name,user_id:S.professional.user_id}));u(w)}catch(y){console.error("Error fetching linked professionals:",y)}},p=async()=>{try{const y=$r(i,"yyyy-MM-dd"),b=c.map(A=>A.id);if(b.length===0)return;const{data:w,error:S}=await ce.from("sessions").select(`
          *,
          professional:profiles!sessions_professional_id_fkey(full_name)
        `).eq("session_date",y).eq("session_type","available").eq("status","available").in("professional_id",b).order("start_time");if(S)throw S;const _=(w||[]).map(A=>({...A,professional:A.professional}));o(_)}catch(y){console.error("Error fetching available sessions:",y),e({title:"Erro",description:"Não foi possível carregar as sessões disponíveis.",variant:"destructive"})}},v=async y=>{try{h(!0);const{error:b}=await ce.from("sessions").update({athlete_id:t==null?void 0:t.id,status:"pending",session_type:"booked"}).eq("id",y);if(b)throw b;const w=a.find(S=>S.id===y);w&&await ce.from("notifications").insert({user_id:w.professional_id,title:"Nova Solicitação de Agendamento",message:`Um atleta solicitou agendamento para a sessão "${w.title}" em ${$r(new Date(w.session_date),"dd/MM/yyyy",{locale:pc})} às ${w.start_time}.`,type:"info"}),e({title:"Sessão agendada!",description:"Sua solicitação foi enviada ao profissional."}),p()}catch(b){console.error("Error booking session:",b),e({title:"Erro",description:"Não foi possível agendar a sessão.",variant:"destructive"})}finally{h(!1)}},g=y=>{const[b,w]=y.split(":");return`${b}h${w}`},x=y=>{const b={className:"w-5 h-5"};switch(y){case"consulta-medica":return l.jsx(ov,{...b,className:"w-5 h-5 text-blue-500"});case"consulta-nutricao":return l.jsx(vE,{...b,className:"w-5 h-5 text-green-500"});case"treinamento":return l.jsx(ab,{...b,className:"w-5 h-5 text-orange-500"});case"fisioterapia":return l.jsx(As,{...b,className:"w-5 h-5 text-red-500"});default:return l.jsx(bm,{...b,className:"w-5 h-5 text-muted-foreground"})}};return l.jsxs(cn,{open:r,onOpenChange:n,children:[l.jsx(mp,{asChild:!0,children:l.jsxs(te,{className:"gap-2",children:[l.jsx(Dc,{className:"w-4 h-4"}),"Agendar"]})}),l.jsxs(qr,{className:"max-w-5xl max-h-[90vh]",children:[l.jsx(Gr,{children:l.jsx(Kr,{children:"Agendar Sessão"})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs(he,{className:"lg:col-span-1",children:[l.jsx(Be,{children:l.jsx(Le,{className:"text-lg",children:"Selecionar Data"})}),l.jsx(Ie,{className:"p-0",children:l.jsx(p$,{mode:"single",selected:i,onSelect:y=>{y&&s(y)},locale:pc,className:"w-full",disabled:y=>y<new Date})})]}),l.jsxs(he,{className:"lg:col-span-3",children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(bm,{className:"w-5 h-5"}),"Horários Disponíveis - ",$r(i,"dd/MM/yyyy",{locale:pc})]}),l.jsxs(Ye,{children:[a.length," horário(s) disponível(is) dos seus profissionais vinculados"]})]}),l.jsx(Ie,{children:l.jsx(Cs,{className:"h-[400px]",children:a.length>0?l.jsx("div",{className:"space-y-4",children:a.map(y=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[x(y.appointment_type),l.jsx("h4",{className:"font-semibold",children:y.title})]}),l.jsx(it,{variant:"outline",className:"text-green-600 border-green-600",children:"Disponível"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ja,{className:"w-4 h-4"}),g(y.start_time)," - ",g(y.end_time)]}),y.location&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(XS,{className:"w-4 h-4"}),y.location]}),y.price&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(BT,{className:"w-4 h-4"}),"R$ ",y.price.toFixed(2)]}),y.professional&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Xs,{className:"w-4 h-4"}),y.professional.full_name]})]}),y.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:y.description})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(te,{size:"sm",onClick:()=>v(y.id),disabled:d,children:"Agendar"})})]},y.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(bm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhum horário disponível para esta data"}),l.jsx("p",{className:"text-sm",children:c.length===0?"Você não possui profissionais vinculados ainda.":"Tente selecionar outra data."})]})})})]})]})]})]})},WQ=({userType:t})=>{const{user:e}=tr(),{toast:r}=Os(),[n,i]=j.useState([]),[s,a]=j.useState([]),[o,c]=j.useState(new Date),[u,d]=j.useState(!1),[h,f]=j.useState(!1),[p,v]=j.useState(null),[g,x]=j.useState(!1),[y,b]=j.useState(!1),[w,S]=j.useState(!1),[_,A]=j.useState(!1),[E,N]=j.useState(!1),[T,D]=j.useState({title:"",description:"",session_date:"",start_time:"",end_time:"",location:"",price:"",athlete_id:"",appointment_type:""}),[O,I]=j.useState(!1),[F,$]=j.useState(new Set),[B,L]=j.useState({title:"",description:"",session_date:$r(new Date,"yyyy-MM-dd"),start_time:"",end_time:"",location:"",price:"",athlete_id:"",appointment_type:""});j.useEffect(()=>{e&&(U(),P(),t==="professional"&&R())},[e]),j.useEffect(()=>{e&&U()},[o]),j.useEffect(()=>{g&&p&&h&&(console.log("Preenchendo dados para edição:",p),D({title:p.title,description:p.description||"",session_date:p.session_date,start_time:p.start_time,end_time:p.end_time,location:p.location||"",price:p.price?p.price.toString():"",athlete_id:p.athlete_id||"",appointment_type:p.appointment_type||""}))},[g,p,h]);const P=async()=>{try{const H=new Date,Q=new Date(H.getFullYear(),H.getMonth()-3,1),ie=new Date(H.getFullYear(),H.getMonth()+6,0);let ae=ce.from("sessions").select("session_date").gte("session_date",$r(Q,"yyyy-MM-dd")).lte("session_date",$r(ie,"yyyy-MM-dd"));t==="professional"?ae=ae.eq("professional_id",e==null?void 0:e.id):ae=ae.or(`athlete_id.eq.${e==null?void 0:e.id},session_type.eq.available`);const{data:W,error:me}=await ae;if(me)throw me;const Ae=new Set((W||[]).map(Oe=>Oe.session_date));$(Ae)}catch(H){console.error("Error fetching session dates:",H)}},R=async()=>{try{const{data:H,error:Q}=await ce.from("athlete_professional_relationships").select(`
          athlete_id,
          athlete:profiles!athlete_professional_relationships_athlete_id_fkey(full_name, user_id)
        `).eq("professional_id",e==null?void 0:e.id).eq("status","accepted").eq("is_active",!0);if(Q)throw Q;const ie=(H||[]).map(ae=>({id:ae.athlete_id,full_name:ae.athlete.full_name,user_id:ae.athlete.user_id}));a(ie)}catch(H){console.error("Error fetching athletes:",H)}},U=async()=>{try{const H=$r(o,"yyyy-MM-dd");let Q=ce.from("sessions").select(`
          *,
          athlete:profiles!sessions_athlete_id_fkey(full_name),
          professional:profiles!sessions_professional_id_fkey(full_name)
        `).eq("session_date",H);t==="professional"?Q=Q.eq("professional_id",e==null?void 0:e.id):Q=Q.eq("athlete_id",e==null?void 0:e.id);const{data:ie,error:ae}=await Q.order("start_time");if(ae)throw ae;const W=(ie||[]).map(me=>({...me,athlete:me.athlete,professional:me.professional}));i(W)}catch(H){console.error("Error fetching sessions:",H),r({title:"Erro",description:"Não foi possível carregar as sessões.",variant:"destructive"})}},Y=async H=>{if(H.preventDefault(),t==="professional")try{I(!0);const Q={professional_id:e==null?void 0:e.id,title:B.title,description:B.description||null,session_date:B.session_date,start_time:B.start_time,end_time:B.end_time,location:B.location||null,price:B.price?parseFloat(B.price):null,athlete_id:B.athlete_id&&B.athlete_id!=="none"?B.athlete_id:null,session_type:B.athlete_id&&B.athlete_id!=="none"?"booked":"available",status:B.athlete_id&&B.athlete_id!=="none"?"confirmed":"available",appointment_type:B.appointment_type||null},{error:ie}=await ce.from("sessions").insert(Q);if(ie)throw ie;B.athlete_id&&B.athlete_id!=="none"&&await ce.from("notifications").insert({user_id:B.athlete_id,title:"Nova Sessão Agendada",message:`Uma nova sessão "${B.title}" foi agendada para você em ${$r(new Date(B.session_date),"dd/MM/yyyy",{locale:pc})} às ${B.start_time}.`,type:"success"}),r({title:"Sessão criada!",description:B.athlete_id?"Sessão agendada com sucesso e atleta notificado.":"Horário disponibilizado com sucesso."}),d(!1),L({title:"",description:"",session_date:$r(new Date,"yyyy-MM-dd"),start_time:"",end_time:"",location:"",price:"",athlete_id:"",appointment_type:""}),U()}catch(Q){console.error("Error creating session:",Q),r({title:"Erro",description:"Não foi possível criar a sessão.",variant:"destructive"})}finally{I(!1)}},J=async H=>{if(t==="athlete")try{I(!0);const{error:Q}=await ce.from("sessions").update({athlete_id:e==null?void 0:e.id,status:"pending",session_type:"booked"}).eq("id",H);if(Q)throw Q;const ie=n.find(ae=>ae.id===H);ie&&await ce.from("notifications").insert({user_id:ie.professional_id,title:"Nova Solicitação de Agendamento",message:`Um atleta solicitou agendamento para a sessão "${ie.title}" em ${$r(new Date(ie.session_date),"dd/MM/yyyy",{locale:pc})} às ${ie.start_time}.`,type:"info"}),r({title:"Sessão agendada!",description:"Sua solicitação foi enviada ao profissional."}),U()}catch(Q){console.error("Error booking session:",Q),r({title:"Erro",description:"Não foi possível agendar a sessão.",variant:"destructive"})}finally{I(!1)}},X=async(H,Q)=>{if(t==="professional")try{I(!0);const ie=Q==="confirm"?"confirmed":"cancelled",{error:ae}=await ce.from("sessions").update({status:ie}).eq("id",H);if(ae)throw ae;const W=n.find(me=>me.id===H);W&&W.athlete_id&&await ce.from("notifications").insert({user_id:W.athlete_id,title:Q==="confirm"?"Agendamento Confirmado":"Agendamento Cancelado",message:Q==="confirm"?`Sua sessão "${W.title}" foi confirmada para ${$r(new Date(W.session_date),"dd/MM/yyyy",{locale:pc})} às ${W.start_time}.`:`Sua sessão "${W.title}" foi cancelada.`,type:Q==="confirm"?"success":"warning"}),r({title:Q==="confirm"?"Sessão confirmada!":"Sessão cancelada",description:Q==="confirm"?"O atleta foi notificado da confirmação.":"O atleta foi notificado do cancelamento."}),U()}catch(ie){console.error("Error updating session:",ie),r({title:"Erro",description:"Não foi possível atualizar a sessão.",variant:"destructive"})}finally{I(!1)}},ee=H=>{const[Q,ie]=H.split(":");return`${Q}h${ie}`},ue=H=>{const Q={className:"w-5 h-5"};switch(H){case"consulta-medica":return l.jsx(ov,{...Q,className:"w-5 h-5 text-blue-500"});case"consulta-nutricao":return l.jsx(vE,{...Q,className:"w-5 h-5 text-green-500"});case"treinamento":return l.jsx(ab,{...Q,className:"w-5 h-5 text-orange-500"});case"fisioterapia":return l.jsx(As,{...Q,className:"w-5 h-5 text-red-500"});default:return l.jsx(bm,{...Q,className:"w-5 h-5 text-muted-foreground"})}},we=H=>{if(v(H),H.status==="confirmed"&&H.appointment_type)switch(H.appointment_type){case"consulta-medica":b(!0);return;case"treinamento":S(!0);return;case"consulta-nutricao":A(!0);return;case"fisioterapia":N(!0);return}D({title:H.title,description:H.description||"",session_date:H.session_date,start_time:H.start_time,end_time:H.end_time,location:H.location||"",price:H.price?H.price.toString():"",athlete_id:H.athlete_id||"",appointment_type:H.appointment_type||""}),x(!1),f(!0)},je=async H=>{if(H.preventDefault(),!(!p||t!=="professional"))try{I(!0);const Q={title:T.title,description:T.description||null,session_date:T.session_date,start_time:T.start_time,end_time:T.end_time,location:T.location||null,price:T.price?parseFloat(T.price):null,athlete_id:T.athlete_id&&T.athlete_id!=="none"?T.athlete_id:null,appointment_type:T.appointment_type||null},{error:ie}=await ce.from("sessions").update(Q).eq("id",p.id);if(ie)throw ie;r({title:"Sessão atualizada!",description:"As alterações foram salvas com sucesso."}),x(!1),f(!1),U()}catch(Q){console.error("Error updating session:",Q),r({title:"Erro",description:"Não foi possível atualizar a sessão.",variant:"destructive"})}finally{I(!1)}},V=(H,Q)=>Q==="available"&&H==="available"?l.jsx(it,{variant:"outline",className:"text-green-600 border-green-600",children:"Disponível"}):H==="pending"?l.jsx(it,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Pendente"}):H==="confirmed"?l.jsx(it,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Confirmado"}):H==="cancelled"?l.jsx(it,{variant:"outline",className:"text-red-600 border-red-600",children:"Cancelado"}):H==="completed"?l.jsx(it,{variant:"outline",className:"text-purple-600 border-purple-600",children:"Concluído"}):l.jsx(it,{variant:"outline",children:H});return l.jsxs("div",{className:"space-y-6",children:[t==="professional"&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Agenda"}),l.jsx("p",{className:"text-muted-foreground",children:"Crie horários disponíveis e gerencie agendamentos"})]}),l.jsxs(cn,{open:u,onOpenChange:d,children:[l.jsx(mp,{asChild:!0,children:l.jsxs(te,{className:"gap-2",children:[l.jsx(Dc,{className:"w-4 h-4"}),"Criar Horário"]})}),l.jsxs(qr,{className:"max-w-2xl max-h-[90vh]",children:[l.jsxs(Gr,{children:[l.jsx(Kr,{children:"Criar Novo Horário"}),l.jsx(ll,{children:"Crie um novo horário disponível ou agende uma sessão com um atleta específico."})]}),l.jsx(Cs,{className:"max-h-[75vh] pr-4",children:l.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"appointment_type",children:"Tipo de Agendamento"}),l.jsxs(ft,{value:B.appointment_type,onValueChange:H=>L({...B,appointment_type:H}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione o tipo de agendamento"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"consulta-medica",children:"Consulta Médica"}),l.jsx(ne,{value:"consulta-nutricao",children:"Consulta de Nutrição"}),l.jsx(ne,{value:"treinamento",children:"Treinamento"}),l.jsx(ne,{value:"fisioterapia",children:"Atendimento da Fisioterapia"})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"title",children:"Título da Sessão"}),l.jsx(se,{id:"title",value:B.title,onChange:H=>L({...B,title:H.target.value}),placeholder:"Ex: Consulta Nutricional",required:!0})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"athlete",children:"Atleta (opcional)"}),l.jsxs(ft,{value:B.athlete_id,onValueChange:H=>L({...B,athlete_id:H}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione um atleta ou deixe disponível"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"none",children:"Horário livre (disponível para qualquer atleta)"}),s.map(H=>l.jsx(ne,{value:H.id,children:H.full_name},H.id))]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"description",children:"Descrição (opcional)"}),l.jsx(Se,{id:"description",value:B.description,onChange:H=>L({...B,description:H.target.value}),placeholder:"Detalhes sobre a sessão..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"session_date",children:"Data"}),l.jsx(se,{id:"session_date",type:"date",value:B.session_date,onChange:H=>L({...B,session_date:H.target.value}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"start_time",children:"Início"}),l.jsx(se,{id:"start_time",type:"time",value:B.start_time,onChange:H=>L({...B,start_time:H.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"end_time",children:"Fim"}),l.jsx(se,{id:"end_time",type:"time",value:B.end_time,onChange:H=>L({...B,end_time:H.target.value}),required:!0})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"location",children:"Local (opcional)"}),l.jsx(se,{id:"location",value:B.location,onChange:H=>L({...B,location:H.target.value}),placeholder:"Ex: Consultório, Online, etc."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"price",children:"Preço (opcional)"}),l.jsx(se,{id:"price",type:"number",step:"0.01",value:B.price,onChange:H=>L({...B,price:H.target.value}),placeholder:"0.00"})]}),l.jsx(te,{type:"submit",className:"w-full",disabled:O,children:O?"Criando...":"Criar Horário"})]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs(he,{className:"lg:col-span-1",children:[l.jsx(Be,{children:l.jsx(Le,{className:"text-lg",children:"Calendário"})}),l.jsx(Ie,{className:"p-0",children:l.jsx(p$,{mode:"single",selected:o,onSelect:H=>{H&&c(H)},locale:pc,className:"w-full",components:{DayContent:({date:H})=>{const Q=$r(H,"yyyy-MM-dd"),ie=F.has(Q);return l.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full h-full",children:[l.jsx("span",{children:H.getDate()}),ie&&l.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full opacity-80 mt-0.5"})]})}},classNames:{months:"flex w-full flex-col space-y-4",month:"space-y-4 w-full",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse",head_row:"flex w-full",head_cell:"text-muted-foreground rounded-md w-full font-normal text-[0.8rem] flex-1 text-center",row:"flex w-full mt-2",cell:"h-9 w-full p-0 text-center text-sm relative flex-1 [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-9 w-full p-0 font-normal aria-selected:opacity-100 hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground rounded-md",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"}})})]}),l.jsxs(he,{className:"lg:col-span-3",children:[l.jsx(Be,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(bm,{className:"w-5 h-5"}),"Sessões - ",$r(o,"dd/MM/yyyy",{locale:pc})]}),l.jsxs(Ye,{children:[n.length," sessão(ões) encontrada(s)"]})]}),t==="athlete"&&l.jsx(L8e,{})]})}),l.jsx(Ie,{children:n.length>0?l.jsx("div",{className:"space-y-4",children:n.map(H=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>we(H),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[ue(H.appointment_type),l.jsx("h4",{className:"font-semibold",children:H.title})]}),V(H.status,H.session_type)]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ja,{className:"w-4 h-4"}),ee(H.start_time)," - ",ee(H.end_time)]}),H.location&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(XS,{className:"w-4 h-4"}),H.location]}),H.price&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(BT,{className:"w-4 h-4"}),"R$ ",H.price.toFixed(2)]}),t==="athlete"&&H.professional?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Xs,{className:"w-4 h-4"}),H.professional.full_name]}):t==="professional"&&H.athlete_id&&H.athlete?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Xs,{className:"w-4 h-4"}),H.athlete.full_name]}):null]}),H.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:H.description})]}),l.jsxs("div",{className:"flex gap-2",children:[t==="athlete"&&H.session_type==="available"&&H.status==="available"&&l.jsx(te,{size:"sm",onClick:Q=>{Q.stopPropagation(),J(H.id)},disabled:O,children:"Agendar"}),t==="professional"&&H.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx(te,{size:"sm",variant:"outline",onClick:Q=>{Q.stopPropagation(),X(H.id,"confirm")},disabled:O,className:"text-green-600 border-green-600 hover:bg-green-50",children:l.jsx(nv,{className:"w-4 h-4"})}),l.jsx(te,{size:"sm",variant:"outline",onClick:Q=>{Q.stopPropagation(),X(H.id,"cancel")},disabled:O,className:"text-red-600 border-red-600 hover:bg-red-50",children:l.jsx(iv,{className:"w-4 h-4"})})]})]})]},H.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(bm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhuma sessão encontrada para esta data"}),t==="professional"&&l.jsx("p",{className:"text-sm",children:"Crie novos horários disponíveis"})]})})]})]}),l.jsx(cn,{open:h,onOpenChange:H=>{f(H),H||x(!1)},children:l.jsxs(qr,{className:"max-w-2xl max-h-[90vh]",children:[l.jsxs(Gr,{children:[l.jsxs(Kr,{className:"flex items-center justify-between",children:[l.jsx("span",{children:g?"Editar Agendamento":"Gerenciar Agendamento"}),t==="professional"&&!g&&p&&l.jsxs(te,{variant:"outline",size:"sm",onClick:()=>x(!0),children:[l.jsx(Ire,{className:"w-4 h-4 mr-2"}),"Editar"]})]}),l.jsx(ll,{children:g?"Edite os detalhes da sessão conforme necessário.":"Visualize os detalhes da sessão e gerencie o agendamento."})]}),p&&l.jsx(Cs,{className:"max-h-[75vh] pr-4",children:g?l.jsxs("form",{onSubmit:je,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_appointment_type",children:"Tipo de Agendamento"}),l.jsxs(ft,{value:T.appointment_type,onValueChange:H=>D({...T,appointment_type:H}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione o tipo de agendamento"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"consulta-medica",children:"Consulta Médica"}),l.jsx(ne,{value:"consulta-nutricao",children:"Consulta de Nutrição"}),l.jsx(ne,{value:"treinamento",children:"Treinamento"}),l.jsx(ne,{value:"fisioterapia",children:"Atendimento da Fisioterapia"})]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_title",children:"Título da Sessão"}),l.jsx(se,{id:"edit_title",value:T.title,onChange:H=>D({...T,title:H.target.value}),placeholder:"Ex: Consulta Nutricional",required:!0})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_athlete",children:"Atleta"}),l.jsxs(ft,{value:T.athlete_id||"none",onValueChange:H=>D({...T,athlete_id:H}),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione um atleta ou deixe disponível"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"none",children:"Horário livre (disponível para qualquer atleta)"}),s.map(H=>l.jsx(ne,{value:H.id,children:H.full_name},H.id))]})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_description",children:"Descrição"}),l.jsx(Se,{id:"edit_description",value:T.description,onChange:H=>D({...T,description:H.target.value}),placeholder:"Detalhes sobre a sessão..."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_session_date",children:"Data"}),l.jsx(se,{id:"edit_session_date",type:"date",value:T.session_date,onChange:H=>D({...T,session_date:H.target.value}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_start_time",children:"Início"}),l.jsx(se,{id:"edit_start_time",type:"time",value:T.start_time,onChange:H=>D({...T,start_time:H.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_end_time",children:"Fim"}),l.jsx(se,{id:"edit_end_time",type:"time",value:T.end_time,onChange:H=>D({...T,end_time:H.target.value}),required:!0})]})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_location",children:"Local"}),l.jsx(se,{id:"edit_location",value:T.location,onChange:H=>D({...T,location:H.target.value}),placeholder:"Ex: Consultório, Online, etc."})]}),l.jsxs("div",{children:[l.jsx(G,{htmlFor:"edit_price",children:"Preço"}),l.jsx(se,{id:"edit_price",type:"number",step:"0.01",value:T.price,onChange:H=>D({...T,price:H.target.value}),placeholder:"0.00"})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(te,{type:"submit",disabled:O,className:"flex-1",children:O?"Salvando...":"Salvar Alterações"}),l.jsx(te,{type:"button",variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Cancelar"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ue(p.appointment_type),l.jsx("h3",{className:"font-semibold text-lg",children:p.title})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ja,{className:"w-4 h-4"}),ee(p.start_time)," - ",ee(p.end_time)]}),p.location&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(XS,{className:"w-4 h-4"}),p.location]}),p.price&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(BT,{className:"w-4 h-4"}),"R$ ",p.price.toFixed(2)]})]}),p.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:p.description}),l.jsx("div",{className:"mt-3",children:V(p.status,p.session_type)})]}),t==="professional"&&p.status==="pending"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(te,{className:"flex-1",onClick:()=>{X(p.id,"confirm"),f(!1)},disabled:O,children:[l.jsx(nv,{className:"w-4 h-4 mr-2"}),"Confirmar"]}),l.jsxs(te,{variant:"outline",className:"flex-1",onClick:()=>{X(p.id,"cancel"),f(!1)},disabled:O,children:[l.jsx(iv,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}),t==="athlete"&&p.session_type==="available"&&p.status==="available"&&l.jsx(te,{className:"w-full",onClick:()=>{J(p.id),f(!1)},disabled:O,children:"Agendar Sessão"}),p.athlete_id&&p.athlete&&l.jsx("div",{className:"p-3 bg-muted/20 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium",children:"Atleta:"}),l.jsx("span",{children:p.athlete.full_name})]})}),t==="athlete"&&p.professional&&l.jsx("div",{className:"p-3 bg-muted/20 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium",children:"Profissional:"}),l.jsx("span",{children:p.professional.full_name})]})})]})})]})}),l.jsx(D8e,{isOpen:y,onOpenChange:b,session:p,onEditSchedule:H=>{console.log("Editando sessão:",H),v(H),x(!0),f(!0),b(!1)}}),l.jsx(R8e,{isOpen:w,onOpenChange:S,session:p,onEditSchedule:H=>{console.log("Editando sessão:",H),v(H),x(!0),f(!0),S(!1)}}),l.jsx(I8e,{isOpen:_,onOpenChange:A,session:p,onEditSchedule:H=>{console.log("Editando sessão:",H),v(H),x(!0),f(!0),A(!1)}}),l.jsx($8e,{isOpen:E,onOpenChange:N,session:p,onEditSchedule:H=>{console.log("Editando sessão:",H),v(H),x(!0),f(!0),N(!1)}})]})},F8e=()=>{const{user:t}=tr(),{generateSessionId:e,logStart:r,logSuccess:n,logError:i}=eR(),[s]=j.useState(()=>e()),[a,o]=j.useState([]),[c,u]=j.useState(!0),[d,h]=j.useState({sleep:0,heartRate:0,calories:0,water:0,training:0,recovery:0,lastMedicalData:void 0}),[f,p]=j.useState([]),[v,g]=j.useState([]),x=async()=>{const _=Date.now();if(!(t!=null&&t.id)){await i("athlete_data_fetch","No user ID available for fetching athlete data",s),console.log("❌ No user ID available for fetching athlete data"),u(!1);return}await r("athlete_data_fetch","Starting to fetch athlete data",{userId:t.id},s,t.id);try{console.log("🔄 Starting to fetch athlete data for user:",t.id),u(!0);const{data:A,error:E}=await ce.from("athlete_data").select("*").eq("athlete_id",t.id).order("recorded_at",{ascending:!1});if(E){await i("athlete_data_fetch",E,s,t.id),console.error("❌ Error fetching athlete data:",E),u(!1);return}const N=Date.now()-_;await n("athlete_data_fetch","Successfully fetched athlete data",{recordCount:(A==null?void 0:A.length)||0,duration:N},s,t.id),console.log("✅ Successfully fetched athlete data:",A==null?void 0:A.length,"records"),o(A||[]),await r("athlete_data_process","Starting to process athlete data",{recordCount:(A==null?void 0:A.length)||0},s,t.id),y(A||[]);const T=Date.now()-_;await n("athlete_data_process","Athlete data processing completed",{totalDuration:T},s,t.id)}catch(A){await i("athlete_data_fetch",A,s,t.id),console.error("❌ Error fetching athlete data:",A)}finally{console.log("🏁 Finished fetching athlete data, setting loading to false"),u(!1);const A=Date.now()-_;await n("athlete_data_loading_complete","Athlete data loading completed",{totalTime:A},s,t.id)}},y=_=>{const E=new Date().toDateString();console.log("Today is:",E);const N=_.filter(B=>{const P=new Date(B.recorded_at).toDateString();return console.log("Record date:",P,"Type:",B.data_type,"Match:",P===E),P===E});console.log("Today data found:",N.length,"records");const T=["medical_exam","medication","injury","treatment"],D=_.filter(B=>T.includes(B.data_type)).sort((B,L)=>new Date(L.recorded_at).getTime()-new Date(B.recorded_at).getTime()),O=D.length>0?{type:D[0].data_type,date:new Date(D[0].recorded_at).toLocaleDateString("pt-BR"),description:typeof D[0].data=="object"&&(D[0].data.description||D[0].data.name)||"Registro médico"}:void 0,I={sleep:b(N,"sleep")||b(_,"sleep")||0,heartRate:b(N,"heart_rate")||b(_,"heart_rate")||0,calories:b(N,"calories")||0,water:b(N,"water")||0,training:b(N,"training_duration")||0,recovery:b(N,"recovery_score")||b(_,"recovery_score")||0,lastMedicalData:O};console.log("Processed today metrics:",I),h(I);const F=w(_);p(F);const $=S(_);g($)},b=(_,A)=>{const E=_.filter(D=>D.data_type===A).sort((D,O)=>new Date(O.recorded_at).getTime()-new Date(D.recorded_at).getTime());if(E.length===0)return 0;const N=E[0];if(A==="sleep"&&typeof N.data=="object"&&N.data){const D=N.data.hours;console.log("Sleep data found:",D,typeof D);const O=typeof D=="string"?parseFloat(D):D;return typeof O=="number"&&!isNaN(O)?O:0}const T=typeof N.data=="object"&&N.data?N.data.value||0:N.data||0;return typeof T=="number"?T:0},w=_=>{const A=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],E=[];for(let N=6;N>=0;N--){const T=new Date;T.setDate(T.getDate()-N);const D=A[T.getDay()],O=T.toDateString(),I=_.filter(F=>new Date(F.recorded_at).toDateString()===O);E.push({day:D,calories:b(I,"calories"),water:b(I,"water"),training:b(I,"training_duration")})}return E},S=_=>{const A=[];for(let E=29;E>=0;E--){const N=new Date;N.setDate(N.getDate()-E);const T=N.toDateString(),D=`${String(N.getDate()).padStart(2,"0")}/${String(N.getMonth()+1).padStart(2,"0")}`,O=_.filter(R=>new Date(R.recorded_at).toDateString()===T),I=b(O,"sleep"),F=b(O,"training_duration")/60,$=b(O,"recovery_score");let B=0,L=0;I>0&&(B+=I/8*30,L++),F>0&&(B+=Math.min(F/2,1)*40,L++),$>0&&(B+=$/100*30,L++);const P=L>0?Math.round(B/L*100):0;A.push({date:D,score:P,sleep:I,training:F*10})}return A};return j.useEffect(()=>{if(x(),t!=null&&t.id){const _=ce.channel("athlete-data-changes").on("postgres_changes",{event:"*",schema:"public",table:"athlete_data",filter:`athlete_id=eq.${t.id}`},A=>{console.log("Real-time athlete data update:",A),x()}).subscribe();return()=>{ce.removeChannel(_)}}},[t==null?void 0:t.id]),{athleteData:a,loading:c,todaysMetrics:d,weeklyData:f,performanceData:v,refetch:x}},z8e=()=>{Rd();const{user:t,profile:e,signOut:r}=tr(),{todaysMetrics:n,weeklyData:i,performanceData:s,loading:a}=F8e(),{generateSessionId:o,logStart:c,logTimeout:u}=eR(),[d]=j.useState(()=>o());j.useEffect(()=>{c("dashboard_initialization","AthleteDashboard component mounted",{hasUser:!!t,hasProfile:!!e,loading:a,pathname:window.location.pathname},d,t==null?void 0:t.id)},[]),j.useEffect(()=>{c("dashboard_loading_state",`Dashboard loading state changed to: ${a}`,{loading:a,hasUser:!!t,hasProfile:!!e,todaysMetricsLoaded:!!n,weeklyDataLoaded:i.length>0,performanceDataLoaded:s.length>0},d,t==null?void 0:t.id)},[a,t,e,n,i,s]);const[h,f]=j.useState(!1);j.useEffect(()=>{const J=setTimeout(()=>{a&&(u("dashboard_loading_timeout",15e3,d,t==null?void 0:t.id),console.log("⚠️ Dashboard loading timeout reached, forcing ready state"),f(!0))},15e3);return()=>clearTimeout(J)},[a]);const p=a&&!h,{unreadCount:v}=KE(),[g,x]=j.useState(!1),[y,b]=j.useState("training"),[w,S]=j.useState(!1),[_,A]=j.useState("score"),[E,N]=j.useState("7"),[T,D]=j.useState(["calories","heart_rate"]),O=j.useRef(null),I=j.useRef(null),F=j.useRef(null),$=j.useRef(null),B=async()=>{await r(),window.location.href="/"},L=J=>{var X,ee,ue,we;switch(J){case"sleep":(X=O.current)==null||X.click();break;case"nutrition":(ee=I.current)==null||ee.click();break;case"training":(ue=F.current)==null||ue.click();break;case"vitals":(we=$.current)==null||we.click();break}},P=J=>({score:"Score de Performance",sleep:"Horas de Sono",training:"Tempo de Treino (min)"})[J]||"Score de Performance",R=()=>{const J=parseInt(E);return s.slice(-J)},U=J=>{D(X=>X.includes(J)?X.filter(ee=>ee!==J):[...X,J])},Y=J=>{D(X=>X.filter(ee=>ee!==J))};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx("header",{className:"bg-background/80 backdrop-blur-md border-b border-border sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-hero rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-6 h-6 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl font-bold",children:["Olá, ",(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Atleta","!"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Dashboard do Atleta"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[v>0,l.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Tempo Real"]}),l.jsx(te,{variant:"ghost",size:"icon",onClick:()=>x(!0),children:l.jsx(Ww,{className:"w-5 h-5"})}),l.jsx(te,{variant:"ghost",size:"icon",onClick:B,children:l.jsx(YS,{className:"w-5 h-5"})})]})]})})}),l.jsxs("div",{className:"container mx-auto px-6 py-8",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8",children:[n.lastMedicalData&&l.jsx(he,{className:"md:col-span-2 p-4 bg-gradient-to-r from-medical-bg to-medical-bg/50 border-medical-border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-medical-accent/10 rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-5 h-5 text-medical-accent"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Último Dado Médico"}),l.jsx("p",{className:"text-lg font-bold text-medical-accent",children:n.lastMedicalData.type}),l.jsx("p",{className:"text-xs text-muted-foreground",children:n.lastMedicalData.date})]})]})}),l.jsx(he,{className:"p-4 hover:shadow-card-sport transition-shadow cursor-pointer",onClick:()=>L("sleep"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:l.jsx(sv,{className:"w-5 h-5 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sono"}),l.jsxs("p",{className:"text-lg font-bold",children:[(n.sleep||0).toFixed(1),"h"]})]})]})}),l.jsx(he,{className:"p-4 hover:shadow-card-sport transition-shadow cursor-pointer",onClick:()=>L("vitals"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:l.jsx(As,{className:"w-5 h-5 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"FC Repouso"}),l.jsxs("p",{className:"text-lg font-bold",children:[n.heartRate," bpm"]})]})]})}),l.jsx(he,{className:"p-4 hover:shadow-card-sport transition-shadow cursor-pointer",onClick:()=>L("nutrition"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:l.jsx(xd,{className:"w-5 h-5 text-orange-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Calorias"}),l.jsx("p",{className:"text-lg font-bold",children:n.calories})]})]})}),l.jsx(he,{className:"p-4 hover:shadow-card-sport transition-shadow cursor-pointer",onClick:()=>L("nutrition"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-5 h-5 text-cyan-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Água"}),l.jsxs("p",{className:"text-lg font-bold",children:[n.water.toFixed(1),"L"]})]})]})}),l.jsx(he,{className:"p-4 hover:shadow-card-sport transition-shadow cursor-pointer",onClick:()=>L("training"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:l.jsx(Ja,{className:"w-5 h-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Treino"}),l.jsxs("p",{className:"text-lg font-bold",children:[n.training,"min"]})]})]})}),l.jsx(he,{className:"p-4 hover:shadow-card-sport transition-shadow cursor-pointer",onClick:()=>L("vitals"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:l.jsx(cv,{className:"w-5 h-5 text-purple-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Recuperação"}),l.jsxs("p",{className:"text-lg font-bold",children:[n.recovery,"%"]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx(eHe,{onDataTypeSelect:U,selectedDataTypes:T}),l.jsx(tHe,{selectedDataTypes:T,onDataTypeRemove:Y}),l.jsxs(he,{className:"lg:col-span-2",style:{display:"none"},children:[l.jsxs(Be,{children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-5 h-5 text-primary"}),"Gráfico de Performance"]}),l.jsxs(Ye,{children:[P(_)," nos últimos ",E," dias"]})]})}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Métrica:"}),l.jsxs(ft,{value:_,onValueChange:A,children:[l.jsx(ct,{className:"w-[180px]",children:l.jsx(pt,{placeholder:"Selecione a métrica"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"score",children:"Score de Performance"}),l.jsx(ne,{value:"sleep",children:"Horas de Sono"}),l.jsx(ne,{value:"training",children:"Tempo de Treino"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Período:"}),l.jsxs(ft,{value:E,onValueChange:N,children:[l.jsx(ct,{className:"w-[120px]",children:l.jsx(pt,{placeholder:"Período"})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"3",children:"3 dias"}),l.jsx(ne,{value:"7",children:"7 dias"}),l.jsx(ne,{value:"14",children:"14 dias"}),l.jsx(ne,{value:"30",children:"30 dias"})]})]})]})]})]}),l.jsx(Ie,{children:p?l.jsx("div",{className:"h-[300px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):R().length>0?l.jsx(Zo,{width:"100%",height:300,children:l.jsxs(tN,{data:R(),children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"date"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(lo,{type:"monotone",dataKey:_,stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.2,strokeWidth:3})]})}):l.jsx("div",{className:"h-[300px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_i,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de performance encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Comece registrando seus dados de treino, sono e recuperação"})]})})})]}),l.jsx(QUe,{}),l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(lv,{className:"w-5 h-5 text-secondary"}),"Metas de Hoje"]}),l.jsx(Ye,{children:"Acompanhe seu progresso diário"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Hidratação"}),l.jsxs("span",{children:[n.water.toFixed(1),"/3.5L"]})]}),l.jsx(Xo,{value:Math.min(n.water/3.5*100,100),className:"h-2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tempo de Treino"}),l.jsxs("span",{children:[n.training,"/150min"]})]}),l.jsx(Xo,{value:Math.min(n.training/150*100,100),className:"h-2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Calorias"}),l.jsxs("span",{children:[n.calories,"/2400"]})]}),l.jsx(Xo,{value:Math.min(n.calories/2400*100,100),className:"h-2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Qualidade do Sono"}),l.jsxs("span",{children:[(n.sleep||0).toFixed(1),"/8h"]})]}),l.jsx(Xo,{value:Math.min(n.sleep/8*100,100),className:"h-2"})]}),l.jsx(Iy,{initialTab:"sleep",trigger:l.jsxs(te,{className:"w-full gap-2",children:[l.jsx(Dc,{className:"w-4 h-4"}),"Registrar Dados"]})})]})]})]}),l.jsxs(he,{className:"mt-8",children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(al,{className:"w-5 h-5 text-accent"}),"Visão Semanal"]}),l.jsx(Ye,{children:"Comparativo das suas métricas ao longo da semana"})]}),l.jsx(Ie,{children:l.jsxs(ao,{defaultValue:"training",className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-4",children:[l.jsx(st,{value:"training",children:"Treinos"}),l.jsx(st,{value:"nutrition",children:"Nutrição"}),l.jsx(st,{value:"hydration",children:"Hidratação"}),l.jsx(st,{value:"sessions",children:"Sessões"})]}),l.jsx(at,{value:"training",className:"mt-6",children:p?l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):i.some(J=>J.training>0)?l.jsx(Zo,{width:"100%",height:250,children:l.jsxs(km,{data:i,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"day"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(sa,{dataKey:"training",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ja,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de treino encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Registre seus treinos para visualizar o progresso"})]})})}),l.jsx(at,{value:"nutrition",className:"mt-6",children:p?l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):i.some(J=>J.calories>0)?l.jsx(Zo,{width:"100%",height:250,children:l.jsxs(km,{data:i,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"day"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(sa,{dataKey:"calories",fill:"hsl(var(--accent))",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(xd,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de nutrição encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Registre suas refeições para acompanhar as calorias"})]})})}),l.jsx(at,{value:"hydration",className:"mt-6",children:p?l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):i.some(J=>J.water>0)?l.jsx(Zo,{width:"100%",height:250,children:l.jsxs(km,{data:i,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"day"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(sa,{dataKey:"water",fill:"hsl(var(--secondary))",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Gt,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de hidratação encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Registre seu consumo de água diário"})]})})}),l.jsx(at,{value:"sessions",className:"mt-6",children:l.jsx(WQ,{userType:"athlete"})})]})})]}),l.jsxs(he,{className:"mt-8",id:"communication-center",children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(As,{className:"w-5 h-5 text-primary"}),"Centro de Comunicação com Profissionais"]}),l.jsx(Ye,{children:"Converse diretamente com nutricionistas, fisioterapeutas, médicos e outros profissionais"})]}),l.jsx(Ie,{children:l.jsx(MQ,{})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[l.jsxs(te,{variant:"outline",className:"h-16 flex flex-col gap-1",onClick:()=>L("training"),children:[l.jsx(Dc,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs",children:"Novo Treino"})]}),l.jsxs(te,{variant:"outline",className:"h-16 flex flex-col gap-1",onClick:()=>L("nutrition"),children:[l.jsx(xd,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs",children:"Registrar Refeição"})]}),l.jsxs(te,{variant:"outline",className:"h-16 flex flex-col gap-1",onClick:()=>L("vitals"),children:[l.jsx(As,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs",children:"Dados Vitais"})]}),l.jsx(LUe,{trigger:l.jsxs(te,{variant:"outline",className:"h-16 flex flex-col gap-1",children:[l.jsx(_i,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs",children:"Ver Dados Salvos"})]})})]}),l.jsxs("div",{style:{display:"none"},children:[l.jsx(Iy,{initialTab:"sleep",trigger:l.jsx(te,{ref:O,children:"Hidden Sleep Trigger"})}),l.jsx(Iy,{initialTab:"nutrition",trigger:l.jsx(te,{ref:I,children:"Hidden Nutrition Trigger"})}),l.jsx(Iy,{initialTab:"training",trigger:l.jsx(te,{ref:F,children:"Hidden Training Trigger"})}),l.jsx(Iy,{initialTab:"vitals",trigger:l.jsx(te,{ref:$,children:"Hidden Vitals Trigger"})})]}),l.jsx(ZUe,{open:g,onOpenChange:x})]})]})},B8e=()=>{const{user:t}=tr(),{toast:e}=Os(),r=Rd(),[n,i]=j.useState([]),[s,a]=j.useState([]),[o,c]=j.useState(!1),[u,d]=j.useState(""),[h,f]=j.useState([]),[p,v]=j.useState(null),[g,x]=j.useState(""),[y,b]=j.useState(""),[w,S]=j.useState(!1),[_,A]=j.useState(!1),E=[{value:"nutrition",label:"Nutricionista"},{value:"physiotherapy",label:"Fisioterapeuta"},{value:"medical",label:"Médico"},{value:"training",label:"Treinador"},{value:"psychology",label:"Psicólogo"}];j.useEffect(()=>{t&&(N(),T())},[t]);const N=async()=>{try{const{data:P,error:R}=await ce.from("athlete_professional_relationships").select(`
          id,
          professional_id,
          specialty,
          status,
          invited_at,
          accepted_at,
          professional:profiles!athlete_professional_relationships_professional_id_fkey(full_name, user_id, user_type)
        `).eq("athlete_id",t==null?void 0:t.id);if(R)throw R;i(P||[])}catch(P){console.error("Error fetching relationships:",P)}},T=async()=>{try{const{data:P,error:R}=await ce.from("professional_invitations").select("*").eq("athlete_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(R)throw R;a(P||[])}catch(P){console.error("Error fetching invitations:",P)}},D=async P=>{if(!P.trim()||P.length<2){f([]);return}try{A(!0),console.log("🔍 Searching for:",P),console.log("🏠 Current relationships:",n);const{data:R,error:U}=await ce.from("profiles").select("user_id, full_name").eq("user_type","professional").ilike("full_name",`%${P}%`).limit(10);if(console.log("📊 Raw search results:",R),console.log("❌ Search error:",U),U)throw U;const Y=n.map(X=>X.professional_id);console.log("🚫 Existing professional IDs to filter:",Y);const J=(R||[]).filter(X=>!Y.includes(X.user_id));console.log("✅ Filtered results:",J),f(J)}catch(R){console.error("Error searching professionals:",R),e({title:"Erro na busca",description:"Não foi possível buscar profissionais.",variant:"destructive"})}finally{A(!1)}},O=async()=>{if(!p||!g){e({title:"Erro",description:"Selecione um profissional e uma especialidade.",variant:"destructive"});return}try{c(!0);const{data:P}=await ce.from("athlete_professional_relationships").select("id").eq("athlete_id",t==null?void 0:t.id).eq("professional_id",p.user_id).maybeSingle();if(P){e({title:"Relacionamento já existe",description:"Você já possui um relacionamento com este profissional.",variant:"destructive"});return}const{error:R}=await ce.from("athlete_professional_relationships").insert([{athlete_id:t==null?void 0:t.id,professional_id:p.user_id,specialty:g,status:"pending"}]);if(R)throw R;e({title:"Convite enviado!",description:"Notificação enviada ao profissional para aceitar o convite."}),d(""),f([]),v(null),x(""),b(""),S(!1),N()}catch(P){console.error("Error sending invitation:",P),e({title:"Erro",description:"Não foi possível enviar o convite.",variant:"destructive"})}finally{c(!1)}},I=async P=>{try{const{error:R}=await ce.from("athlete_professional_relationships").delete().eq("id",P);if(R)throw R;e({title:"Relacionamento removido",description:"O profissional foi removido da sua equipe."}),N()}catch(R){console.error("Error removing relationship:",R),e({title:"Erro",description:"Não foi possível remover o relacionamento.",variant:"destructive"})}},F=async P=>{try{const{error:R}=await ce.from("professional_invitations").delete().eq("id",P);if(R)throw R;e({title:"Convite cancelado",description:"O convite foi cancelado com sucesso."}),T()}catch(R){console.error("Error canceling invitation:",R),e({title:"Erro",description:"Não foi possível cancelar o convite.",variant:"destructive"})}},$=P=>{switch(P){case"accepted":return"bg-green-500/10 text-green-700 border-green-200";case"pending":return"bg-yellow-500/10 text-yellow-700 border-yellow-200";case"rejected":return"bg-red-500/10 text-red-700 border-red-200";default:return"bg-gray-500/10 text-gray-700 border-gray-200"}},B=P=>{switch(P){case"accepted":return"Aceito";case"pending":return"Pendente";case"rejected":return"Rejeitado";default:return P}},L=P=>{var R;return((R=E.find(U=>U.value===P))==null?void 0:R.label)||P};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx("header",{className:"bg-background/80 backdrop-blur-md border-b border-border sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(te,{variant:"ghost",size:"icon",onClick:()=>r("/athlete-dashboard"),children:l.jsx(yE,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-hero rounded-lg flex items-center justify-center",children:l.jsx(Ww,{className:"w-6 h-6 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:"Configurações"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie sua equipe de profissionais"})]})]})]})})})}),l.jsx("div",{className:"container mx-auto px-6 py-8",children:l.jsxs(ao,{defaultValue:"professionals",className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-2 mb-8",children:[l.jsxs(st,{value:"professionals",className:"gap-2",children:[l.jsx(sn,{className:"w-4 h-4"}),"Minha Equipe"]}),l.jsxs(st,{value:"invitations",className:"gap-2",children:[l.jsx(UT,{className:"w-4 h-4"}),"Convites Enviados"]})]}),l.jsxs(at,{value:"professionals",className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Minha Equipe de Profissionais"}),l.jsx("p",{className:"text-muted-foreground",children:"Profissionais responsáveis pelas diferentes áreas da sua saúde"})]}),l.jsxs(cn,{open:w,onOpenChange:S,children:[l.jsx(mp,{asChild:!0,children:l.jsxs(te,{className:"gap-2",children:[l.jsx(ZS,{className:"w-4 h-4"}),"Convidar Profissional"]})}),l.jsxs(qr,{className:"max-w-md",children:[l.jsxs(Gr,{children:[l.jsx(Kr,{children:"Convidar Profissional"}),l.jsx(ll,{children:"Busque e convide um profissional cadastrado na plataforma"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"search",children:"Buscar Profissional"}),l.jsxs("div",{className:"relative",children:[l.jsx(jD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(se,{id:"search",placeholder:"Digite o nome do profissional...",value:u,onChange:P=>{d(P.target.value),D(P.target.value)},className:"pl-10"})]}),u&&!p&&l.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-md bg-background",children:_?l.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"Buscando..."}):h.length>0?h.map(P=>l.jsxs("button",{onClick:()=>{v(P),d(P.full_name),f([])},className:"w-full text-left p-3 hover:bg-muted border-b last:border-b-0",children:[l.jsx("div",{className:"font-medium",children:P.full_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Profissional"})]},P.user_id)):l.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"Nenhum profissional encontrado"})}),p&&l.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:p.full_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Profissional selecionado"})]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{v(null),d("")},children:"✕"})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Especialidade"}),l.jsxs(ft,{value:g,onValueChange:x,children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione a especialidade"})}),l.jsx(ut,{className:"bg-background border border-border z-50",children:E.map(P=>l.jsx(ne,{value:P.value,children:P.label},P.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"message",children:"Mensagem (opcional)"}),l.jsx(Se,{id:"message",placeholder:"Olá! Gostaria de convidá-lo para fazer parte da minha equipe...",value:y,onChange:P=>b(P.target.value),rows:3})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(te,{onClick:O,disabled:o||!p||!g,className:"flex-1",children:o?"Enviando...":"Enviar Convite"}),l.jsx(te,{variant:"outline",onClick:()=>{S(!1),d(""),f([]),v(null),x(""),b("")},children:"Cancelar"})]})]})]})]})]}),l.jsx("div",{className:"grid gap-4",children:n.length===0?l.jsxs(he,{className:"p-8 text-center",children:[l.jsx(sn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum profissional na equipe"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Convide profissionais para acompanhar seu desenvolvimento"}),l.jsxs(te,{onClick:()=>S(!0),className:"gap-2",children:[l.jsx(ZS,{className:"w-4 h-4"}),"Convidar Primeiro Profissional"]})]}):n.map(P=>{var R;return l.jsx(he,{children:l.jsx(Ie,{className:"p-6",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"font-semibold text-lg",children:((R=P.professional)==null?void 0:R.full_name)||"Profissional"}),l.jsx(it,{className:$(P.status),children:B(P.status)})]}),l.jsx("p",{className:"text-muted-foreground",children:L(P.specialty)}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Convidado em ",new Date(P.invited_at).toLocaleDateString(),P.accepted_at&&l.jsxs("span",{children:[" • Aceito em ",new Date(P.accepted_at).toLocaleDateString()]})]})]}),l.jsx(te,{variant:"outline",size:"icon",onClick:()=>I(P.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Gv,{className:"w-4 h-4"})})]})})},P.id)})})]}),l.jsxs(at,{value:"invitations",className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Convites Enviados"}),l.jsx("p",{className:"text-muted-foreground",children:"Acompanhe o status dos convites enviados por email"})]}),l.jsx("div",{className:"grid gap-4",children:s.length===0?l.jsxs(he,{className:"p-8 text-center",children:[l.jsx(UT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum convite enviado"}),l.jsx("p",{className:"text-muted-foreground",children:"Convites por email aparecerão aqui"})]}):s.map(P=>l.jsx(he,{children:l.jsx(Ie,{className:"p-6",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"font-semibold",children:P.email}),l.jsx(it,{className:$(P.status),children:B(P.status)})]}),l.jsx("p",{className:"text-muted-foreground",children:L(P.specialty)}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Enviado em ",new Date(P.created_at).toLocaleDateString()," • ","Expira em ",new Date(P.expires_at).toLocaleDateString()]}),P.message&&l.jsxs("p",{className:"text-sm bg-muted p-2 rounded",children:['"',P.message,'"']})]}),P.status==="pending"&&l.jsx(te,{variant:"outline",size:"icon",onClick:()=>F(P.id),className:"text-red-600 hover:text-red-700",children:l.jsx(iv,{className:"w-4 h-4"})})]})})},P.id))})]})]})})]})},VQ=()=>{const{user:t}=tr(),[e,r]=j.useState([]),[n,i]=j.useState([]),[s,a]=j.useState([]),[o,c]=j.useState(!0),u=async()=>{if(t!=null&&t.id)try{const{data:p,error:v}=await ce.from("athlete_professional_relationships").select(`
          id,
          athlete_id,
          specialty,
          status,
          accepted_at,
          athlete:profiles!athlete_professional_relationships_athlete_id_fkey(full_name, user_id)
        `).eq("professional_id",t.id).eq("status","accepted").eq("is_active",!0).order("accepted_at",{ascending:!1});if(v)throw v;r(p||[])}catch(p){console.error("Error fetching my athletes:",p)}},d=async()=>{if(t!=null&&t.id)try{const{data:p,error:v}=await ce.from("athlete_professional_relationships").select(`
          id,
          athlete_id,
          specialty,
          status,
          invited_at,
          athlete:profiles!athlete_professional_relationships_athlete_id_fkey(full_name, user_id)
        `).eq("professional_id",t.id).eq("status","pending").order("invited_at",{ascending:!1});if(v)throw v;i(p||[])}catch(p){console.error("Error fetching pending invitations:",p)}},h=async()=>{if(t!=null&&t.id)try{const{data:p,error:v}=await ce.from("sessions").select(`
          id,
          title,
          session_date,
          start_time,
          end_time,
          athlete_id,
          status,
          session_type,
          athlete:profiles!sessions_athlete_id_fkey(full_name)
        `).eq("professional_id",t.id).order("session_date",{ascending:!0});if(v)throw v;a(p||[])}catch(p){console.error("Error fetching sessions:",p)}},f=async()=>{t!=null&&t.id&&(c(!0),await Promise.all([u(),d(),h()]),c(!1))};return j.useEffect(()=>{if(t!=null&&t.id){f();const p=ce.channel("professional-relationships-changes").on("postgres_changes",{event:"*",schema:"public",table:"athlete_professional_relationships",filter:`professional_id=eq.${t.id}`},g=>{console.log("Real-time relationship update:",g),u(),d()}).subscribe(),v=ce.channel("professional-sessions-changes").on("postgres_changes",{event:"*",schema:"public",table:"sessions",filter:`professional_id=eq.${t.id}`},g=>{console.log("Real-time session update:",g),h()}).subscribe();return()=>{ce.removeChannel(p),ce.removeChannel(v)}}},[t==null?void 0:t.id]),{myAthletes:e,pendingInvitations:n,sessions:s,loading:o,refetchAthletes:u,refetchInvitations:d,refetchSessions:h,refetchAll:f}},U8e=({open:t,onOpenChange:e})=>{const{user:r,profile:n}=tr(),{toast:i}=Os(),[s,a]=j.useState(!1),[o,c]=j.useState("profile"),[u,d]=j.useState({full_name:(n==null?void 0:n.full_name)||"",email:(r==null?void 0:r.email)||"",phone:"",location:"",bio:"",specialty:"",experience_years:0,certifications:[]}),[h,f]=j.useState({email_notifications:!0,push_notifications:!0,marketing_emails:!1}),[p,v]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""});j.useEffect(()=>{n&&r&&d({full_name:n.full_name||"",email:r.email||"",phone:"",location:"",bio:"",specialty:"",experience_years:0,certifications:[]})},[n,r]);const g=async()=>{try{a(!0);const{error:b}=await ce.from("profiles").update({full_name:u.full_name,updated_at:new Date().toISOString()}).eq("user_id",r==null?void 0:r.id);if(b)throw b;i({title:"Perfil atualizado!",description:"Suas informações foram salvas com sucesso."})}catch(b){console.error("Error updating profile:",b),i({title:"Erro",description:"Não foi possível atualizar o perfil.",variant:"destructive"})}finally{a(!1)}},x=async()=>{if(p.newPassword!==p.confirmPassword){i({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}try{a(!0);const{error:b}=await ce.auth.updateUser({password:p.newPassword});if(b)throw b;i({title:"Senha alterada!",description:"Sua senha foi atualizada com sucesso."}),v({currentPassword:"",newPassword:"",confirmPassword:""})}catch(b){console.error("Error changing password:",b),i({title:"Erro",description:"Não foi possível alterar a senha.",variant:"destructive"})}finally{a(!1)}},y=[{value:"nutrition",label:"Nutricionista"},{value:"physiotherapy",label:"Fisioterapeuta"},{value:"medical",label:"Médico"},{value:"training",label:"Treinador"},{value:"psychology",label:"Psicólogo"}];return l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Gr,{children:l.jsxs(Kr,{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-5 h-5"}),"Configurações do Perfil"]})}),l.jsxs(ao,{value:o,onValueChange:c,className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-4",children:[l.jsx(st,{value:"profile",children:"Perfil"}),l.jsx(st,{value:"account",children:"Conta"}),l.jsx(st,{value:"notifications",children:"Notificações"}),l.jsx(st,{value:"privacy",children:"Privacidade"})]}),l.jsx(at,{value:"profile",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"w-5 h-5"}),"Informações Pessoais"]}),l.jsx(Ye,{children:"Atualize suas informações básicas do perfil"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx(ta,{className:"h-24 w-24",children:l.jsx(ra,{className:"text-2xl",children:u.full_name.split(" ").map(b=>b[0]).join("")})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(te,{variant:"outline",size:"sm",children:[l.jsx(e8,{className:"w-4 h-4 mr-2"}),"Alterar Foto"]}),l.jsxs(te,{variant:"ghost",size:"sm",className:"text-red-600",children:[l.jsx(Gv,{className:"w-4 h-4 mr-2"}),"Remover"]})]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"fullName",children:"Nome Completo"}),l.jsx(se,{id:"fullName",value:u.full_name,onChange:b=>d(w=>({...w,full_name:b.target.value})),placeholder:"Seu nome completo"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"email",children:"Email"}),l.jsx(se,{id:"email",type:"email",value:u.email,disabled:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"phone",children:"Telefone"}),l.jsx(se,{id:"phone",value:u.phone,onChange:b=>d(w=>({...w,phone:b.target.value})),placeholder:"(11) 99999-9999"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"location",children:"Localização"}),l.jsx(se,{id:"location",value:u.location,onChange:b=>d(w=>({...w,location:b.target.value})),placeholder:"Cidade, Estado"})]})]}),(n==null?void 0:n.user_type)==="professional"&&l.jsxs(l.Fragment,{children:[l.jsx(pr,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Informações Profissionais"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"specialty",children:"Especialidade"}),l.jsxs(ft,{value:u.specialty,onValueChange:b=>d(w=>({...w,specialty:b})),children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione sua especialidade"})}),l.jsx(ut,{children:y.map(b=>l.jsx(ne,{value:b.value,children:b.label},b.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"experience",children:"Anos de Experiência"}),l.jsx(se,{id:"experience",type:"number",value:u.experience_years,onChange:b=>d(w=>({...w,experience_years:parseInt(b.target.value)||0})),placeholder:"0",min:"0"})]})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(te,{onClick:g,disabled:s,children:[l.jsx(xs,{className:"w-4 h-4 mr-2"}),s?"Salvando...":"Salvar Alterações"]})})]})]})}),l.jsx(at,{value:"account",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(av,{className:"w-5 h-5"}),"Segurança da Conta"]}),l.jsx(Ye,{children:"Gerencie sua senha e configurações de segurança"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Email da conta"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r==null?void 0:r.email})]}),l.jsx(it,{variant:"outline",children:"Verificado"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Tipo de usuário"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.user_type)==="professional"?"Profissional":"Atleta"})]}),l.jsx(it,{variant:"secondary",children:"Ativo"})]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Alterar Senha"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-md",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"currentPassword",children:"Senha Atual"}),l.jsx(se,{id:"currentPassword",type:"password",value:p.currentPassword,onChange:b=>v(w=>({...w,currentPassword:b.target.value})),placeholder:"Digite sua senha atual"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"newPassword",children:"Nova Senha"}),l.jsx(se,{id:"newPassword",type:"password",value:p.newPassword,onChange:b=>v(w=>({...w,newPassword:b.target.value})),placeholder:"Digite a nova senha"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),l.jsx(se,{id:"confirmPassword",type:"password",value:p.confirmPassword,onChange:b=>v(w=>({...w,confirmPassword:b.target.value})),placeholder:"Confirme a nova senha"})]}),l.jsx(te,{onClick:x,disabled:s||!p.newPassword||!p.confirmPassword,className:"w-fit",children:s?"Alterando...":"Alterar Senha"})]})]})]})]})}),l.jsx(at,{value:"notifications",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(yd,{className:"w-5 h-5"}),"Preferências de Notificação"]}),l.jsx(Ye,{children:"Configure como você quer receber notificações"})]}),l.jsx(Ie,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Notificações por Email"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações importantes por email"})]}),l.jsx(Lr,{checked:h.email_notifications,onCheckedChange:b=>f(w=>({...w,email_notifications:b}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Notificações Push"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações em tempo real no navegador"})]}),l.jsx(Lr,{checked:h.push_notifications,onCheckedChange:b=>f(w=>({...w,push_notifications:b}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Emails de Marketing"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba novidades e promoções por email"})]}),l.jsx(Lr,{checked:h.marketing_emails,onCheckedChange:b=>f(w=>({...w,marketing_emails:b}))})]})]})})]})}),l.jsx(at,{value:"privacy",className:"space-y-6",children:l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(KS,{className:"w-5 h-5"}),"Configurações de Privacidade"]}),l.jsx(Ye,{children:"Controle quem pode ver suas informações"})]}),l.jsx(Ie,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 border rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Visibilidade do Perfil"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Controle quem pode encontrar e ver seu perfil"}),l.jsxs(ft,{defaultValue:"public",children:[l.jsx(ct,{className:"w-full",children:l.jsx(pt,{})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"public",children:"Público - Todos podem ver"}),l.jsx(ne,{value:"connections",children:"Apenas Conexões"}),l.jsx(ne,{value:"private",children:"Privado - Apenas eu"})]})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Informações de Contato"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Quem pode ver suas informações de contato"}),l.jsxs(ft,{defaultValue:"connections",children:[l.jsx(ct,{className:"w-full",children:l.jsx(pt,{})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"public",children:"Público"}),l.jsx(ne,{value:"connections",children:"Apenas Conexões"}),l.jsx(ne,{value:"private",children:"Privado"})]})]})]})]})})]})})]})]})})},H8e=({athleteId:t,athleteName:e})=>{const[r,n]=j.useState([]),[i,s]=j.useState(!0),[a,o]=j.useState({sleep:0,heartRate:0,calories:0,water:0,training:0,recovery:0,lastMedicalData:void 0}),[c,u]=j.useState([]),[d,h]=j.useState([]);j.useEffect(()=>{if(t){f();const y=ce.channel(`athlete-environment-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"athlete_data",filter:`athlete_id=eq.${t}`},b=>{console.log("Real-time athlete environment update:",b),f()}).subscribe();return()=>{ce.removeChannel(y)}}},[t]);const f=async()=>{try{s(!0);const{data:y,error:b}=await ce.from("athlete_data").select("*").eq("athlete_id",t).order("recorded_at",{ascending:!1});if(b){console.error("Error fetching athlete data:",b);return}n(y||[]),p(y||[])}catch(y){console.error("Error:",y)}finally{s(!1)}},p=y=>{const w=new Date().toDateString(),S=y.filter(O=>new Date(O.recorded_at).toDateString()===w),_=["medical_exam","medication","injury","treatment"],A=y.filter(O=>_.includes(O.data_type)).sort((O,I)=>new Date(I.recorded_at).getTime()-new Date(O.recorded_at).getTime()),E=A.length>0?{type:A[0].data_type,date:new Date(A[0].recorded_at).toLocaleDateString("pt-BR"),description:typeof A[0].data=="object"&&(A[0].data.description||A[0].data.name)||"Registro médico"}:void 0,N={sleep:v(S,"sleep")||v(y,"sleep")||0,heartRate:v(S,"heart_rate")||v(y,"heart_rate")||0,calories:v(S,"calories")||0,water:v(S,"water")||0,training:v(S,"training_duration")||0,recovery:v(S,"recovery_score")||v(y,"recovery_score")||0,lastMedicalData:E};o(N);const T=g(y);u(T);const D=x(y);h(D)},v=(y,b)=>{const w=y.filter(A=>A.data_type===b).sort((A,E)=>new Date(E.recorded_at).getTime()-new Date(A.recorded_at).getTime());if(w.length===0)return 0;const S=w[0];if(b==="sleep"&&typeof S.data=="object"&&S.data){const A=S.data.hours,E=typeof A=="string"?parseFloat(A):A;return typeof E=="number"&&!isNaN(E)?E:0}const _=typeof S.data=="object"&&S.data?S.data.value||0:S.data||0;return typeof _=="number"?_:0},g=y=>{const b=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],w=[];for(let S=6;S>=0;S--){const _=new Date;_.setDate(_.getDate()-S);const A=b[_.getDay()],E=_.toDateString(),N=y.filter(T=>new Date(T.recorded_at).toDateString()===E);w.push({day:A,calories:v(N,"calories"),water:v(N,"water"),training:v(N,"training_duration")})}return w},x=y=>{const b=[];for(let w=6;w>=0;w--){const S=new Date;S.setDate(S.getDate()-w);const _=S.toDateString(),A=`${String(S.getDate()).padStart(2,"0")}/${String(S.getMonth()+1).padStart(2,"0")}`,E=y.filter($=>new Date($.recorded_at).toDateString()===_),N=v(E,"sleep"),T=v(E,"training_duration")/60,D=v(E,"recovery_score");let O=0,I=0;N>0&&(O+=N/8*30,I++),T>0&&(O+=Math.min(T/2,1)*40,I++),D>0&&(O+=D/100*30,I++);const F=I>0?Math.round(O/I*100):0;b.push({date:A,score:F,sleep:N,training:T*10})}return b};return l.jsxs("div",{className:"bg-gradient-subtle p-6 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Dashboard de ",e]}),l.jsx("p",{className:"text-muted-foreground",children:"Visualização do ambiente do atleta"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.lastMedicalData&&l.jsx(he,{className:"md:col-span-2 p-4 bg-gradient-to-r from-medical-bg to-medical-bg/50 border-medical-border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-medical-accent/10 rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-5 h-5 text-medical-accent"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Último Dado Médico"}),l.jsx("p",{className:"text-lg font-bold text-medical-accent",children:a.lastMedicalData.type}),l.jsx("p",{className:"text-xs text-muted-foreground",children:a.lastMedicalData.date})]})]})}),l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:l.jsx(sv,{className:"w-5 h-5 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sono"}),l.jsxs("p",{className:"text-lg font-bold",children:[(a.sleep||0).toFixed(1),"h"]})]})]})}),l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:l.jsx(As,{className:"w-5 h-5 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"FC Repouso"}),l.jsxs("p",{className:"text-lg font-bold",children:[a.heartRate," bpm"]})]})]})}),l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:l.jsx(xd,{className:"w-5 h-5 text-orange-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Calorias"}),l.jsx("p",{className:"text-lg font-bold",children:a.calories})]})]})}),l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-5 h-5 text-cyan-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Água"}),l.jsxs("p",{className:"text-lg font-bold",children:[a.water.toFixed(1),"L"]})]})]})}),l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:l.jsx(Ja,{className:"w-5 h-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Treino"}),l.jsxs("p",{className:"text-lg font-bold",children:[a.training,"min"]})]})]})}),l.jsx(he,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:l.jsx(cv,{className:"w-5 h-5 text-purple-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Recuperação"}),l.jsxs("p",{className:"text-lg font-bold",children:[a.recovery,"%"]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(he,{className:"lg:col-span-2",children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-5 h-5 text-primary"}),"Performance Semanal"]}),l.jsx(Ye,{children:"Evolução do score de performance nos últimos 7 dias"})]}),l.jsx(Ie,{children:i?l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):d.length>0?l.jsx(Zo,{width:"100%",height:250,children:l.jsxs(tN,{data:d,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"date"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(lo,{type:"monotone",dataKey:"score",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.2,strokeWidth:3})]})}):l.jsx("div",{className:"h-[250px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_i,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de performance encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados serão exibidos quando o atleta registrar informações"})]})})})]}),l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(lv,{className:"w-5 h-5 text-secondary"}),"Metas de Hoje"]}),l.jsx(Ye,{children:"Progresso diário do atleta"})]}),l.jsxs(Ie,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Hidratação"}),l.jsxs("span",{children:[a.water.toFixed(1),"/3.5L"]})]}),l.jsx(Xo,{value:Math.min(a.water/3.5*100,100),className:"h-2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tempo de Treino"}),l.jsxs("span",{children:[a.training,"/150min"]})]}),l.jsx(Xo,{value:Math.min(a.training/150*100,100),className:"h-2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Calorias"}),l.jsxs("span",{children:[a.calories,"/2400"]})]}),l.jsx(Xo,{value:Math.min(a.calories/2400*100,100),className:"h-2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Qualidade do Sono"}),l.jsxs("span",{children:[(a.sleep||0).toFixed(1),"/8h"]})]}),l.jsx(Xo,{value:Math.min(a.sleep/8*100,100),className:"h-2"})]})]})]})]}),l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(al,{className:"w-5 h-5 text-accent"}),"Visão Semanal"]}),l.jsx(Ye,{children:"Comparativo das métricas ao longo da semana"})]}),l.jsx(Ie,{children:l.jsxs(ao,{defaultValue:"training",className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-3",children:[l.jsx(st,{value:"training",children:"Treinos"}),l.jsx(st,{value:"nutrition",children:"Nutrição"}),l.jsx(st,{value:"hydration",children:"Hidratação"})]}),l.jsx(at,{value:"training",className:"mt-6",children:i?l.jsx("div",{className:"h-[200px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):c.some(y=>y.training>0)?l.jsx(Zo,{width:"100%",height:200,children:l.jsxs(km,{data:c,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"day"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(sa,{dataKey:"training",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"h-[200px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ja,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de treino encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados aparecerão quando o atleta registrar treinos"})]})})}),l.jsx(at,{value:"nutrition",className:"mt-6",children:i?l.jsx("div",{className:"h-[200px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):c.some(y=>y.calories>0)?l.jsx(Zo,{width:"100%",height:200,children:l.jsxs(km,{data:c,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"day"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(sa,{dataKey:"calories",fill:"hsl(var(--accent))",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"h-[200px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(xd,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado nutricional encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados aparecerão quando o atleta registrar nutrição"})]})})}),l.jsx(at,{value:"hydration",className:"mt-6",children:i?l.jsx("div",{className:"h-[200px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):c.some(y=>y.water>0)?l.jsx(Zo,{width:"100%",height:200,children:l.jsxs(km,{data:c,children:[l.jsx(Qs,{strokeDasharray:"3 3",className:"opacity-30"}),l.jsx(ni,{dataKey:"day"}),l.jsx(ii,{}),l.jsx(zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(sa,{dataKey:"water",fill:"hsl(var(--secondary))",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"h-[200px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Gt,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhum dado de hidratação encontrado"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados aparecerão quando o atleta registrar hidratação"})]})})})]})})]})]})},W8e=()=>{const{user:t,profile:e}=tr(),{myAthletes:r,loading:n}=VQ(),{toast:i}=Os(),[s,a]=j.useState([]),[o,c]=j.useState(""),[u,d]=j.useState(!1),[h,f]=j.useState(!1),p=j.useRef(null);j.useEffect(()=>{if(!h&&!n){const x={id:"welcome",content:`Olá, Dr. ${(e==null?void 0:e.full_name)||"Profissional"}! Sou seu assistente de IA especializado em análise de dados esportivos. Tenho acesso aos dados de ${r.length} atleta${r.length!==1?"s":""} vinculado${r.length!==1?"s":""} ao seu perfil e posso ajudá-lo com análises, relatórios e insights sobre performance esportiva. Como posso ajudá-lo hoje?`,role:"assistant",timestamp:new Date};a([x]),f(!0)}},[e,r,n,h]),j.useEffect(()=>{const x=setTimeout(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},100);return()=>clearTimeout(x)},[s]);const v=async()=>{if(!o.trim()||u)return;const x={id:Date.now().toString(),content:o,role:"user",timestamp:new Date};a(y=>[...y,x]),c(""),d(!0);try{const{data:y,error:b}=await ce.functions.invoke("ai-chat-professional",{body:{message:o,professionalId:t==null?void 0:t.id,conversationHistory:s.slice(-10)}});if(b)throw b;const w={id:(Date.now()+1).toString(),content:y.response,role:"assistant",timestamp:new Date};a(S=>[...S,w])}catch(y){console.error("Error sending message:",y),i({title:"Erro na IA",description:"Não foi possível processar sua mensagem. Tente novamente.",variant:"destructive"});const b={id:(Date.now()+1).toString(),content:"Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.",role:"assistant",timestamp:new Date};a(w=>[...w,b])}finally{d(!1)}},g=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return n?l.jsx(he,{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(Uo,{className:"w-8 h-8 animate-spin text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Carregando dados dos atletas..."})]})}):l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(he,{className:"mb-4",children:l.jsx(Be,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-performance rounded-lg flex items-center justify-center",children:l.jsx(wD,{className:"w-6 h-6 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:["Assistente IA",l.jsx(it,{variant:"secondary",className:"text-xs",children:"Gemini Pro"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Análise inteligente de dados esportivos"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})})}),l.jsx(he,{className:"flex-1 flex flex-col min-h-[500px]",children:l.jsxs(Ie,{className:"flex-1 flex flex-col p-0",children:[l.jsxs("div",{ref:p,className:"flex-1 p-6 space-y-4 overflow-y-auto max-h-[400px]",children:[s.map(x=>l.jsxs("div",{className:`flex gap-3 ${x.role==="user"?"justify-end":"justify-start"}`,children:[x.role==="assistant"&&l.jsx(ta,{className:"w-8 h-8",children:l.jsx(ra,{className:"bg-primary text-primary-foreground",children:l.jsx(FL,{className:"w-4 h-4"})})}),l.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${x.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-foreground"}`,children:[l.jsx("p",{className:"whitespace-pre-wrap break-words",children:x.content}),l.jsx("p",{className:"text-xs mt-2 opacity-70",children:x.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),x.role==="user"&&l.jsx(ta,{className:"w-8 h-8",children:l.jsx(ra,{className:"bg-secondary text-secondary-foreground",children:l.jsx(Xs,{className:"w-4 h-4"})})})]},x.id)),u&&l.jsxs("div",{className:"flex gap-3 justify-start",children:[l.jsx(ta,{className:"w-8 h-8",children:l.jsx(ra,{className:"bg-primary text-primary-foreground",children:l.jsx(FL,{className:"w-4 h-4"})})}),l.jsx("div",{className:"bg-muted text-foreground rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Uo,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Analisando dados..."})]})})]})]}),l.jsxs("div",{className:"border-t p-4 bg-background",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{value:o,onChange:x=>c(x.target.value),onKeyPress:g,placeholder:"Digite sua pergunta sobre os dados dos atletas...",disabled:u,className:"flex-1"}),l.jsx(te,{onClick:v,disabled:!o.trim()||u,size:"icon",children:u?l.jsx(Uo,{className:"w-4 h-4 animate-spin"}):l.jsx(s8,{className:"w-4 h-4"})})]}),r.length===0&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[l.jsx(SD,{className:"w-3 h-3"}),"Nenhum atleta vinculado. Adicione atletas para análises mais detalhadas."]})]})]})}),l.jsx(he,{className:"mt-4",children:l.jsxs(Ie,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-medium mb-3 text-muted-foreground",children:"Atalhos da IA"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(te,{variant:"outline",size:"sm",onClick:()=>c("Gere um relatório semanal de performance dos meus atletas"),className:"justify-start text-xs h-8",children:"📊 Relatório Semanal"}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>c("Analise os padrões de sono dos atletas na última semana"),className:"justify-start text-xs h-8",children:"😴 Análise do Sono"}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>c("Identifique atletas que podem estar em overtraining"),className:"justify-start text-xs h-8",children:"⚠️ Risco Overtraining"}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>c("Compare a performance entre diferentes atletas"),className:"justify-start text-xs h-8",children:"📈 Comparar Performance"}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>c("Sugira ajustes nos treinos baseado nos dados recentes"),className:"justify-start text-xs h-8",children:"🎯 Otimizar Treinos"}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>c("Analise a recuperação dos atletas após competições"),className:"justify-start text-xs h-8",children:"🔄 Análise Recuperação"})]})]})})]})},V8e=({isOpen:t,onClose:e,athleteId:r,athleteName:n})=>l.jsx(cn,{open:t,onOpenChange:e,children:l.jsxs(qr,{className:"max-w-7xl max-h-[90vh] overflow-y-auto p-0",children:[l.jsx(Gr,{className:"p-6 pb-0",children:l.jsxs(Kr,{children:["Ambiente do Atleta - ",n]})}),l.jsx(H8e,{athleteId:r,athleteName:n})]})}),q8e=()=>{var kr,Yr,K;const{user:t,profile:e,signOut:r}=tr(),{myAthletes:n,pendingInvitations:i,refetchAthletes:s,refetchInvitations:a}=VQ(),{unreadCount:o}=KE(),{toast:c}=Os(),[u,d]=j.useState(""),[h,f]=j.useState(!1),[p,v]=j.useState("athletes"),[g,x]=j.useState(null),[y,b]=j.useState(!1),[w,S]=j.useState(!1),[_,A]=j.useState(""),[E,N]=j.useState([]),[T,D]=j.useState(!1),[O,I]=j.useState(null),[F,$]=j.useState(""),[B,L]=j.useState(""),[P,R]=j.useState(!1),[U,Y]=j.useState(!1),[J,X]=j.useState(null);j.useEffect(()=>{const q=setTimeout(()=>{Q(_)},300);return()=>clearTimeout(q)},[_]);const ee=async(q,Z)=>{try{f(!0);const{error:le}=await ce.from("athlete_professional_relationships").update({status:Z==="accept"?"accepted":"rejected",accepted_at:Z==="accept"?new Date().toISOString():null}).eq("id",q);if(le)throw le;c({title:Z==="accept"?"Convite aceito!":"Convite rejeitado",description:Z==="accept"?"Você agora faz parte da equipe do atleta.":"O convite foi rejeitado."}),a(),s()}catch(le){console.error("Error responding to invitation:",le),c({title:"Erro",description:"Não foi possível processar a resposta.",variant:"destructive"})}finally{f(!1)}},ue=async(q,Z)=>{try{f(!0);const{data:le,error:ge}=await ce.from("athlete_professional_relationships").select("athlete_id, specialty").eq("id",q).single();if(ge)throw ge;const{error:fe}=await ce.from("athlete_professional_relationships").update({is_active:!1}).eq("id",q);if(fe)throw fe;const{error:_e}=await ce.from("notifications").insert({user_id:le.athlete_id,title:"Vínculo Profissional Inativado",message:`Seu vínculo com o profissional ${(e==null?void 0:e.full_name)||"profissional"} (${je(le.specialty)}) foi inativado.`,type:"warning"});_e&&console.error("Error creating notification:",_e),c({title:"Atleta marcado como inativo",description:`${Z} foi marcado como inativo na sua equipe.`}),s()}catch(le){console.error("Error deactivating athlete relationship:",le),c({title:"Erro",description:"Não foi possível marcar o atleta como inativo.",variant:"destructive"})}finally{f(!1)}},we=q=>{x(q),b(!0)},je=q=>({nutrition:"Nutricionista",physiotherapy:"Fisioterapeuta",medical:"Médico",training:"Treinador",psychology:"Psicólogo"})[q]||q,V=q=>{v("communication")},H=async()=>{await r(),window.location.href="/"},Q=async q=>{if(!q.trim()||q.length<2){N([]);return}try{D(!0);const{data:Z,error:le}=await ce.from("profiles").select("user_id, full_name").eq("user_type","athlete").ilike("full_name",`%${q}%`).limit(10);if(le)throw le;const ge=n.map(_e=>_e.athlete_id),fe=(Z||[]).filter(_e=>!ge.includes(_e.user_id));N(fe)}catch(Z){console.error("Error searching athletes:",Z),c({title:"Erro na busca",description:"Não foi possível buscar atletas.",variant:"destructive"})}finally{D(!1)}},ie=async()=>{if(!O||!F){c({title:"Erro",description:"Selecione um atleta e uma especialidade.",variant:"destructive"});return}try{f(!0);const{data:q}=await ce.from("athlete_professional_relationships").select("id").eq("athlete_id",O.user_id).eq("professional_id",t==null?void 0:t.id).maybeSingle();if(q){c({title:"Relacionamento já existe",description:"Você já possui um relacionamento com este atleta.",variant:"destructive"});return}const{error:Z}=await ce.from("athlete_professional_relationships").insert([{athlete_id:O.user_id,professional_id:t==null?void 0:t.id,specialty:F,status:"pending"}]);if(Z)throw Z;c({title:"Convite enviado!",description:"Notificação enviada ao atleta para aceitar o convite."}),A(""),N([]),I(null),$(""),L(""),S(!1),s()}catch(q){console.error("Error sending invitation:",q),c({title:"Erro",description:"Não foi possível enviar o convite.",variant:"destructive"})}finally{f(!1)}},ae=(q,Z)=>{X({id:q,name:Z}),Y(!0)},W=[{value:"nutrition",label:"Nutricionista"},{value:"physiotherapy",label:"Fisioterapeuta"},{value:"medical",label:"Médico"},{value:"training",label:"Treinador"},{value:"psychology",label:"Psicólogo"}],me=n.filter(q=>{var Z,le;return((le=(Z=q.athlete)==null?void 0:Z.full_name)==null?void 0:le.toLowerCase().includes(u.toLowerCase()))||je(q.specialty).toLowerCase().includes(u.toLowerCase())}),Ae=n.length,Oe=n.length;return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx("header",{className:"bg-background/80 backdrop-blur-md border-b border-border sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-performance rounded-lg flex items-center justify-center",children:l.jsx(sn,{className:"w-6 h-6 text-secondary-foreground"})}),l.jsxs("div",{children:[(e==null?void 0:e.full_name)&&l.jsxs("h1",{className:"text-xl font-bold",children:["Olá, Dr. ",e.full_name,"!"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Dashboard Profissional"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[i.length>0&&l.jsxs(it,{variant:"destructive",className:"gap-1",children:[l.jsx(yd,{className:"w-3 h-3"}),i.length," convite",i.length>1?"s":""]}),o>0,l.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Tempo Real"]}),l.jsx(it,{variant:"outline",className:"text-secondary border-secondary",children:"Plano Pro"}),l.jsx(te,{variant:"ghost",size:"icon",onClick:()=>R(!0),children:l.jsx(Ww,{className:"w-5 h-5"})}),l.jsx(te,{variant:"ghost",size:"icon",onClick:H,children:l.jsx(YS,{className:"w-5 h-5"})})]})]})})}),l.jsxs("div",{className:"container mx-auto px-6 py-8 min-h-[calc(100vh-140px)] flex flex-col",children:[i.length>0&&l.jsxs(he,{className:"mb-8 border-orange-200 bg-orange-50/50",children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2 text-orange-700",children:[l.jsx(yd,{className:"w-5 h-5"}),"Convites Pendentes (",i.length,")"]}),l.jsx(Ye,{className:"text-orange-600",children:"Você tem convites de atletas aguardando sua resposta"})]}),l.jsx(Ie,{children:l.jsx("div",{className:"space-y-3",children:i.map(q=>{var Z;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-background border border-orange-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:((Z=q.athlete)==null?void 0:Z.full_name)||"Atleta"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Convite para: ",je(q.specialty)]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enviado em ",new Date(q.invited_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(te,{size:"sm",onClick:()=>ee(q.id,"accept"),disabled:h,className:"bg-green-600 hover:bg-green-700",children:[l.jsx(rv,{className:"w-4 h-4 mr-1"}),"Aceitar"]}),l.jsxs(te,{size:"sm",variant:"outline",onClick:()=>ee(q.id,"reject"),disabled:h,className:"border-red-200 text-red-600 hover:bg-red-50",children:[l.jsx(lp,{className:"w-4 h-4 mr-1"}),"Rejeitar"]})]})]},q.id)})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx(he,{className:"p-6 hover:shadow-performance transition-shadow",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center",children:l.jsx(sn,{className:"w-6 h-6 text-secondary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Atletas"}),l.jsx("p",{className:"text-2xl font-bold",children:Ae}),l.jsx("p",{className:"text-xs text-secondary",children:"+3 este mês"})]})]})}),l.jsx(he,{className:"p-6 hover:shadow-performance transition-shadow",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:l.jsx(Gt,{className:"w-6 h-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Atletas Ativos"}),l.jsx("p",{className:"text-2xl font-bold",children:Oe}),l.jsx("p",{className:"text-xs text-green-500",children:"75% de engajamento"})]})]})}),l.jsx(he,{className:"p-6 hover:shadow-performance transition-shadow",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-500/10 rounded-lg flex items-center justify-center",children:l.jsx(SD,{className:"w-6 h-6 text-orange-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas"}),l.jsx("p",{className:"text-2xl font-bold",children:0}),l.jsx("p",{className:"text-xs text-orange-500",children:"Requer atenção"})]})]})}),l.jsx(he,{className:"p-6 hover:shadow-performance transition-shadow",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx(_i,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Performance Média"}),l.jsxs("p",{className:"text-2xl font-bold",children:[85,"%"]}),l.jsx("p",{className:"text-xs text-primary",children:"+5% vs mês anterior"})]})]})})]}),l.jsx("div",{className:"flex-1",children:l.jsxs(ao,{value:p,onValueChange:v,className:"w-full",children:[l.jsxs(da,{className:"grid w-full grid-cols-5 mb-8",children:[l.jsxs(st,{value:"athletes",className:"gap-2",children:[l.jsx(sn,{className:"w-4 h-4"}),"Meus Atletas"]}),l.jsxs(st,{value:"sessions",className:"gap-2",children:[l.jsx(al,{className:"w-4 h-4"}),"Agenda"]}),l.jsxs(st,{value:"communication",className:"gap-2",children:[l.jsx(F1,{className:"w-4 h-4"}),"Comunicação"]}),l.jsxs(st,{value:"ai-chat",className:"gap-2",children:[l.jsx(wD,{className:"w-4 h-4"}),"IA"]}),l.jsxs(st,{value:"analytics",className:"gap-2",children:[l.jsx(_i,{className:"w-4 h-4"}),"Análises"]})]}),l.jsx(at,{value:"athletes",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs(he,{className:"lg:col-span-2",children:[l.jsxs(Be,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(sn,{className:"w-5 h-5 text-primary"}),"Meus Atletas"]}),l.jsx(Ye,{children:"Gerencie e acompanhe seus atletas"})]}),l.jsxs(te,{variant:"performance",size:"sm",onClick:()=>S(!0),children:[l.jsx(Dc,{className:"w-4 h-4 mr-2"}),"Adicionar Atleta"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(jD,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(se,{placeholder:"Buscar atletas...",value:u,onChange:q=>d(q.target.value),className:"pl-10"})]})]}),l.jsx(Ie,{children:l.jsx("div",{className:"space-y-4",children:me.length>0?me.map(q=>{var le;const Z=q.athlete;return l.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ae(Z==null?void 0:Z.user_id,(Z==null?void 0:Z.full_name)||"Atleta"),children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ta,{children:l.jsx(ra,{children:((le=Z==null?void 0:Z.full_name)==null?void 0:le.split(" ").map(ge=>ge[0]).join(""))||"A"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold",children:(Z==null?void 0:Z.full_name)||"Atleta"}),l.jsx(it,{variant:"default",className:"text-xs",children:je(q.specialty)})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsx("span",{children:"Status: Ativo"}),l.jsxs("span",{children:["Vinculado em ",new Date(q.accepted_at).toLocaleDateString()]})]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs(fq,{children:[l.jsx(pq,{asChild:!0,children:l.jsx(te,{variant:"ghost",size:"sm",children:l.jsx(Pre,{className:"w-4 h-4"})})}),l.jsxs(lR,{align:"end",children:[l.jsxs(Df,{onClick:()=>we(q),children:[l.jsx(KS,{className:"w-4 h-4 mr-2"}),"Ver Detalhes"]}),l.jsxs(Df,{onClick:()=>V(Z==null?void 0:Z.user_id),children:[l.jsx(F1,{className:"w-4 h-4 mr-2"}),"Conversar"]}),l.jsx(pr,{}),l.jsxs(Df,{onClick:()=>ue(q.id,(Z==null?void 0:Z.full_name)||"Atleta"),className:"text-red-600",children:[l.jsx(cb,{className:"w-4 h-4 mr-2"}),"Inativar Atleta"]})]})]})})]},q.id)}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(sn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nenhum atleta vinculado ainda"}),l.jsx("p",{className:"text-sm",children:"Aguarde convites de atletas ou promova seus serviços"})]})})})]}),l.jsxs(he,{children:[l.jsxs(Be,{children:[l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(lv,{className:"w-5 h-5 text-accent"}),"Resumo dos Atletas"]}),l.jsx(Ye,{children:"Lista dos atletas vinculados"})]}),l.jsx(Ie,{children:n.length>0?l.jsx("div",{className:"space-y-4",children:n.slice(0,5).map(q=>{var le;const Z=q.athlete;return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ta,{className:"h-8 w-8",children:l.jsx(ra,{children:((le=Z==null?void 0:Z.full_name)==null?void 0:le.charAt(0))||"A"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:(Z==null?void 0:Z.full_name)||"Atleta"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:je(q.specialty)})]})]}),l.jsx(it,{variant:"outline",className:"text-xs",children:"Ativo"})]},q.id)})}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(lv,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"Nenhum atleta para análise"})]})})]})]})}),l.jsx(at,{value:"sessions",children:l.jsx(WQ,{userType:"professional"})}),l.jsx(at,{value:"communication",children:l.jsx(MQ,{})}),l.jsx(at,{value:"ai-chat",className:"h-[600px]",children:l.jsx(W8e,{})}),l.jsx(at,{value:"analytics",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx(_i,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-muted-foreground",children:"Análises avançadas em desenvolvimento"})]})})]})}),l.jsx(cn,{open:y,onOpenChange:b,children:l.jsxs(qr,{className:"max-w-2xl",children:[l.jsx(Gr,{children:l.jsx(Kr,{children:"Detalhes do Atleta"})}),g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ta,{className:"h-16 w-16",children:l.jsx(ra,{className:"text-lg",children:((Yr=(kr=g.athlete)==null?void 0:kr.full_name)==null?void 0:Yr.split(" ").map(q=>q[0]).join(""))||"A"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:((K=g.athlete)==null?void 0:K.full_name)||"Atleta"}),l.jsx(it,{variant:"default",className:"mt-1",children:je(g.specialty)})]})]}),l.jsx(pr,{}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(he,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(al,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:"Vinculado em"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(g.accepted_at).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs(he,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:"Status"})]}),l.jsx(it,{variant:"default",className:"text-xs",children:"Ativo"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(te,{onClick:()=>{var q;b(!1),V((q=g.athlete)==null?void 0:q.user_id)},className:"flex-1",children:[l.jsx(F1,{className:"w-4 h-4 mr-2"}),"Iniciar Conversa"]}),l.jsxs(te,{variant:"outline",onClick:()=>{var q;b(!1),ue(g.id,((q=g.athlete)==null?void 0:q.full_name)||"Atleta")},className:"text-red-600 border-red-200 hover:bg-red-50",children:[l.jsx(cb,{className:"w-4 h-4 mr-2"}),"Inativar Atleta"]})]})]})]})}),l.jsx(cn,{open:w,onOpenChange:S,children:l.jsxs(qr,{className:"sm:max-w-md",children:[l.jsx(Gr,{children:l.jsx(Kr,{children:"Convidar Atleta"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Buscar Atleta"}),l.jsx(se,{placeholder:"Digite o nome do atleta...",value:_,onChange:q=>A(q.target.value)}),_&&!O&&l.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-md bg-background",children:T?l.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"Buscando..."}):E.length>0?E.map(q=>l.jsxs("button",{onClick:()=>{I(q),A(q.full_name),N([])},className:"w-full text-left p-3 hover:bg-muted border-b last:border-b-0",children:[l.jsx("div",{className:"font-medium",children:q.full_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Atleta"})]},q.user_id)):l.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"Nenhum atleta encontrado"})}),O&&l.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:O.full_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Atleta selecionado"})]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{I(null),A("")},children:"✕"})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{children:"Especialidade"}),l.jsxs(ft,{value:F,onValueChange:$,children:[l.jsx(ct,{children:l.jsx(pt,{placeholder:"Selecione a especialidade"})}),l.jsx(ut,{className:"bg-background border border-border z-50",children:W.map(q=>l.jsx(ne,{value:q.value,children:q.label},q.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(G,{htmlFor:"message",children:"Mensagem (opcional)"}),l.jsx(Se,{id:"message",placeholder:"Olá! Gostaria de convidá-lo para fazer parte da sua equipe...",value:B,onChange:q=>L(q.target.value),rows:3})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(te,{onClick:ie,disabled:h||!O||!F,className:"flex-1",children:h?"Enviando...":"Enviar Convite"}),l.jsx(te,{variant:"outline",onClick:()=>{S(!1),A(""),N([]),I(null),$(""),L("")},children:"Cancelar"})]})]})]})}),l.jsx(U8e,{open:P,onOpenChange:R}),J&&l.jsx(V8e,{isOpen:U,onClose:()=>{Y(!1),X(null)},athleteId:J.id,athleteName:J.name})]})]})},G8e=()=>{tr();const[t,e]=j.useState([]),[r,n]=j.useState(!0),i=async()=>{try{n(!0);const{data:o,error:c}=await ce.from("login_logs").select("*").order("timestamp",{ascending:!1}).limit(100);if(c){console.error("Error fetching login logs:",c);return}e(o||[])}catch(o){console.error("Error fetching login logs:",o)}finally{n(!1)}};j.useEffect(()=>{i()},[]);const s=o=>{switch(o){case"success":return"bg-green-500";case"error":return"bg-red-500";case"timeout":return"bg-orange-500";case"started":return"bg-blue-500";default:return"bg-gray-500"}},a=o=>new Date(o).toLocaleString("pt-BR");return r?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Carregando logs..."})]})}):l.jsx("div",{className:"min-h-screen bg-background p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(hr,{to:"/athlete-dashboard",children:l.jsxs(te,{variant:"outline",size:"sm",children:[l.jsx(yE,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),l.jsx("h1",{className:"text-2xl font-bold",children:"Logs de Login"})]}),l.jsxs(te,{onClick:i,size:"sm",children:[l.jsx(ob,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),l.jsx("div",{className:"space-y-4",children:t.map(o=>l.jsxs(he,{className:"w-full",children:[l.jsx(Be,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Le,{className:"text-lg font-medium",children:o.step}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(it,{className:`text-white ${s(o.status)}`,children:o.status}),l.jsx("span",{className:"text-sm text-muted-foreground",children:a(o.timestamp)})]})]})}),l.jsx(Ie,{children:l.jsxs("div",{className:"space-y-2",children:[o.message&&l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Mensagem:"})," ",o.message]}),o.session_id&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("strong",{children:"Session ID:"})," ",o.session_id]}),o.user_id&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("strong",{children:"User ID:"})," ",o.user_id]}),o.platform&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("strong",{children:"Plataforma:"})," ",o.platform]}),o.data&&Object.keys(o.data).length>0&&l.jsxs("details",{className:"text-xs",children:[l.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:l.jsx("strong",{children:"Dados (clique para expandir)"})}),l.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-auto",children:JSON.stringify(o.data,null,2)})]}),o.error_details&&l.jsxs("details",{className:"text-xs",children:[l.jsx("summary",{className:"cursor-pointer text-red-600",children:l.jsx("strong",{children:"Detalhes do Erro (clique para expandir)"})}),l.jsx("pre",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs overflow-auto text-red-800",children:o.error_details})]})]})})]},o.id))}),t.length===0&&l.jsx(he,{children:l.jsx(Ie,{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"Nenhum log encontrado."})})})]})})},K8e=()=>{const{user:t}=tr(),[e,r]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState("all"),[o,c]=j.useState("all"),u=async()=>{if(t){i(!0);try{let p=ce.from("debug_logs").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(100);s!=="all"&&(p=p.eq("level",s)),o!=="all"&&(p=p.eq("component",o));const{data:v,error:g}=await p;if(g){console.error("Error fetching debug logs:",g);return}r(v||[])}catch(p){console.error("Failed to fetch debug logs:",p)}finally{i(!1)}}};j.useEffect(()=>{u()},[t,s,o]);const d=p=>{switch(p){case"error":return"bg-red-100 text-red-800 border-red-200";case"warn":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";case"debug":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=()=>{const p=JSON.stringify(e,null,2),v="data:application/json;charset=utf-8,"+encodeURIComponent(p),g=`debug-logs-${new Date().toISOString().split("T")[0]}.json`,x=document.createElement("a");x.setAttribute("href",v),x.setAttribute("download",g),x.click()},f=[...new Set(e.map(p=>p.component))];return t?l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Debug Logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(te,{onClick:u,variant:"outline",size:"sm",children:[l.jsx(ob,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),l.jsxs(te,{onClick:h,variant:"outline",size:"sm",children:[l.jsx(r8,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),l.jsxs(he,{children:[l.jsx(Be,{children:l.jsxs(Le,{className:"flex items-center gap-2",children:[l.jsx(i8,{className:"h-5 w-5"}),"Filtros"]})}),l.jsx(Ie,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nível"}),l.jsxs(ft,{value:s,onValueChange:a,children:[l.jsx(ct,{className:"w-[140px]",children:l.jsx(pt,{})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"all",children:"Todos"}),l.jsx(ne,{value:"error",children:"Error"}),l.jsx(ne,{value:"warn",children:"Warning"}),l.jsx(ne,{value:"info",children:"Info"}),l.jsx(ne,{value:"debug",children:"Debug"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Componente"}),l.jsxs(ft,{value:o,onValueChange:c,children:[l.jsx(ct,{className:"w-[200px]",children:l.jsx(pt,{})}),l.jsxs(ut,{children:[l.jsx(ne,{value:"all",children:"Todos"}),f.map(p=>l.jsx(ne,{value:p,children:p},p))]})]})]})]})})]}),l.jsxs(he,{children:[l.jsx(Be,{children:l.jsxs(Le,{children:["Logs (",e.length,")"]})}),l.jsx(Ie,{children:n?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(ob,{className:"h-6 w-6 animate-spin mr-2"}),l.jsx("span",{children:"Carregando logs..."})]}):e.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l.jsx("p",{children:"Nenhum log encontrado."})}):l.jsx(Cs,{className:"h-[600px]",children:l.jsx("div",{className:"space-y-3",children:e.map(p=>l.jsx("div",{className:"border rounded-lg p-4 bg-card",children:l.jsx("div",{className:"flex items-start justify-between gap-4",children:l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(it,{className:d(p.level),children:p.level.toUpperCase()}),l.jsx(it,{variant:"outline",children:p.component}),l.jsx("span",{className:"text-sm text-muted-foreground",children:XE(new Date(p.created_at),{addSuffix:!0})})]}),l.jsx("p",{className:"text-sm font-medium",children:p.message}),p.context&&l.jsxs("details",{className:"text-xs",children:[l.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"Ver contexto"}),l.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(p.context,null,2)})]}),p.platform&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Plataforma:"})," ",p.platform]})]})})},p.id))})})})]})]}):l.jsx("div",{className:"container mx-auto p-6",children:l.jsx(he,{children:l.jsx(Ie,{className:"flex items-center justify-center py-8",children:l.jsx("p",{children:"Você precisa estar logado para ver os logs de debug."})})})})},Y8e=()=>{const t=dp();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Yy=({children:t,requiredUserType:e})=>{const{user:r,profile:n,loading:i}=tr(),s=Rd();return j.useEffect(()=>{if(!i){if(!r){s("/login",{replace:!0});return}e&&(n==null?void 0:n.user_type)!==e&&((n==null?void 0:n.user_type)==="athlete"?s("/athlete-dashboard",{replace:!0}):(n==null?void 0:n.user_type)==="professional"?s("/professional-dashboard",{replace:!0}):s("/login",{replace:!0}))}},[r,n,i,s,e]),i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!r||e&&(n==null?void 0:n.user_type)!==e?null:l.jsx(l.Fragment,{children:t})},X8e=new aae,Z8e=()=>l.jsx(lae,{client:X8e,children:l.jsxs(Ise,{children:[l.jsx(bne,{}),l.jsx(Qne,{}),l.jsx(ooe,{children:l.jsxs(Jae,{children:[l.jsx(mo,{path:"/",element:l.jsx(Lpe,{})}),l.jsx(mo,{path:"/login",element:l.jsx(qye,{})}),l.jsx(mo,{path:"/register",element:l.jsx(Pxe,{})}),l.jsx(mo,{path:"/athlete-dashboard",element:l.jsx(Yy,{requiredUserType:"athlete",children:l.jsx(z8e,{})})}),l.jsx(mo,{path:"/athlete-settings",element:l.jsx(Yy,{requiredUserType:"athlete",children:l.jsx(B8e,{})})}),l.jsx(mo,{path:"/login-logs",element:l.jsx(Yy,{requiredUserType:"athlete",children:l.jsx(G8e,{})})}),l.jsx(mo,{path:"/debug-logs",element:l.jsx(Yy,{requiredUserType:"athlete",children:l.jsx(K8e,{})})}),l.jsx(mo,{path:"/professional-dashboard",element:l.jsx(Yy,{requiredUserType:"professional",children:l.jsx(q8e,{})})}),l.jsx(mo,{path:"*",element:l.jsx(Y8e,{})})]})})]})});"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(t=>{console.log("Service Worker registrado:",t)}).catch(t=>{console.error("Erro ao registrar Service Worker:",t)});CH(document.getElementById("root")).render(l.jsx(Z8e,{}));export{s$ as W,Ir as _,Gy as m,i$ as r,ce as s};
